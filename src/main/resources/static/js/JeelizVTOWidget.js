 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(fa){var na=0;return function(){return na<fa.length?{done:!1,value:fa[na++]}:{done:!0}}};$jscomp.arrayIterator=function(fa){return{next:$jscomp.arrayIteratorImpl(fa)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(fa,na,wa){if(fa==Array.prototype||fa==Object.prototype)return fa;fa[na]=wa.value;return fa};$jscomp.getGlobal=function(fa){fa=["object"==typeof globalThis&&globalThis,fa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var na=0;na<fa.length;++na){var wa=fa[na];if(wa&&wa.Math==Math)return wa}throw Error("Cannot find global object");};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(fa,na){var wa=$jscomp.propertyToPolyfillSymbol[na];if(null==wa)return fa[na];wa=fa[wa];return void 0!==wa?wa:fa[na]};
$jscomp.polyfill=function(fa,na,wa,Ha){na&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(fa,na,wa,Ha):$jscomp.polyfillUnisolated(fa,na,wa,Ha))};$jscomp.polyfillUnisolated=function(fa,na,wa,Ha){wa=$jscomp.global;fa=fa.split(".");for(Ha=0;Ha<fa.length-1;Ha++){var qa=fa[Ha];if(!(qa in wa))return;wa=wa[qa]}fa=fa[fa.length-1];Ha=wa[fa];na=na(Ha);na!=Ha&&null!=na&&$jscomp.defineProperty(wa,fa,{configurable:!0,writable:!0,value:na})};
$jscomp.polyfillIsolated=function(fa,na,wa,Ha){var qa=fa.split(".");fa=1===qa.length;Ha=qa[0];Ha=!fa&&Ha in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var qb=0;qb<qa.length-1;qb++){var ma=qa[qb];if(!(ma in Ha))return;Ha=Ha[ma]}qa=qa[qa.length-1];wa=$jscomp.IS_SYMBOL_NATIVE&&"es6"===wa?Ha[qa]:null;na=na(wa);null!=na&&(fa?$jscomp.defineProperty($jscomp.polyfills,qa,{configurable:!0,writable:!0,value:na}):na!==wa&&($jscomp.propertyToPolyfillSymbol[qa]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(qa):
$jscomp.POLYFILL_PREFIX+qa,qa=$jscomp.propertyToPolyfillSymbol[qa],$jscomp.defineProperty(Ha,qa,{configurable:!0,writable:!0,value:na})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(fa){if(fa)return fa;var na=function(qa,qb){this.$jscomp$symbol$id_=qa;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:qb})};na.prototype.toString=function(){return this.$jscomp$symbol$id_};var wa=0,Ha=function(qa){if(this instanceof Ha)throw new TypeError("Symbol is not a constructor");return new na("jscomp_symbol_"+(qa||"")+"_"+wa++,qa)};return Ha},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(fa){if(fa)return fa;fa=Symbol("Symbol.iterator");for(var na="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),wa=0;wa<na.length;wa++){var Ha=$jscomp.global[na[wa]];"function"===typeof Ha&&"function"!=typeof Ha.prototype[fa]&&$jscomp.defineProperty(Ha.prototype,fa,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return fa},
"es6","es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(fa){fa={next:fa};fa[Symbol.iterator]=function(){return this};return fa};$jscomp.makeIterator=function(fa){var na="undefined"!=typeof Symbol&&Symbol.iterator&&fa[Symbol.iterator];return na?na.call(fa):$jscomp.arrayIterator(fa)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(fa){function na(){this.batch_=null}function wa(ma){return ma instanceof qa?ma:new qa(function(Ba,Na){Ba(ma)})}if(fa&&!$jscomp.FORCE_POLYFILL_PROMISE)return fa;na.prototype.asyncExecute=function(ma){if(null==this.batch_){this.batch_=[];var Ba=this;this.asyncExecuteFunction(function(){Ba.executeBatch_()})}this.batch_.push(ma)};var Ha=$jscomp.global.setTimeout;na.prototype.asyncExecuteFunction=function(ma){Ha(ma,0)};na.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var ma=this.batch_;this.batch_=[];for(var Ba=0;Ba<ma.length;++Ba){var Na=ma[Ba];ma[Ba]=null;try{Na()}catch(Za){this.asyncThrow_(Za)}}}this.batch_=null};na.prototype.asyncThrow_=function(ma){this.asyncExecuteFunction(function(){throw ma;})};var qa=function(ma){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var Ba=this.createResolveAndReject_();try{ma(Ba.resolve,Ba.reject)}catch(Na){Ba.reject(Na)}};qa.prototype.createResolveAndReject_=function(){function ma(Za){return function(hb){Na||
(Na=!0,Za.call(Ba,hb))}}var Ba=this,Na=!1;return{resolve:ma(this.resolveTo_),reject:ma(this.reject_)}};qa.prototype.resolveTo_=function(ma){if(ma===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(ma instanceof qa)this.settleSameAsPromise_(ma);else{a:switch(typeof ma){case "object":var Ba=null!=ma;break a;case "function":Ba=!0;break a;default:Ba=!1}Ba?this.resolveToNonPromiseObj_(ma):this.fulfill_(ma)}};qa.prototype.resolveToNonPromiseObj_=function(ma){var Ba=void 0;
try{Ba=ma.then}catch(Na){this.reject_(Na);return}"function"==typeof Ba?this.settleSameAsThenable_(Ba,ma):this.fulfill_(ma)};qa.prototype.reject_=function(ma){this.settle_(2,ma)};qa.prototype.fulfill_=function(ma){this.settle_(1,ma)};qa.prototype.settle_=function(ma,Ba){if(0!=this.state_)throw Error("Cannot settle("+ma+", "+Ba+"): Promise already settled in state"+this.state_);this.state_=ma;this.result_=Ba;this.executeOnSettledCallbacks_()};qa.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var ma=0;ma<this.onSettledCallbacks_.length;++ma)qb.asyncExecute(this.onSettledCallbacks_[ma]);this.onSettledCallbacks_=null}};var qb=new na;qa.prototype.settleSameAsPromise_=function(ma){var Ba=this.createResolveAndReject_();ma.callWhenSettled_(Ba.resolve,Ba.reject)};qa.prototype.settleSameAsThenable_=function(ma,Ba){var Na=this.createResolveAndReject_();try{ma.call(Ba,Na.resolve,Na.reject)}catch(Za){Na.reject(Za)}};qa.prototype.then=function(ma,Ba){function Na(nb,tb){return"function"==
typeof nb?function(Sb){try{Za(nb(Sb))}catch(Kb){hb(Kb)}}:tb}var Za,hb,Eb=new qa(function(nb,tb){Za=nb;hb=tb});this.callWhenSettled_(Na(ma,Za),Na(Ba,hb));return Eb};qa.prototype.catch=function(ma){return this.then(void 0,ma)};qa.prototype.callWhenSettled_=function(ma,Ba){function Na(){switch(Za.state_){case 1:ma(Za.result_);break;case 2:Ba(Za.result_);break;default:throw Error("Unexpected state: "+Za.state_);}}var Za=this;null==this.onSettledCallbacks_?qb.asyncExecute(Na):this.onSettledCallbacks_.push(Na)};
qa.resolve=wa;qa.reject=function(ma){return new qa(function(Ba,Na){Na(ma)})};qa.race=function(ma){return new qa(function(Ba,Na){for(var Za=$jscomp.makeIterator(ma),hb=Za.next();!hb.done;hb=Za.next())wa(hb.value).callWhenSettled_(Ba,Na)})};qa.all=function(ma){var Ba=$jscomp.makeIterator(ma),Na=Ba.next();return Na.done?wa([]):new qa(function(Za,hb){function Eb(Sb){return function(Kb){nb[Sb]=Kb;tb--;0==tb&&Za(nb)}}var nb=[],tb=0;do nb.push(void 0),tb++,wa(Na.value).callWhenSettled_(Eb(nb.length-1),hb),
Na=Ba.next();while(!Na.done)})};return qa},"es6","es3");$jscomp.owns=function(fa,na){return Object.prototype.hasOwnProperty.call(fa,na)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(fa,na){for(var wa=1;wa<arguments.length;wa++){var Ha=arguments[wa];if(Ha)for(var qa in Ha)$jscomp.owns(Ha,qa)&&(fa[qa]=Ha[qa])}return fa};$jscomp.polyfill("Object.assign",function(fa){return fa||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Math.log2",function(fa){return fa?fa:function(na){return Math.log(na)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(fa){return fa?fa:function(na){return this.then(function(wa){return Promise.resolve(na()).then(function(){return wa})},function(wa){return Promise.resolve(na()).then(function(){throw wa;})})}},"es9","es3");$jscomp.polyfill("Math.sign",function(fa){return fa?fa:function(na){na=Number(na);return 0===na||isNaN(na)?na:0<na?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function fa(){Ta.mode=ib.realtime;Ta.isRT=!0;sa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(sa.adjust){sa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");sa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");sa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");sa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var U=sa.adjust;U&&U.addEventListener("click",nb,!1);(U=sa.adjustExit)&&
U.addEventListener("click",tb,!1);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(wa)}Lb.enabled&&Wa.do_instantDetection(Lb.interval,Lb.callback);Tb&&(Tb(!0),Tb=null)}function na(){var U=document.createElement("style");U.setAttribute("type","text/css");U.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var Aa=document.getElementsByTagName("head");1<=Aa.length?Aa[0].appendChild(U):document.body.appendChild(U)}function wa(U){U&&
(U.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(U).display&&U.classList.add("_jeelizVTOForceShow"))}function Ha(U){U&&(U.classList.add("_jeelizVTOForceHide"),U.classList.remove("_jeelizVTOForceShow"))}function qa(U,Aa){if(U)for(var Pa in Aa)U.style[Pa]=Aa[Pa]}function qb(U){if(U)return U.clientWidth}function ma(U){if(U)return U.clientHeight}function Ba(U){return new Promise(function(Aa,Pa){var Ia=new XMLHttpRequest;Ia.open("GET",U,!0);Ia.onreadystatechange=function(){if(4===
Ia.readyState)if(200===Ia.status||0===Ia.status)try{var jb=JSON.parse(Ia.responseText);Aa(jb)}catch(Xa){Pa("INVALID JSON")}else Pa("HTTP ERROR "+Ia.status)};Ia.send()})}function Na(U){Ta.isRT=!1;hb(U||"NO_ERROR_LABEL")}function Za(){hb("INVALID_SKU")}function hb(U){pc.error?pc.error(U):console.log("ERROR:",U)}function Eb(){bc=qb(sa.container);cc=ma(sa.container);console.log("INFO in JeelizVTOWidget.resize: _width ="+bc.toString()+" _height ="+cc.toString()+" oFactor = "+(1).toString());dc=Math.round(1*
bc);ec=Math.round(1*cc);qa(sa.cv,{width:bc.toString()+"px",height:cc.toString()+"px"});sa.cv.width=dc;sa.cv.height=ec;Wa&&(Ta.mode===ib.notLoaded?Wa.set_size(dc,ec,!1):Wa.resize(dc,ec,!1))}function nb(){[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(Ha);Ta.mode=ib.adjust;[sa.adjustNotice,sa.adjustExit].forEach(wa);sa.cv.style.cursor="move";Wa.switch_modeInteractor("movePinch");fc("ADJUST_START")}function tb(){[sa.adjustNotice,sa.adjustExit].forEach(Ha);[sa.adjust,sa.changeModelContainer,
sa.buttonResizeCanvas].forEach(wa);sa.cv.style.cursor="auto";Ta.mode=Ta.realtime;Wa.switch_modeInteractor("idle");fc("ADJUST_END")}function Sb(){if(!sa.trackIframe){var U=gc.appstaticURL+"jeewidget/";sa.trackIframe=document.createElement("iframe");sa.trackIframe.width="10";sa.trackIframe.height="10";sa.trackIframe.src=U+"trackIframe.html";qa(sa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});sa.container.appendChild(sa.trackIframe)}}function Kb(U,Aa,Pa){Wa.load_model(Aa.mod+
".json",Aa.mats,function(){Ta.mode=ib.realtime;Pa&&Pa();rb.toggle_loading(!1);if(sa.trackIframe){var Ia=location.href.split("?").shift().split("://").pop();Ia=Ia.split("/").shift();Ia=Ia.split("www.").pop();try{sa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ia,sku:U},"*")}catch(jb){}}},U)}function fc(U){(U=xc[U])&&U()}var Wa=function(){function U(a,b){if(b)a:{var e=yc;a=a.split(".");for(var d=0;d<a.length-1;d++){var n=a[d];if(!(n in e))break a;e=e[n]}a=a[a.length-1];d=
e[a];b=b(d);b!=d&&null!=b&&Oc(e,a,{configurable:!0,writable:!0,value:b})}}function Aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function Pa(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:Aa(a)}}function Ia(a,b){return a[0]*(1-b)+a[1]*b}function jb(a,b){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||b(e.responseText)};
e.send()}function Xa(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var e in a)a[e]=Xa(a[e],b);return a}function Db(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ea(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";
case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function ab(a,b){var e=b%8;return a[(b-e)/8]>>7-e&1}function ob(a,b,e){var d=1,n=0;for(e=b+e-1;e>=b;--e)n+=d*ab(a,e),d*=2;return n}function xb(a){var b=null;"undefined"===typeof btoa?b=Buffer.from(a.data,"base64").toString("latin1"):b=atob(a.data);a=b.length;for(var e=new Uint8Array(a),d=0;d<a;++d)e[d]=b.charCodeAt(d);return e}function yb(a){var b=JSON.parse(a);a=b.nb;var e=
b.n;b=xb(b);for(var d=new Uint32Array(e),n=0;n<e;++n)d[n]=ob(b,n*a,a);return d}function Fb(a){var b=JSON.parse(a);a=b.ne;var e=b.nf,d=b.n;b=xb(b);for(var n=new Float32Array(d),m=new Float32Array(e),r=a+e+1,h=0;h<d;++h){var q=r*h,p=0===ab(b,q)?1:-1,E=ob(b,q+1,a);q=q+1+a;for(var H=m.length,u=0,y=q;y<q+H;++y)m[u]=ab(b,y),++u;for(H=q=0;H<e;++H)q+=m[H]*Math.pow(2,-H-1);n[h]=0===q&&0===E?0:p*(1+q)*Math.pow(2,1+E-Math.pow(2,a-1))}return n}function Ub(a){var b=null,e=null,d=null,n=0;this.h=function(m){this.On(m.Cd);
d.Sk({Wf:m.Wf,Tf:m.Tf})};this.Kl=function(m){return b[m]};this.On=function(m){var r=null;n=m.length;b=m.map(function(h,q){h=Object.assign({},h,{index:q,parent:this,Od:r,rm:q===n-1});return r=0===q?Pc.instance(h):Qc.instance(h)});e=b[0];d=b[n-1];b.forEach(function(h,q){0!==q&&h.an()})};this.xa=function(m){var r=m;b.forEach(function(h){r=h.xa(r,!1)});return r};this.Jl=function(){return e.I()};this.df=function(){return d.Nl()};this.Ah=function(){return d.Ah()};this.u=function(){b&&(b.forEach(function(m){m.u()}),
d=e=b=null,n=0)};"undefined"!==typeof a&&this.h(a)}function zb(a,b){a[b]=!0;a.setAttribute(b,"true")}function Mb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function hc(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Vb(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Wb(a){if(!a)return a;
var b=null;if(a.video){var e=function(d){return d&&"object"===typeof d?Object.assign({},d):d};b={};"undefined"!==typeof a.video.width&&(b.width=e(a.video.width));"undefined"!==typeof a.video.height&&(b.height=e(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=e(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&ic(b,a.deviceId);return b}function ic(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)}
function Xb(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}function Yb(a){function b(u){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(y,B){return Math.abs(y-u)-Math.abs(B-u)})}function e(u){var y=Wb(a);u=u(y);n.push(u);d(u)}function d(u){if(u.video&&u.video.facingMode&&u.video.facingMode.exact){var y=u.video.facingMode.exact;u=Wb(u);delete u.video.facingMode.exact;u.video.facingMode.ideal=y;n.push(u)}}var n=[];if(!a||!a.video)return n;
d(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var m=b(a.video.width.ideal).slice(0,3),r=b(a.video.height.ideal).slice(0,3),h={},q=0;for(h.jb=void 0;q<m.length;h={jb:h.jb},++q){h.jb=m[q];var p={},E=0;for(p.ib=void 0;E<r.length;p={ib:p.ib},++E)if(p.ib=r[E],h.jb!==a.video.width.ideal||p.ib!==a.video.height.ideal){var H=Math.max(h.jb,p.ib)/Math.min(h.jb,p.ib);H<4/3-.1||H>16/9+.1||e(function(u,y){return function(B){B.video.width.ideal=u.jb;B.video.height.ideal=y.ib;
return B}}(h,p))}}}e(function(u){return Xb(u)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&e(function(u){delete u.video.width.ideal;delete u.video.height.ideal;return u}),e(function(u){delete u.video.width;delete u.video.height;return u}));a.video.facingMode&&(e(function(u){delete u.video.facingMode;return u}),a.video.width&&a.video.height&&e(function(u){Xb(u);delete u.video.facingMode;return u}));n.push({audio:a.audio,video:!0});return n}function jc(a){try{var b=window.matchMedia("(orientation: portrait)").matches?
!0:!1}catch(d){b=window.innerHeight>window.innerWidth}if(b&&a&&a.video){b=a.video.width;var e=a.video.height;b&&e&&b.ideal&&e.ideal&&b.ideal>e.ideal&&(a.video.height=b,a.video.width=e)}}function Gb(a){a.volume=0;zb(a,"muted");if(Vb()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;zb(a,"muted")},
5)}}function Rc(a){var b=Da.element,e=Da.eh;return null===b?Promise.resolve():new Promise(function(d,n){if(b.srcObject&&b.srcObject.getVideoTracks){var m=b.srcObject.getVideoTracks();1!==m.length?n("INVALID_TRACKNUMBER"):(m=m[0],a?zc(b,d,n,e):(m.stop(),d()))}else n("BAD_IMPLEMENTATION")})}function Ac(a,b,e,d){function n(r){m||(m=!0,e(r))}var m=!1;navigator.mediaDevices.getUserMedia(d).then(function(r){function h(){setTimeout(function(){if(a.currentTime){var p=a.videoWidth,E=a.videoHeight;if(0===p||
0===E)n("VIDEO_NULLSIZE");else{p&&(a.style.width=p.toString()+"px");E&&(a.style.height=E.toString()+"px");p={Ok:null,og:null,Nm:null};try{var H=r.getVideoTracks()[0];H&&(p.Nm=H,p.Ok=H.getCapabilities(),p.og=H.getSettings())}catch(u){}Vb()||Mb()?a.parentNode&&null!==a.parentNode?(m||b(a,r,p),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Gb(a),m||b(a,r,p),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right=
"0px";Gb(a);setTimeout(function(){a.play()},100)},80)):m||b(a,r,p)}}else n("VIDEO_NOTSTARTED")},700)}function q(){a.removeEventListener("loadeddata",q,!1);var p=a.play();Gb(a);"undefined"===typeof p?h():p.then(function(){h()}).catch(function(){n("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=r:(a.src=window.URL.createObjectURL(r),a.videoStream=r);Gb(a);a.addEventListener("loadeddata",q,!1)}).catch(function(r){n(r)})}function zc(a,b,e,d){if(a)if(navigator.mediaDevices&&
navigator.mediaDevices.getUserMedia){if(d&&d.video){if(Mb()){var n=hc();0!==n[0]&&(12>n[0]||12===n[0]&&2>n[1])&&jc(d)}d.video.width&&d.video.width.ideal&&(a.style.width=d.video.width.ideal+"px");d.video.height&&d.video.height.ideal&&(a.style.height=d.video.height.ideal+"px")}zb(a,"autoplay");zb(a,"playsinline");d&&d.audio?a.volume=0:zb(a,"muted");Ac(a,b,function(){function m(h){if(0===h.length)e("INVALID_FALLBACKCONSTRAINTS");else{var q=h.shift();Ac(a,b,function(){m(h)},q)}}var r=Yb(d);m(r)},d)}else e&&
e("MEDIASTREAMAPI_NOTFOUND");else e&&e("VIDEO_NOTPROVIDED")}function Sc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Tc(){function a(){var N=kc.Xe;Nb=N*J.width;Ob=N*J.height}function b(){++I;
2===I&&(q(),oa.Sh(),oa.rj(),oa.Bn(),Q.Uc.forEach(function(N){N()}),Q.Uc.splice(0),S.model&&!Q.isBusy&&oa.ki(S.model))}function e(){Ab.reset();ub.stop();m(0)}function d(N){db&&(ta.on(db),db.remove());ta.Wj(N);db=N}function n(N){C=N;ub.update({ka:C})}function m(N){ia=-1;ca?ia=ja:ra.isEnabled?ia=ra.vi:T?(h(),ia=t===P.U?Ab.P():1):(ia=J.Sc[0],h());xa.fa();for(var Y=0;Y<ia;++Y)Z.set("s55"),K.yd.K(),K.Ab.a(0),w.Gc.a(1),W.g(!1,!1),K.yd.a(0),A.xa(K.yd);ca?(pa(),ca=!1,c.flush(),ub.bg(m)):(ta.animate(N),K.Zf&&
l-G.hi>G.sj&&J.Yb&&t===P.U&&(xa.fa(),G.hi=l,G.Md.K(),Z.set("s63"),K.Zf.a(0),W.g(!1,!1),ua.kb.Fj(Da.ia,G.Md,G.Xd),xa.X()),ra.isEnabled||(T&&(Ab.wj(),Y=Ab.Bh(1),ba=Ia(J.Yj,Y),J.Yb&&t===P.U&&(G.sj=Ia(J.ji,Y),G.Xd=Ia(J.Fm,Y),G.Xd=Math.min(G.Xd,.5))),l=N,t!==P.Aa&&ub.bg(m)))}function r(){l=Date.now();T=!0}function h(){var N=Da.element.currentTime-Ya;0>N&&(Ya=Da.element.currentTime);1E3*N<J.Eo||(Da.ia.refresh(),Ya+=N,Da.kd=N,x=!0,xa.fa(),Z.set("s0"),w.Ji.K(),w.Gc.Ck(0),W.g(!1,!0),Z.set("s53"),K.Ab.K(),
Da.ia.a(0),W.g(!1,!1),null!==K.Cb&&(Z.set("s54"),K.Rc.i(),K.Ab.a(0),K.Cb.a(1),W.g(!1,!1)))}function q(){K.Hj=X.instance({isPot:!0,isLinear:!0,isFloat:!1,url:J.Y+J.ua+J.Fo});var N={isPot:!1,isLinear:!0,isFloat:!1,width:Nb,height:Ob};K.Ab=X.instance(N);K.Rc=X.instance(N);g.tj.push(K.Ab,K.Rc);K.yd=X.instance({isPot:!0,isFloat:!1,width:A.Jl()});J.Ed&&(Qa=X.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(J.Kf||-1!==J.Jf.indexOf("//")?"":J.Y+J.ua)+J.Jf}))}function p(){function N(){return{width:3,height:1,
isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var Y={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};w.Gc=Bc.instance(N());w.Ji=X.instance(N());w.Pc=X.instance(N());w.Ld=Bc.instance(N());w.Re=X.instance(Y);Y={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};w.Hg=X.instance(Y);w.ie=X.instance(Y);G.Md=X.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function E(N){K.Zf=
N;if(x){x=!1;Z.set("s61");w.Hg.K();w.ie.a(2);var Y=Ia(J.Ek,Ab.Bh(.5));Z.C("u58",Y);w.Ji.a(1);Z.C("u59",1E3*Da.kd);W.g(!1,!1);Z.set("s62");w.ie.i();w.Hg.a(0);W.g(!1,!1)}N.a(0);w.Gc.aj(1);c.viewport(0,0,1,1);Z.set("s56");Z.mg("u43",Cc.get(0));W.g(!1,!1);Z.set("s57");c.viewport(1,0,2,1);W.g(!1,!1);w.Re.K();Z.set("s58");Z.L("u51",J.we[0]*ba,J.we[1]);w.Gc.a(0);w.Ld.a(1);W.g(!1,!1);Z.set("s59");w.Ld.aj(1);w.Re.a(0);w.ie.a(2);w.Gc.a(3);W.g(!1,!1);Z.set("s60");w.Ld.a(0);w.Pc.i();W.g(!1,!1)}function H(){var N=
J.Y,Y=J.qe.split("://").shift();if("http"===Y||"https"===Y)N="";N+=J.qe;"json"!==N.split(".").pop()&&(N+=J.neuralNetworkPath);jb(N,function(ka){ka=JSON.parse(ka);A=new Ub({Cd:ka.layers,Wf:"gpuRawAvg",Tf:E});b()})}var u=[-1,-1],y=null,B=[.5,0,0,.5],g={fb:null,Ub:!1,Ea:!1,tj:[]},f=[0,J.Ha[1],J.Ha[2]],C=J.ka,L=null,A=null;a();var v=[0,0,0],k=1,M=0,K={Ab:null,Rc:null,yd:null,Hj:null,Zf:null,Cb:null},w={raw:null,Sp:null,Pc:null,Ld:null,Re:null,Hg:null,ie:null},l=0,x=!1,G={gb:null,Bb:null,Hd:null,hi:0,
sj:J.ji[1],Xd:.1,Md:null},I=0,O=!1,T=!0,ba=1,ia=-1,P={Aa:-1,U:0,Ja:1,jc:2,kc:3},t=P.U,z=null,D=P.U,R=!1,ca=!1,ja=1,pa=!1,ra={isEnabled:!1,Pe:null,Za:null,vi:0},Qa=null,Ma=-1,Oa=!1,la=!1,ha=!1,V=[0,0,0],ea=1,ya,La,Ja,Fa={Ha:[0,0,0],wb:1,Ic:0,wa:0,pa:0,ma:J.ma},vb=[0,0,0],Ga={scale:1,offsetX:0,offsetY:0},Ya=0,oa={Rh:function(){a();u[0]=1;u[1]=Nb/Ob;Cc.h({Kd:J.scanOverlapFactors,ui:J.scanNScaleLevels,ta:Nb,rf:Ob,Si:J.scanScale0Factor,Sa:J.Sa,Ti:!0});Ma=J.width>J.height?[J.width/J.height,1]:[1,J.height/
J.width];g.Ea=!0},h:function(){Z.ve([{id:"s53",name:"_",j:"attribute vec2 a0;uniform mat2 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u38*a0;}",D:["a0"],M:[2],b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u38"],precision:"lowp"},{id:"s55",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;uniform float u41;const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.84,.5),p=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 j=a.gb,b=a.a*u40;vec4 k=texture2D(u39,g);float l=k.y;vec2 m=vec2(mix(1.,1./cos(l),u41),1.);b*=m;vec2 n=a0*.5;float c=texture2D(u39,h).r,d=cos(c),e=sin(c);vec2 o=mat2(d,e,-e,d)*n;vv0=j+o*b,gl_Position=vec4(a0,0.,1.);}",
D:["a0"],M:[2],c:["u1","u39","u40","u41"],precision:"lowp"},{id:"s56",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42,u39;uniform vec3 u43,u44;uniform float u45,u46;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5);void main(){vec4 b=texture2D(u42,vec2(.625,.625)),c=texture2D(u42,vec2(.875,.625));float d=dot(b-c,e);bool g=d>u46;vec4 a=texture2D(u39,f);g?a.r=2.:a.r>u45?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float h=dot(e,texture2D(u42,vec2(.875,.875))),i=dot(e,texture2D(u42,vec2(.125,.625))),j=dot(e,texture2D(u42,vec2(.375,.625)));a.r*=step(1.9,a.r),a.gba+=vec3(h,i,j)*u44*a.a;}gl_FragColor=a;}",
c:"u42 u39 u43 u45 u44 u46".split(" ")},{id:"s57",name:"_",b:"uniform sampler2D u42,u39;uniform vec3 u47,u48;uniform vec2 u49;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u39,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u49.x,u49.y,m);vec4 n=texture2D(u39,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u48+s*u47;float c=texture2D(u39,i).r,d=b.z*.07;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
c:["u42","u39","u49","u47","u48"]},{id:"s58",name:"_",b:"uniform sampler2D u39,u50;uniform vec2 u51;uniform float u52,u53;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u39,vv0),d=texture2D(u50,vv0),o=texture2D(u39,g),j=texture2D(u50,g);float k=pow(j.a,u53),l=mix(u51.x,u51.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u52*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
c:["u39","u50","u51","u52","u53"],precision:"highp"},{id:"s59",name:"_",b:"uniform sampler2D u50,u54,u55,u56;const vec4 k=vec4(1.,1.,1.,1.);const vec2 f=vec2(.25,.5),g=vec2(.75,.5),h=vec2(.5,.5);varying vec2 vv0;void main(){float c=step(.33,vv0.x)*step(vv0.x,.66),l=step(.66,vv0.x);vec4 d=texture2D(u56,h);float a=d.a;a*=texture2D(u55,f).a,a*=texture2D(u55,g).a;vec4 i=texture2D(u50,vv0),j=texture2D(u54,vv0),b=i+j;b.a=mix(b.a,a,c),gl_FragColor=b;}",c:["u50","u54","u55","u56"],precision:"highp"},{id:"s60",
name:"_",b:"uniform sampler2D u39;uniform float u57;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,vv0);float b=step(vv0.x,.33),c=texture2D(u39,f).g;a.a+=b*a.a*u57*abs(sin(c)),gl_FragColor=a;}",c:["u39","u57"],precision:"highp"},{id:"s61",name:"_",b:"uniform sampler2D u39,u55,u42;uniform vec3 u47,u48;uniform float u58,u59;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u39,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u55,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u42,k)),o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m));vec3 q=mix(i,u47,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u48+b-r,a)/u59;vec4 s=mix(vec4(b,0.),j,vec4(u58*g,0.));gl_FragColor=s;}",
c:"u39 u55 u42 u58 u59 u47 u48".split(" "),precision:"highp"},{id:"s62",name:"_",b:"uniform sampler2D u55;uniform vec2 u61,u62;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u61.x,u62.x,a),d=mix(u61.y,u62.y,a);vec3 b=texture2D(u55,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",c:["u55","u61","u62"],precision:"highp"},{id:"s63",name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform sampler2D u42;const vec4 g=vec4(1.,1.,1.,1.),h=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.25,.25)),e),b=dot(texture2D(u42,vec2(.5,.25)),e),c=f/2.*dot(texture2D(u42,vec2(.75,.25)),e),d=4.18*dot(texture2D(u42,vec2(0.,.25)),e);gl_FragColor=vec4(d,a,b,c);}",
c:["u42"]},{id:"s54",name:"_",b:"uniform sampler2D u1,u63;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u63);}",
c:["u1","u63"]}]);p();H();ub.h({Zh:!1,ka:C});Ab.h({Rf:0,n:J.Sc[1]-J.Sc[0]+1,ii:J.Sc[0]});Q.set_videoRotation=function(N){$a.rotate=N;Q.ready&&(eb.ng(Da.element.videoWidth,Da.element.videoHeight),eb.ug())};Q.set_viewRotation=function(){};Q.set_LUT=function(N){N?X.instance({url:N,isFloat:!1,isFlipY:!1,N:function(Y){K.Cb=Y;oa.Oc()}}):(K.Cb=null,oa.Oc())};Q.resize=function(N,Y,ka){function Ca(){ub.stop();g.fb&&(clearTimeout(g.fb),g.fb=null);if(!g.Ub)if(J.width===Ra&&J.height===bb)e();else if(t!==P.U&&
t!==P.Ja)g.fb=setTimeout(Ca,J.Qi);else{var lb="undefined"===typeof sb?!1:sb.get_mode(),kb=t;t=P.Aa;ca=g.Ub=!0;pa=function(){ca=!1;g.Ub=!1;r();n(J.ka);L&&clearTimeout(L);L=!1;t=kb};J.width=Ra;J.height=bb;oa.Rh();oa.Sh();g.tj.forEach(function(Va){Va.resize(Ra,bb)});aa.resize(Nb,Ob);oa.Oc();eb.ng(Da.element.videoWidth?Da.element.videoWidth:Da.element.width,Da.element.videoHeight?Da.element.videoHeight:Da.element.height);eb.ug();eb.rj();e();t===P.Ja&&(t=P.U,Q.switch_viewer3D(!0,!1));lb&&sb.switch_mode(lb)}}
if(Q.ready){g.fb&&(clearTimeout(g.fb),g.fb=null);ub.stop();ka=ka?kc.Xe:1;var Ra=N*ka,bb=Y*ka;g.fb=setTimeout(Ca,J.Qi)}}},u:function(){ub.u();return new Promise(function(N){Q.switch_sleep(!0,!0).finally(function(){A&&A.u();aa.u();fb.u();c&&(c=null);A=null;J.Kf=!1;db=null;T=!0;ba=1;ia=-1;t=P.U;z=null;D=P.U;Object.assign(Da,Dc);Object.assign(J,Ec);N()}).catch(function(){})})},Sh:function(){Z.f("s55",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:u},{type:"1f",
name:"u41",value:J.$k}]);Z.f("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u45",value:J.mo},{type:"1f",name:"u46",value:J.al},{type:"3f",name:"u44",value:[J.Sa[0]*u[0],J.Sa[1]*u[1],J.Sa[2]]}]);Z.f("s57",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u49",value:J.dn},{type:"3f",name:"u47",value:[-J.ya[0],-J.ya[1],J.ya[2]]},{type:"3f",name:"u48",value:J.vj}]);Z.f("s58",[{type:"1i",name:"u39",value:0},{type:"1i",name:"u50",value:1},
{type:"2f",name:"u51",value:J.we},{type:"1f",name:"u52",value:J.tn},{type:"1f",name:"u53",value:J.cn}]);Z.f("s59",[{type:"1i",name:"u50",value:1},{type:"1i",name:"u54",value:0},{type:"1i",name:"u55",value:2},{type:"1i",name:"u56",value:3}]);Z.f("s60",[{type:"1i",name:"u39",value:0},{type:"1f",name:"u57",value:J.xn}]);Z.f("s61",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u39",value:1},{type:"1i",name:"u55",value:2},{type:"3f",name:"u47",value:[-J.ya[0],-J.ya[1],J.ya[2]]},{type:"3f",name:"u48",
value:J.vj}]);Z.f("s62",[{type:"1i",name:"u55",value:0},{type:"2f",name:"u61",value:J.no},{type:"2f",name:"u62",value:J.un}]);Z.f("s63",[{type:"1i",name:"u42",value:0}]);Z.f("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u63",value:1}])},Oc:function(){ta.Zi(w.Pc,null===K.Cb?K.Ab:K.Rc,G.Md,K.Hj)},Ml:function(){return Ga},fj:function(N){Ga=N},ee:function(){vb[0]=v[0]-Ga.offsetX;vb[1]=v[1]+Ga.offsetY;vb[2]=v[2];ta.En(f,Fa.Ha,vb)},fe:function(){ta.Fn(k*J.wb,Fa.wb,Ga.scale)},Dj:function(){ta.Gn(M+
Fa.Ic)},to:function(){ta.Cn(J.wa+Fa.wa,J.pa+Fa.pa)},vo:function(){ta.Dn((0===Fa.ma[0]&&0===Fa.ma[1]?J:Fa).ma)},ge:function(){oa.ee();oa.fe();oa.Dj();oa.to();oa.vo()},wn:function(){ub.stop();z&&(clearInterval(z),z=null);ra.isEnabled=!0;ra.vi=0;Oa=ta.Ll();la=db.Hh();ha=db.Fh();ea=Fa.wb;V=Fa.Ha;ya=Fa.ma;La=Fa.wa;Ja=Fa.pa;ca=!1;ta.Yd(!1)},sn:function(N){function Y(){2===++ka&&(ra.isEnabled=!1,Fa.wb=ea,Fa.Ha=V,Fa.ma=ya,Fa.wa=La,Fa.pa=Ja,oa.ge(),ta.sa(Oa),e(),N&&N())}var ka=0;t===P.jc?t=P.Ja:t===P.kc&&
(t=P.U);ta.ab(t===P.U?0:1);db.replace(la,Y);db.hg(ha,Y);oa.Oc();ta.Yd(!0)},rj:function(){var N=Math.tan(Da.Ob/2);ta.Yi({Ze:J.Ze/N,yn:N,bn:Da.Gi,Ga:J.Ga,Qf:J.Qf,Kj:u,Sj:J.Io,xc:J.xc,qf:J.qf,mf:J.mf,pf:J.pf,ma:J.ma,xe:J.xe,Ke:J.Ke,ag:J.ag,fc:J.fc,ao:J.lj,bo:J.mj,Wd:J.Wd,hc:J.hc,dd:J.dd,Oe:J.Oe,Ne:J.Ne,Me:J.Me,Be:J.Be,Ae:J.Y+J.ua+J.Ae,wa:J.wa,pa:J.pa,kf:J.kf,Mg:J.Mg,Lg:J.Lg,le:J.le,Oo:J.No,ke:Da.ke,Ed:J.Ed,Hm:Qa,Dd:J.Dd,Fd:J.Fd,If:J.If,Gm:Ma,vg:J.vg})},Pk:function(){var N=$a.pe,Y=$a.oe,ka=1/Math.tan(Da.Ob/
2),Ca=fb.V()/fb.I();Da.Gi=[ka,0,0,0,0,ka/Ca,0,0,0,0,-(Y+N)/(Y-N),-1,0,0,-2*N*Y/(Y-N),0];Da.ke=1/Math.tan(J.Lo*Math.PI/360)/ka},ng:function(N,Y){y=[.5,.5];N=Y/N;Y=fb.V()/fb.I();90===Math.abs($a.rotate)&&(N=1/N);N>Y?y[1]*=Y/N:y[0]*=N/Y;B[0]=0;B[1]=0;B[2]=0;B[3]=0;switch($a.rotate){case 0:B[0]=y[0];B[3]=y[1];break;case 180:B[0]=-y[0];B[3]=-y[1];break;case 90:B[1]=y[0];B[2]=-y[1];break;case -90:B[1]=-y[0],B[2]=y[1]}Da.Ob=2*Math.atan(2*y[0]*Math.tan((1<N?$a.Nj:$a.FOVdesktop)*Math.PI/180/2));oa.Pk()},ug:function(){Z.f("s53",
[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u38",value:B}])},uf:function(N,Y){g.Ea||oa.Rh();oa.hm(N,Y);oa.h();if(!oa.em())return Q.mb&&Q.mb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;oa.Ph();return!0},hm:function(N,Y){Q.Eb=document.createElement("canvas");Q.Db=document.createElement("canvas");Q.Db.width=J.width;Q.Db.height=J.height;Q.Tj=Q.Db.getContext("2d");Q.replace_video=function(ka){Da.element=ka;Da.Bg.ga_=Da.element;return!0};Q.pc=Q.Eb.getContext("2d");Q.capture_background=function(ka,
Ca){ka="undefined"===typeof ka?N:ka;Ca="undefined"===typeof Ca?Y:Ca;Q.Eb.width=ka;Q.Eb.height=Ca;var Ra=ka/Ca,bb=0,lb=0;if(N/Y>Ra){var kb=Y*Ra;Ra=Y;bb=Math.round((N-kb)/2)}else kb=N,Ra=N/Ra,lb=Math.round((Y-Ra)/2);Q.pc.save();Q.pc.translate(ka,0);Q.pc.scale(-1,1);Q.pc.drawImage(Da.element,bb,lb,kb,Ra,0,0,ka,Ca);Q.pc.restore();ka=document.createElement("canvas");ka.width=Q.Eb.width;ka.height=Q.Eb.height;ka.getContext("2d").drawImage(Q.Eb,0,0);return ka}},Ph:function(){window.CanvasListeners&&(sb.init({qa:fb.qb()}),
Q.init_listeners=oa.Ph,Q.add_listener=sb.add_listener,Q.remove_listener=sb.remove_listener,Q.animate_swipe=sb.animate_swipe,Q.switch_modeInteractor=sb.switch_mode,Q.get_modeInteractor=sb.get_mode,sb.add_listener("move",function(N,Y){t===P.U&&(J.Im&&(Ga.offsetX-=Y[0]*J.ni,Ga.offsetX=Math.min(Math.max(Ga.offsetX,-J.Gd),J.Gd)),Ga.offsetY-=Y[1]*J.ni,Ga.offsetY=Math.min(Math.max(Ga.offsetY,-J.Gd),J.Gd),oa.ee())},!0).add_listener("pinch",function(N,Y){t===P.U&&(Ga.scale+=Y*J.Jm,Ga.scale=Math.min(Math.max(Ga.scale,
J.oi[0]),J.oi[1]),oa.fe())},!0))},em:function(){return aa.h({zd:!1,Nk:!1,expand:!1,qa:fb.qb(),Qb:fb,onload:function(){G.Bb=Zb.instance({Hb:J.Y+J.ua+cb.Go,rc:J.Y+J.ua+cb.Ho,qc:cb.Ij,sc:cb.Jj});J.Yb?(G.gb=Zb.instance({}),ua.kb.sa(G.gb)):G.gb=G.Bb;ta.sa(G.gb);J.Yb?G.Hd=Uc.instance({Em:G.gb,Cm:G.Bb}):G.Hd=G.Bb;b()}})},Bn:function(){Q.load_model=function(N,Y,ka){if(Q.isBusy)return!1;Q.isBusy=!0;if(S.model)Q.set_model(N,function(){Q.set_materials(Y,function(){Q.isBusy=!1;ka&&ka()})},function(){Q.isBusy=
!1});else{var Ca=J.Y+J.ua+J.Mf+"/",Ra=Y.map(function(bb){return Ca+bb});S.model={url:J.Y+J.ua+J.Pf+"/"+N,Fc:Ra,Gb:!1,Fb:!1};oa.ki(S.model,function(){Q.isBusy=!1;ka&&ka()})}return!0};Q.set_offset=function(N){v=N;oa.ee()};Q.set_scale=function(N){k=N;oa.fe()};Q.set_rx=function(N){M=N;oa.Dj()};Q.switch_shadow=ta.tg;Q.switch_bgBlur=ta.sg;Q.set_zoom=ta.gg;Q.is_viewer3D=function(){return t===P.Ja};Q.switch_viewer3D=function(N,Y){if(t===P.jc||t===P.kc||t===P.U&&!N||t===P.Ja&&N||ca)return!1;if(t===P.Aa)return D!==
P.Ja||N?D===P.U&&N?(D=P.Ja,ta.sa(G.Bb),ta.ab(1),Y&&Y(),!0):!1:(D=P.U,ta.sa(G.gb),ta.ab(0),Y&&Y(),!0);var ka=0,Ca=-1,Ra=0;t===P.U?(t=P.jc,Ca=J.Mo):t===P.Ja&&(t=P.kc,Ca=J.Po);var bb=Date.now();z=setInterval(function(){var lb=Date.now();ka+=(lb-bb)/Ca;1<=ka&&(ka=1,t===P.jc?(t=P.Ja,ta.sa(G.Bb)):(t=P.U,ta.sa(G.gb)),Y&&Y(),clearInterval(z),z=null);var kb=0;t===P.kc||t===P.U?kb=1-J.Ko(ka):kb=J.Jo(ka);ta.ab(kb);t!==P.kc&&t!==P.jc||0!==Ra++%2||(ta.sa(G.Hd),G.Hd.Vn(kb));bb=lb},.016);return!0};Q.capture_image=
function(N,Y,ka,Ca){ja=N;ca=!0;"undefined"===typeof isAllocate&&(ka=!1);(Ca="undefined"===typeof Ca?!1:Ca)&&ta.Yd(!1);h();pa=function(){ta.Mi(0);c.flush();var Ra=fb.Ch(ka);Y(Ra);Ca&&ta.Yd(!0)}};Q.capture_detection=function(N,Y){ja=N;ca=!0;var ka=null===K.Cb?K.Ab:K.Rc;pa=function(){var Ca=Fc.instance({Le:w.Pc.clone(),si:db.Hh(),ri:db.Fh(),background:ka.clone(),Za:ua.kb.Yl().clone(),Lf:Ga});Y(Ca)}};Q.process_offlineRendering=function(N,Y,ka,Ca,Ra){function bb(){if(2===++lb){ra.Za||(ra.Za=Zb.instance({}));
N.Eh()&&(ra.Za.ej(N.Eh()),ta.sa(ra.Za));ra.Pe.set();e();ra.Pe=!1;oa.sn(Ca?function(){fb.qb().parentNode.removeChild(Q.Db)}:!1);var kb=fb.Ch(!1);setTimeout(function(){Ra(kb)},1)}}oa.wn();Ca&&(Q.Tj.drawImage(fb.qb(),0,0),fb.qb().parentNode.insertBefore(Q.Db,fb.qb()),Q.Db.setAttribute("class","jeefitMask"));ra.Pe=N;var lb=0;Q.set_model(Y,function(){bb();Q.set_materials(ka,function(){setTimeout(bb,1)})})};Q.serialize_detection=function(N){return N.Jc()};Q.unserialize_detection=function(N,Y,ka){return Fc.Qc(N,
Y,ka)};Q.do_instantDetection=function(N,Y){Gc.h(w.Pc);Gc.start(N,Y)};Q.relieve_DOM=function(N,Y){if(g.Ub)return!1;n(Y||160);T=!1;L&&clearTimeout(L);L=setTimeout(function(){n(J.ka);L=!1;r()},N);return!0};Q.switch_slow=function(N,Y){if(g.Ub)return!1;"undefined"===typeof Y&&(Y=J.$j);L&&(n(J.ka),r(),clearTimeout(L),L=!1);N?T=!1:r();n(N?Y:J.ka);return!0};Q.switch_deepSleep=function(N){if(R===N)return!1;R=!1;Q.switch_sleep(N);R=N;return!0};Q.switch_sleep=function(N,Y){function ka(){Q.isBusy=!1;N?(D=t,t=
P.Aa):(t=D,e())}if(g.Ub||R||Q.isBusy)return Y?Promise.reject():null;if(N&&t===P.Aa||!N&&t!==P.Aa)return Y?Promise.resolve(!1):!1;z&&(clearInterval(z),z=null);t===P.kc?(t=P.U,ta.sa(G.gb),ta.ab(0)):t===P.jc&&(t=P.Ja,ta.sa(G.Bb),ta.ab(1));ub.stop();var Ca=null;Q.isBusy=!0;Y?Ca=Rc(!N).then(ka):ka();return Y?Ca:!0};Q.set_modelStandalone=function(N,Y){ta.Zd(!1);qc.instance({url:N.model,Fc:N.materials,Gb:!1,Fb:!1,N:function(ka){Fa.Ha=[0,0,0];Fa.wb=1;Fa.Ic=0;Fa.wa=J.wa;Fa.pa=J.pa;Fa.ma=J.ma;Q.ready&&oa.ge();
Y&&Y();d(ka);oa.qg();ta.Zd(!0)}})};Q.start_rendering=oa.qg;Q.update_material=function(N,Y){db&&db.wo(N,Y)};Q.set_model=function(N,Y,ka){db&&db.replace("http"===N.substring(0,4).toLowerCase()?N:J.Y+J.ua+J.Pf+"/"+N,function(){Y&&Y(db.Rk())},ka)};Q.set_tweaker=function(N,Y){function ka(Ca){Q.Sg(Ca);Y&&Y()}"string"===typeof N?jb(J.Y+J.ua+J.oo+"/"+N,ka):ka(N)};Q.Sg=function(N){N&&(N.preOffset&&(Fa.Ha=N.preOffset),N.preScale&&(Fa.wb=N.preScale),N.rx&&(Fa.Ic=N.rx),N.beginBendZ&&(Fa.wa=N.beginBendZ),N.bendStrength&&
(Fa.pa=N.bendStrength),N.maskBranchStartEnd&&(Fa.ma=N.maskBranchStartEnd),Q.ready&&oa.ge())};Q.set_materials=function(N,Y){if(db){var ka=J.Y+J.ua+J.Mf+"/";N=N.map(function(Ca){var Ra=Ca;"string"===typeof Ca&&(Ra=ka+Ca,Ra=Ra.replace(/([^:])\/\//,"$1/"));return Ra});db.hg(N,Y)}}},qg:function(){O||(oa.Oc(),J.Yb&&(xa.reset(),ua.kb.Gk(Da.ia),ua.kb.Fk()),Q.ready=!0,l=0,e(),I=0,O=!0,aa.Gg(kc.wl),oa.ge(),ta.io(),Q.Vc.forEach(function(N){N()}),Q.Vc.splice(0))},ki:function(N,Y){N=qc.instance({N:function(){oa.qg();
Y&&Y()},url:N.url,Fc:N.Fc,Gb:N.Gb,Fb:N.Fb});d(N)},lo:function(){if(J.Yb){var N=Object.assign({},cb,{ac:J.Y+J.ua+cb.ac});ua.kb.ig(N)}}};return oa}function Pb(a){return 3===arguments.length?this.ob(arguments):this.set(a)}function Hc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.ca=(b>>8&255)/255;a.J=(b&255)/255}function Vc(a,b){function e(h){void 0!==h&&1>parseFloat(h)&&console.warn("JETHREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var n=
d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(255,parseInt(d[1],10))/255;a.ca=Math.min(255,parseInt(d[2],10))/255;a.J=Math.min(255,parseInt(d[3],10))/255;e(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){a.r=Math.min(100,parseInt(d[1],10))/100;a.ca=Math.min(100,parseInt(d[2],10))/100;a.J=Math.min(100,parseInt(d[3],10))/100;e(d[5]);return}break;case "hsl":case "hsla":if(d=
/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(d[1])/360;var m=parseInt(d[2],10)/100,r=parseInt(d[3],10)/100;e(d[5]);a.An(n,m,r);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];n=d.length;if(3===n){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.ca=parseInt(d.charAt(1)+d.charAt(1),16)/255;a.J=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===n){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.ca=parseInt(d.charAt(2)+d.charAt(3),16)/255;
a.J=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Wc[b],void 0!==d?Hc(a,d):console.warn("JETHREE.Color: Unknown color "+b))}function $b(a,b,e,d){this.m=a||0;this.o=b||0;this.s=e||0;this.G=void 0!==d?d:1}function Qb(a,b){this.x=a||0;this.y=b||0}function Sa(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0}function Ic(a,b){var e=a.x,d=a.y,n=a.z;a.x=d*b.z-n*b.y;a.y=n*b.x-e*b.z;a.z=e*b.y-d*b.x}function Hb(a,b,e,d){this.m=a||0;this.o=b||0;this.s=e||0;this.Ta=d||Hb.T}function rc(a,b){this.min=
void 0!==a?a:new Sa(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Sa(-Infinity,-Infinity,-Infinity)}function lc(a){return(new Sa).Wc(a.min,a.max).Fa(.5)}function Xc(a,b){a.min.min(b);a.max.max(b)}function Rb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function sc(a,b,e,d,n,m){this.Ba=a;this.J=b;this.Ca=e;this.Pa=d instanceof Sa?d:new Sa;this.je=Array.isArray(d)?
d:[];this.color=n instanceof Pb?n:new Pb;this.Jg=Array.isArray(n)?n:[];this.Zb=void 0!==m?m:0}function Yc(a,b,e){var d=new XMLHttpRequest;d.open("GET",a,!0);var n=d.withCredentials=!1;d.onreadystatechange=function(){404!==d.status||n||(n=!0,e&&e(404));if(4===d.readyState&&200===d.status){var m=null;try{m=JSON.parse(d.responseText)}catch(r){e&&e(-1)}b&&m&&b(m)}};d.onerror=function(){e&&e(0)};d.send()}function tc(a,b,e){"object"===typeof a?b(a):Yc(a,b,e)}function Zc(a,b){for(var e=new Sa,d=new Sa,n=
0,m=b.length;n<m;n++){var r=b[n],h=a[r.Ba],q=a[r.J];e.eb(a[r.Ca],q);d.eb(h,q);Ic(e,d);0!==e.Bf()&&(e.normalize(),r.Pa.B(e))}}function $c(a,b){for(var e=Array(a.length),d=0,n=a.length;d<n;++d)e[d]=new Sa;d=new Sa;n=new Sa;for(var m=0,r=b.length;m<r;++m){var h=b[m],q=a[h.Ba],p=a[h.J];d.eb(a[h.Ca],p);n.eb(q,p);Ic(d,n);e[h.Ba].add(d);e[h.J].add(d);e[h.Ca].add(d)}d=0;for(a=a.length;d<a;++d)e[d].normalize();a=0;for(d=b.length;a<d;++a)n=b[a],m=n.je,3===m.length?(m[0].B(e[n.Ba]),m[1].B(e[n.J]),m[2].B(e[n.Ca])):
(m[0]=e[n.Ba].clone(),m[1]=e[n.J].clone(),m[2]=e[n.Ca].clone());return e}function ad(a,b,e,d){function n(M){v.B(b[M]);k.B(v);var K=h[M];L.B(K);L.sub(v.Fa(v.fd(K))).normalize();var w=k.x,l=k.y,x=k.z,G=K.x,I=K.y;K=K.z;A.x=l*K-x*I;A.y=x*G-w*K;A.z=w*I-l*G;w=0>A.fd(q[M])?-1:1;r[4*M]=L.x;r[4*M+1]=L.y;r[4*M+2]=L.z;r[4*M+3]=w}for(var m=a.length,r=new Float32Array(4*m),h=Array(m),q=Array(m),p=0;p<m;p++)h[p]=new Sa,q[p]=new Sa;var E=new Sa,H=new Sa,u=new Sa,y=new Qb,B=new Qb,g=new Qb,f=new Sa,C=new Sa;d.forEach(function(M){var K=
M.Ba,w=M.J;M=M.Ca;E.B(a[K]);H.B(a[w]);u.B(a[M]);y.B(e[K]);B.B(e[w]);g.B(e[M]);var l=H.x-E.x,x=u.x-E.x,G=H.y-E.y,I=u.y-E.y,O=H.z-E.z,T=u.z-E.z,ba=B.x-y.x,ia=g.x-y.x,P=B.y-y.y,t=g.y-y.y,z=1/(ba*t-ia*P);f.set((t*l-P*x)*z,(t*G-P*I)*z,(t*O-P*T)*z);C.set((ba*x-ia*l)*z,(ba*I-ia*G)*z,(ba*T-ia*O)*z);h[K].add(f);h[w].add(f);h[M].add(f);q[K].add(C);q[w].add(C);q[M].add(C)});var L=new Sa,A=new Sa,v=new Sa,k=new Sa;d.forEach(function(M){n(M.Ba);n(M.J);n(M.Ca)});return r}function Jc(a,b,e,d){return Math.sqrt((a-
e)*(a-e)+(b-d)*(b-d))}var Oc="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a},yc=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}(this);U("Promise",function(a){function b(r){this.Da=0;
this.Dc=void 0;this.T=[];var h=this.tb();try{r(h.resolve,h.reject)}catch(q){h.reject(q)}}function e(){this.T=null}function d(r){return r instanceof b?r:new b(function(h){h(r)})}if(a)return a;e.prototype.Da=function(r){if(null==this.T){this.T=[];var h=this;this.tb(function(){h.Dc()})}this.T.push(r)};var n=yc.setTimeout;e.prototype.tb=function(r){n(r,0)};e.prototype.Dc=function(){for(;this.T&&this.T.length;){var r=this.T;this.T=[];for(var h=0;h<r.length;++h){var q=r[h];r[h]=null;try{q()}catch(p){this.Cc(p)}}}this.T=
null};e.prototype.Cc=function(r){this.tb(function(){throw r;})};b.prototype.tb=function(){function r(p){return function(E){q||(q=!0,p.call(h,E))}}var h=this,q=!1;return{resolve:r(this.Do),reject:r(this.Cc)}};b.prototype.Do=function(r){if(r===this)this.Cc(new TypeError("A Promise cannot resolve to itself"));else if(r instanceof b)this.Lj(r);else{a:switch(typeof r){case "object":var h=null!=r;break a;case "function":h=!0;break a;default:h=!1}h?this.po(r):this.li(r)}};b.prototype.po=function(r){var h=
void 0;try{h=r.then}catch(q){this.Cc(q);return}"function"==typeof h?this.Mj(h,r):this.li(r)};b.prototype.Cc=function(r){this.yi(2,r)};b.prototype.li=function(r){this.yi(1,r)};b.prototype.yi=function(r,h){if(0!=this.Da)throw Error("Cannot settle("+r+", "+h+"): Promise already settled in state"+this.Da);this.Da=r;this.Dc=h;this.vn()};b.prototype.vn=function(){if(null!=this.T){for(var r=0;r<this.T.length;++r)m.Da(this.T[r]);this.T=null}};var m=new e;b.prototype.Lj=function(r){var h=this.tb();r.bd(h.resolve,
h.reject)};b.prototype.Mj=function(r,h){var q=this.tb();try{r.call(h,q.resolve,q.reject)}catch(p){q.reject(p)}};b.prototype.then=function(r,h){function q(u,y){return"function"==typeof u?function(B){try{p(u(B))}catch(g){E(g)}}:y}var p,E,H=new b(function(u,y){p=u;E=y});this.bd(q(r,p),q(h,E));return H};b.prototype.catch=function(r){return this.then(void 0,r)};b.prototype.bd=function(r,h){function q(){switch(p.Da){case 1:r(p.Dc);break;case 2:h(p.Dc);break;default:throw Error("Unexpected state: "+p.Da);
}}var p=this;null==this.T?m.Da(q):this.T.push(q)};b.resolve=d;b.reject=function(r){return new b(function(h,q){q(r)})};b.race=function(r){return new b(function(h,q){for(var p=Pa(r),E=p.next();!E.done;E=p.next())d(E.value).bd(h,q)})};b.all=function(r){var h=Pa(r),q=h.next();return q.done?d([]):new b(function(p,E){function H(B){return function(g){u[B]=g;y--;0==y&&p(u)}}var u=[],y=0;do u.push(void 0),y++,d(q.value).bd(H(u.length-1),E),q=h.next();while(!q.done)})};return b});U("Math.log2",function(a){return a?
a:function(b){return Math.log(b)/Math.LN2}});var bd="function"==typeof Object.assign?Object.assign:function(a,b){for(var e=1;e<arguments.length;e++){var d=arguments[e];if(d)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(a[n]=d[n])}return a};U("Object.assign",function(a){return a||bd});U("Promise.prototype.finally",function(a){return a?a:function(b){return this.then(function(e){return Promise.resolve(b()).then(function(){return e})},function(e){return Promise.resolve(b()).then(function(){throw e;
})})}});U("Math.sign",function(a){return a?a:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});var S={hh:!0,kp:!1,lp:!1,Zk:!1,gh:!1,jp:!1,Oa:!1,en:!1,zd:!1,Rp:!1,Y:"",Mm:"",uk:700,tk:200,ih:!1,zo:!1,Ao:!1,yo:!1,ak:3,Lb:!1,Tg:!0,Hb:"images/backgrounds/interior2.jpg",rc:"images/backgrounds/interior_light.jpg",wk:[256,256,512,512],qc:2.1,sc:8,vk:[64,128,256,256],km:[60,96,160,250],jm:[8,12,18,40],$b:2.2,Nd:1,Ce:300,Xg:500,De:50,Hk:0,Ik:0,$o:45,bp:1,ap:1E3,Yg:20,Qo:10,Ro:10,So:5,Zm:.1,Ai:20,
Di:100,Ei:100,Ym:-Math.PI/3,Xm:Math.PI/3,Ci:0,uj:0,kd:[40,32,16,16],Zj:[0,.87,.92,.9],Um:2,Qm:100,aa:!1,bk:16,ck:.4,ek:[.72,.73,.72,.74],pk:1.2,lk:[.5,.5,.5,1],rk:140,qk:280,sk:1.2,fk:20,gk:40,nk:[6,9,9,12],kk:[.03,.02,.02,.018],jk:[.35,.35,.4,.5],hk:[.2,.2,.2,.2],dk:[.1,.15,.15,.15],mk:[200,200,150,120],ik:[1,2,3,5],co:1.1,iq:[.25,.5,1,2],jq:256,hq:256,gq:200,eo:[40,80,200,500],fo:[35,45,80,120],Tk:!0,Uk:"CCW"},Kc={},Z=function(){function a(w,l,x){l=w.createShader(l);w.shaderSource(l,x);w.compileShader(l);
return w.getShaderParameter(l,w.COMPILE_STATUS)?l:!1}function b(w,l,x){l=a(w,w.VERTEX_SHADER,l);x=a(w,w.FRAGMENT_SHADER,x);w===c&&h.push(l,x);var G=w.createProgram();w.attachShader(G,l);w.attachShader(G,x);w.linkProgram(G);return G}function e(w){return["float","sampler2D","int"].map(function(l){return"precision "+w+" "+l+";\n"}).join("")}function d(w,l){l.Z=l.Z?!0:!1;if(!l.Z){l.j=l.j||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}";
l.D=l.D||["a0"];l.M=l.M||[2];l.precision=l.precision||u;l.id=E++;void 0!==l.Ui&&(l.Ui.forEach(function(I,O){l.b=l.b.replace(I,l.Ia[O])}),l.Ui.splice(0));l.Kg=0;l.M.forEach(function(I){l.Kg+=4*I});var x=e(l.precision);l.na=b(w,x+l.j,x+l.b);l.v={};l.c.forEach(function(I){l.v[I]=w.getUniformLocation(l.na,I)});l.attributes={};l.va=[];l.D.forEach(function(I){var O=w.getAttribLocation(l.na,I);l.attributes[I]=O;l.va.push(O)});if(l.l){w.useProgram(l.na);p=l;q=l.id;for(var G in l.l)w.uniform1i(l.v[G],l.l[G])}l.Ea=
!0}}function n(w){pb.ij(K);q!==w.id&&(K.F(),q=w.id,p=w,c.useProgram(w.na),w.va.forEach(function(l){0!==l&&c.enableVertexAttribArray(l)}))}function m(w,l,x){d(w,l,x);w.useProgram(l.na);w.enableVertexAttribArray(0);q=-1;return p=l}function r(){return{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],l:{u1:0}}}var h=[],q=-1,p=null,E=0,H=!1,u="highp",y=["u1"],B=["u0"],g={u1:0},f={u0:0},C={u1:0,u2:1},L={u3:0},A={s0:r(),s1:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
c:y,l:g,precision:"lowp"},s2:{b:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],l:C},s3:{b:"uniform sampler2D u1;uniform vec2 u4,u5;varying vec2 vv0;void main(){vec2 a=vv0*u4+u5;gl_FragColor=texture2D(u1,a);}",c:["u1","u4","u5"],l:g,Z:!0},s4:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:y,l:g},s5:{b:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",
c:["u1","u2"],l:C},s6:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",c:y,l:g},s7:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:y,l:g},s8:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],l:f},s9:{b:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",
c:["u0","u4"],l:f},s10:{b:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",c:y,l:g},s11:{b:"uniform sampler2D u1,u6;uniform float u7;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u6,vv0);gl_FragColor=mix(b,a,u7*f);}",c:["u1","u6","u7"],l:{u1:0,u6:1}},s12:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u8)+texture2D(u1,vv0+u8*vec2(1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,-1.))+texture2D(u1,vv0+u8*vec2(-1.,1.)));}",
c:["u1","u8"],l:g},s13:{b:"uniform sampler2D u1;uniform vec4 u9;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u9);gl_FragColor=j(a);}",
c:["u1","u9"],l:g},s14:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:B,l:f,Z:!0},s15:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:B,l:f},s16:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:B,l:f},
s17:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",c:B,l:f},s18:{b:"uniform sampler2D u0,u7,u10;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u7,vv0),d=texture2D(u10,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u7","u10"],l:{u0:0,u7:1,u10:2},Z:!0},s19:{b:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
c:B,l:f},s20:{b:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",c:B,l:f,Z:!0},s21:{b:"uniform sampler2D u0,u11;uniform float u12;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,e);float b=u12*u12;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u11","u12"],l:{u0:0,u11:1},Z:!0},s22:{b:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),f=floor(u13.x*fract(b*u13.y)),g=(f*u13.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u13"],l:g},s23:{b:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),f=texture2D(u15,c);gl_FragColor=d*f;}",c:["u14","u15","u16"],l:{u15:0,u14:1,u16:2},Z:!0},s24:{b:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",c:["u15","u14","u17"],l:{u15:0,u14:1}},s25:{b:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u17,l=floor(h),c=h-l;vec4 m=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 n=texture2D(u18,c),o=texture2D(u19,c),p=texture2D(u20,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u14 u15 u17 u21 u18 u19 u20".split(" "),l:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6},Z:!0},s26:{b:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),b=u23*vv0-a;float c=u17/u23;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u23;float k=u23*u25/u17;vec2 l=k*d,h=(l+f*u24)/u25,i=step(h,j);vec4 m=texture2D(u14,g),n=texture2D(u15,h),o=m*n*i.x*i.y,p=texture2D(u22,g);gl_FragColor=o*u24*u24+p;}",c:"u14 u15 u17 u23 u24 u25 u22".split(" "),
l:{u15:0,u14:1,u22:2}},s27:{b:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",c:["u14","u15"],l:{u15:0,u14:1},Z:!0},s28:{b:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",c:["u1","u22","u26"],l:{u1:0,u22:1}},s29:{b:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:y,l:g,precision:"lowp"},s30:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u27"],l:g,precision:"lowp"},s31:{b:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u27"],l:g,precision:"lowp"},s32:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u28"],l:C,Z:!0},s33:{b:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u28"],l:C,Z:!0},s34:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u8*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*h),d=texture2D(u3,a+u8*i),j=texture2D(u3,a+u8),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u8"],l:L},s35:{b:"uniform sampler2D u3;uniform vec2 u8;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u8*k),d=texture2D(u3,a+u8*l),g=texture2D(u3,a+u8),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u8*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u8*m),d=f(a+u8*2.),g=f(a+u8*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u8"],l:L,Z:!0},
s36:{b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",c:["u1"],l:g,precision:"lowp",Z:!0},s37:{b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u8)+2002./e*texture2D(u1,vv0-2.*u8)+3003./e*texture2D(u1,vv0-u8)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u8)+2002./e*texture2D(u1,vv0+2.*u8)+1001./e*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u8","u1"],l:g,precision:"lowp",
Z:!0},s38:{b:"uniform sampler2D u1,u11,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u11,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",c:["u1","u11","u29"],l:{u1:0,u11:1,u29:2},Z:!0}},v={s39:{b:"uniform float u17,u30;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u17","u14","u15","u22","u30"],Ia:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{b:"uniform float u17,u30,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u17 u25 u14 u15 u22 u30".split(" "),Ia:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},k=null,M=null,K={Xb:function(){return H},h:function(){if(!H){k=Xa(A,2);M=Xa(v,2);u="highp";for(var w in k)d(c,k[w],w);Z.set("s0");c.enableVertexAttribArray(0);H=!0}},ve:function(w){w.forEach(function(l){K.oa(l)})},oa:function(w){k[w.id]=w;d(c,w,w.id)},Qh:function(w,l,x){l||(l=w);k[l]=Object.create(M[w]);k[l].qm=!0;M[w].Ia&&M[w].Ia.forEach(function(G,I){k[l].b=k[l].b.replace(new RegExp(G,"g"),x[I])});d(c,k[l],
l)},set:function(w){var l=k[w];l.Z&&(l.Z=!1,d(c,l,w));n(l)},xb:function(w){return m(w,r(),"s41")},Sd:function(w){return m(w,{b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:u},"s42")},vl:function(w){return"undefined"===typeof k[w]?!1:k[w].Ea},F:function(){-1!==q&&(q=-1,p.va.forEach(function(w){0!==w&&c.disableVertexAttribArray(w)}))},Ud:function(){var w=0;p.va.forEach(function(l,x){x=p.M[x];c.vertexAttribPointer(l,x,c.FLOAT,!1,p.Kg,w);w+=4*x})},op:function(){c.enableVertexAttribArray(0)},
Mc:function(){K.dc(c)},dc:function(w){w.vertexAttribPointer(p.va[0],2,w.FLOAT,!1,8,0)},Td:function(w,l){c.uniform1i(p.v[w],l)},C:function(w,l){c.uniform1f(p.v[w],l)},L:function(w,l,x){c.uniform2f(p.v[w],l,x)},jj:function(w,l){c.uniform2fv(p.v[w],l)},mg:function(w,l){c.uniform3fv(p.v[w],l)},lg:function(w,l,x,G){c.uniform3f(p.v[w],l,x,G)},Xn:function(w,l,x,G,I){c.uniform4f(p.v[w],l,x,G,I)},za:function(w,l){c.uniform4fv(p.v[w],l)},Yn:function(w,l){c.uniformMatrix2fv(p.v[w],!1,l)},Zn:function(w,l){c.uniformMatrix3fv(p.v[w],
!1,l)},Lc:function(w,l){c.uniformMatrix4fv(p.v[w],!1,l)},f:function(w,l){K.set(w);l.forEach(function(x){switch(x.type){case "4f":c.uniform4fv(p.v[x.name],x.value);break;case "3f":c.uniform3fv(p.v[x.name],x.value);break;case "2f":c.uniform2fv(p.v[x.name],x.value);break;case "1f":c.uniform1f(p.v[x.name],x.value);break;case "1i":c.uniform1i(p.v[x.name],x.value);break;case "mat2":c.uniformMatrix2fv(p.v[x.name],!1,x.value);break;case "mat3":c.uniformMatrix3fv(p.v[x.name],!1,x.value);break;case "mat4":c.uniformMatrix4fv(p.v[x.name],
!1,x.value)}})},Ap:function(){return"lowp"},u:function(){c.disableVertexAttribArray(0);K.F();for(var w in k){var l=k[w];l.Ea&&(l.Ea=!1,c.deleteProgram(l.na));l.qm&&delete k[w]}h.forEach(function(x){c.deleteShader(x)});h.splice(0);E=0;H=!1;p=null;q=-1}};return K}(),c=null,fb=function(){function a(u){console.log("ERROR in ContextFF: ",u);return!1}function b(u){function y(){Bb.u();za.reset();g.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var B=document.createElement("canvas");B.setAttribute("width",5);B.setAttribute("height",5);var g=null;try{g=B.getContext("webgl2",u)}catch(f){return!1}if(!g)return!1;e(g);za.qh(g);u=za.Qe(g);if(!u.Va&&!u.Xa)return y(),!1;u=Bb.Zg(g,u);y();return u?!0:!1}function e(u){u.clearColor(0,0,0,0);u.disable(u.DEPTH_TEST);u.disable(u.BLEND);u.disable(u.DITHER);u.disable(u.STENCIL_TEST);u.disable(u.CULL_FACE);u.GENERATE_MIPMAP_HINT&&u.hint(u.GENERATE_MIPMAP_HINT,u.FASTEST);u.disable(u.SAMPLE_ALPHA_TO_COVERAGE);
u.disable(u.SAMPLE_COVERAGE);u.depthFunc(u.LEQUAL);u.clearDepth(1)}var d=null,n=null,m=null,r=null,h=!0,q=null,p=null,E=[],H={I:function(){return d.width},V:function(){return d.height},qb:function(){return d},yl:function(){return c},ha:function(){return h},flush:function(){c.flush()},Dl:function(){q||(q=new Uint8Array(d.width*d.height*4));c.readPixels(0,0,d.width,d.height,c.RGBA,c.UNSIGNED_BYTE,q);return q},vp:function(){return d.toDataURL("image/jpeg")},wp:function(){xa.X();n||(n=document.createElement("canvas"),
m=n.getContext("2d"));n.width=d.width;n.height=d.height;for(var u=H.Dl(),y=m.createImageData(n.width,n.height),B=n.width,g=n.height,f=y.data,C=0;C<g;++C)for(var L=g-C-1,A=0;A<B;++A){var v=4*(C*B+A),k=4*(L*B+A);f[v]=u[k];f[v+1]=u[k+1];f[v+2]=u[k+2];f[v+3]=u[k+3]}m.putImageData(y,0,0);return n.toDataURL("image/png")},Ch:function(u){!n&&u&&(n=document.createElement("canvas"),m=n.getContext("2d"));var y=u?n:document.createElement("canvas");y.width=d.width;y.height=d.height;(u?m:y.getContext("2d")).drawImage(d,
0,0);return y},h:function(u){u=Object.assign({Wa:null,Sf:null,qa:null,Je:null,width:512,height:512,premultipliedAlpha:!1,nm:!0,antialias:!1,debug:!1,ip:!1},u);u.Wa?(c=u.Wa,d=u.Wa.canvas):u.Je&&!u.qa?d=document.getElementById(u.Je):u.qa&&(d=u.qa);d||(d=document.createElement("canvas"));d.width=u.width;d.height=u.height;if(c)h=c instanceof WebGL2RenderingContext;else{h=!0;var y={antialias:u.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:u.premultipliedAlpha,stencil:!1,depth:u.nm};navigator&&
navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(y.antialias=!1);var B=b(y);!B&&y.antialias&&(y.antialias=!1,B=b(y));B&&(c=d.getContext("webgl2",y));c?h=!0:((c=d.getContext("webgl",y))||(c=d.getContext("experimental-webgl",y)),h=!1)}if(!c)return a("WebGL1 and 2 are not enabled");(r=c.getExtension("WEBGL_lose_context"))&&u.Sf&&(p=u.Sf,d.addEventListener("webglcontextlost",p,!1));if(!za.h())return a("Not enough GL capabilities");e(c);Z.h();W.h();if(!Bb.Zg(c,za.Al()))return a("Cannot filter float textures");
E.forEach(function(g){g(c)});E.splice(0);return!0},Zo:function(){return new Promise(function(u){c?u(c):E.push(u)})},u:function(){c&&(za.u(),Z.u(),Bb.u());r&&p&&(d.removeEventListener("webglcontextlost",p,!1),r=p=null);c=q=m=n=d=null;E.splice(0)}};return H}(),pb=function(){function a(){null===b&&("undefined"!==typeof Z?b=Z:"undefined"!==typeof F&&(b=F))}var b=null;return{reset:function(){b=null},ij:function(e){b!==e&&(b&&b.F(),b=e)},Xb:function(){return b.Xb()},Mc:function(){return b.Mc()},dc:function(e){return b.dc(e)},
Ud:function(){return b.Ud()},F:function(){return b.F()},set:function(e){a();return b.set(e)},xb:function(e){a();return b.xb(e)},Sd:function(e){a();return b.Sd(e)}}}(),X=function(){function a(x){c.bindTexture(c.TEXTURE_2D,x)}function b(x){var G=new Uint16Array(x.length);x.forEach(function(I,O){M[0]=I;var T=K[0];var ba=T>>16&32768;I=T>>12&2047;var ia=T>>23&255;T=103>ia?ba:142<ia?ba|31744|((255==ia?0:1)&&T&8388607):113>ia?(I|=2048,ba|(I>>114-ia)+(I>>113-ia&1)):(ba|ia-112<<10|I>>1)+(I&1);G[O]=T});return G}
function e(){if(null!==w.sf)return w.sf;var x=d(b([.5,.5,.5,.5]));return null===x?!0:w.sf=x}function d(x){if(!pb.Xb()||!y)return null;var G=null,I=Math.sqrt(x.length/4);try{var O=c.getError();if("FUCKING_BIG_ERROR"===O)return!1;G=l.instance({isFloat:!1,O:!0,array:x,width:I});O=c.getError();if(O!==c.NO_ERROR)return!1}catch(ba){return!1}xa.X();c.viewport(0,0,I,I);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);pb.set("s0");G.Ib(0);W.g(!0,!0);x=4*I*I;O=new Uint8Array(x);c.readPixels(0,0,I,I,c.RGBA,
c.UNSIGNED_BYTE,O);I=!0;for(var T=0;T<x;++T)I=I&&3>Math.abs(O[T]-127);G.remove();xa.fa();return I}var n=0,m=null,r=0,h=null,q=null,p=null,E=null,H=null,u=null,y=!1,B=[],g={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ga_:null,Jh:null,om:!1,O:!1,N:null,A:4,Nf:0},f=!1,C=null,L=null,A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],v=!1,k=!1,M=new Float32Array(1),K=new Int32Array(M.buffer),
w={sf:null,tf:null},l={h:function(){y||(H=[c.RGBA,null,c.RGBA,c.RGBA],u=[c.RGBA,null,c.RGBA,c.RGBA],m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],v="undefined"!==typeof aa,k="undefined"!==typeof za,h=[-1,-1,-1,-1,-1,-1,-1,-1],E=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],y=!0)},fm:function(){if(!q){for(var x=new Float32Array(16384),G=0;16384>G;++G)x[G]=2*Math.random()-1;q={random:l.instance({isFloat:!0,isPot:!0,array:x,width:64}),yj:l.instance({isFloat:!1,isPot:!0,
width:1,array:new Uint8Array([0,0,0,0])})}}l.uo()},Ih:function(){return q.yj},uo:function(){E[1]=za.bf(c)},Sn:function(){u=H=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Ni:function(x){Z.set("s1");xa.X();var G=x.I(),I=x.V();c.viewport(0,0,G,I);x.a(0);W.g(!1,!1)},Tp:function(x,G){l.Ni(x);c.readPixels(0,0,x.I(),x.V(),c.RGBA,c.UNSIGNED_BYTE,G)},Up:function(x,G){l.Ni(x);return za.$f(0,0,x.I(),x.V(),G)},xh:function(x,G,I,O,T,ba,ia){x.activeTexture(x.TEXTURE0);var P=x.createTexture();x.bindTexture(x.TEXTURE_2D,P);T=
T instanceof Float32Array?T:new Float32Array(T);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,ba);x.texImage2D(x.TEXTURE_2D,0,x.RGBA,I,O,0,x.RGBA,x.FLOAT,T);x.bindTexture(x.TEXTURE_2D,null);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1);ia&&(xa.fa(),Z.xb(x));x.viewport(0,
0,I,O);x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,G,0);x.bindTexture(x.TEXTURE_2D,P);ia?W.g(!0,!0):W.Nb(x);x.deleteTexture(P);y&&(h[0]=-1,p=null,n=0)},ue:function(x){x!==n&&(c.activeTexture(m[x]),n=x)},instance:function(x){function G(){la=void 0!==t.ga_.videoWidth?t.ga_.videoWidth:t.ga_.width;ha=void 0!==t.ga_.videoHeight?t.ga_.videoHeight:t.ga_.height}function I(da){var va=c.getError();if("FUCKING_BIG_ERROR"===va)return!1;c.texImage2D(c.TEXTURE_2D,0,Ga,Ya,oa,da);va=c.getError();
va!==c.NO_ERROR&&Ya!==c.RGBA&&(Ya=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,Ga,Ya,oa,da));return!0}function O(){if(!ea){a(Qa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,N);t.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,t.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,t.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));t.isAnisotropicFiltering&&"undefined"!==
typeof S&&c.texParameterf(c.TEXTURE_2D,aa.El().TEXTURE_MAX_ANISOTROPY_EXT,S.ak);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,t.isLinear?c.LINEAR:c.NEAREST);t.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,t.isMipmap&&!ka?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,t.isMipmap&&!ka?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);Ya=H[t.A-1];Ga=u[t.A-1];oa=E[D];if(za.ha()){var da=za.Gl();Ya===c.RGBA&&oa===c.FLOAT?t.isMipmap||t.isLinear?Ga=Bb.Il(c):za.ba()?
da&&(Ga=da):Ga=c.RGBA16F||c.RGBA:Ya===c.RGB&&oa===c.FLOAT&&da&&(Ga=da,Ya=c.RGBA)}if(t.O&&!t.isFloat||t.isFloat&&t.isMipmap&&Bb.xm())Ga=za.Hl(),oa=za.bf(c);t.Nf&&(Ra=t.Nf);t.isSrgb&&4===t.A&&(Ya=aa.Xl());if(t.ga_)I(t.ga_);else if(t.url)I(Ma);else if(Oa){da=Oa;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,da),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,la,ha,0,c.RGBA,
c.UNSIGNED_BYTE,null)))}catch(md){c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,null)}t.isKeepArray||(Oa=null)}else da=c.getError(),"FUCKING_BIG_ERROR"!==da&&(c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,null),da=c.getError(),da!==c.NO_ERROR&&(Ya=c.RGBA,t.O&&oa!==c.FLOAT&&(oa=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,null))));if(t.isMipmap)if(!ka&&Va)Va.qd(),bb=!0;else if(ka){da=Math.log2(Math.min(la,ha));Ca=Array(1+da);Ca[0]=Qa;for(var va=1;va<=da;++va){var gb=Math.pow(2,va),Ka=la/gb;gb=
ha/gb;var Ib=c.createTexture();a(Ib);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,Ga,Ka,gb,0,Ya,oa,null);a(null);Ca[va]=Ib}bb=!0}a(null);h[n]=-1;N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);V=!0;t.N&&Va&&(t.N(Va),t.N=null)}}function T(){for(var da=la*ha,va=2*da,gb=3*da,Ka=0;Ka<da;++Ka)La[0][Ka]=vb[Ka],La[1][Ka]=vb[Ka+da],La[2][Ka]=vb[Ka+va],La[3][Ka]=vb[Ka+gb]}function ba(){var da=la*ha*4;Ja=[new Uint8Array(da),
new Uint8Array(da),new Uint8Array(da),new Uint8Array(da)];La=[new Float32Array(Ja[0].buffer),new Float32Array(Ja[1].buffer),new Float32Array(Ja[2].buffer),new Float32Array(Ja[3].buffer)];Fa=new Uint8Array(4*da);vb=new Float32Array(Fa.buffer);ya=!0}function ia(){P=new Uint8Array(la*ha*4);kb=new Float32Array(P.buffer);lb=!0}var P,t=Object.assign({},g,x),z=r++;null===t.isFlipY&&(t.isFlipY=t.url||t.array?!0:!1);t.data&&(t.array="string"===typeof t.data?Fb(t.data):t.isFloat?new Float32Array(t.data):new Uint8Array(t.data),
t.isFlipY=!1);var D=0,R=t.ga_?!0:!1,ca=null,ja=null,pa=!1,ra=null;t.O=t.O||t.isFloat;t.O&&(D=1);!t.om&&t.isFloat&&k&&!za.ba()&&(t.isFloat=!1);t.isFloat&&(D=2);t.isAnisotropicFiltering&&v&&!aa.wm()&&(t.isAnisotropicFiltering=!1);var Qa=t.Jh||c.createTexture(),Ma=null,Oa=!1,la=0,ha=0,V=!1,ea=!1,ya=!1,La=null,Ja=null,Fa=null,vb=null,Ga=null,Ya=null,oa=null,N=t.isFlipY,Y=(x=t.O&&t.isMipmap)&&Bb.Kk(),ka=x&&Y?!0:!1,Ca=null,Ra=-1,bb=!1,lb=!1,kb=P=null;t.width&&(la=t.width,ha=t.height?t.height:la);var Va=
{get:function(){return Qa},I:function(){return la},V:function(){return ha},Zl:function(){return t.url},di:function(){return t.isFloat},ei:function(){return t.O},Lp:function(){return t.isLinear},qd:function(){c.generateMipmap(c.TEXTURE_2D)},Bk:function(da,va){ka?(da||(da=Va.Gh()),l.ue(va),a(Ca[da]),h[va]=-1):Va.a(va)},Gh:function(){-1===Ra&&(Ra=Math.log(la)/Math.log(2));return Ra},xl:function(da){if(ka){da||(da=Va.Gh());Z.set("s12");l.ue(0);for(var va=la,gb=ha,Ka=1;Ka<=da;++Ka)va/=2,gb/=2,Z.L("u8",
.25/va,.25/gb),c.viewport(0,0,va,gb),a(Ca[Ka-1]),c.framebufferTexture2D(xa.ud(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Ca[Ka],0),W.g(!1,1===Ka);h[0]=-1}else Va.qd()},fq:function(da){(R=!(Array.isArray(da)||da.constructor===Float32Array||da.constructor===Uint8Array))?(Oa=null,t.ga_=da,G()):Oa=da},a:function(da){if(!V)return!1;l.ue(da);if(h[da]===z)return!1;a(Qa);h[da]=z;return!0},Ib:function(da){c.activeTexture(m[da]);n=da;a(Qa);h[da]=z},i:function(){p=Va;c.framebufferTexture2D(xa.ud(),c.COLOR_ATTACHMENT0,
c.TEXTURE_2D,Qa,0)},K:function(){p=Va;c.viewport(0,0,la,ha);c.framebufferTexture2D(xa.ud(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Qa,0)},de:l.de,resize:function(da,va){la=da;ha=va;O()},clone:function(da){da=l.instance({width:la,height:ha,O:t.O,isFloat:t.isFloat,isLinear:t.isLinear,isMirrorY:t.isMirrorY,isFlipY:da?!N:N,isPot:t.isPot});pb.set("s0");xa.fa();da.i();c.viewport(0,0,la,ha);Va.a(0);W.g(!0,!0);return da},Nc:function(){c.viewport(0,0,la,ha)},remove:function(){c.deleteTexture(Qa);ea=!0;B.splice(B.indexOf(Va),
1);Va=null},refresh:function(){Va.Ib(0);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);R?c.texImage2D(c.TEXTURE_2D,0,Ga,Ya,oa,t.ga_):c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,Oa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Li:function(){ya||ba();c.readPixels(0,0,la,4*ha,c.RGBA,c.UNSIGNED_BYTE,Fa);T();return La},hn:function(){ya||ba();return za.$f(0,0,la,4*ha,Fa).then(function(){T();return La})},kn:function(){lb||ia();c.readPixels(0,0,la,ha,c.RGBA,c.UNSIGNED_BYTE,P);return kb},jn:function(){lb||ia();
return za.$f(0,0,la,ha,P)},mh:function(da){xa.X();Z.set("s13");Va.a(0);if(da)c.viewport(0,0,la,ha),Z.Xn("u9",.25,.25,.25,.25),W.g(!1,!0);else for(da=0;4>da;++da)c.viewport(0,ha*da,la,ha),Z.za("u9",A[da]),W.g(!1,0===da)},Fg:function(da){var va;if(va=oa===E[0])null!==w.tf?va=w.tf:(va=d(new Uint8Array([127,127,127,127])),va=null===va?!0:w.tf=va),va=!va;a(Qa);N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);va?(pa||(ca=document.createElement("canvas"),ca.width=la,ca.height=ha,ja=ca.getContext("2d"),ra=ja.createImageData(la,
ha),pa=!0),ra.data.set(da),ja.putImageData(ra,0,0),c.texImage2D(c.TEXTURE_2D,0,Ga,Ya,oa,ca)):c.texImage2D(c.TEXTURE_2D,0,Ga,la,ha,0,Ya,oa,da);h[n]=z;N&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},qq:function(da,va){a(Qa);va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,Ga,Ya,oa,da);h[n]=z;va&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Jc:function(da,va){var gb=la*ha,Ka=4*gb;da=t.O?da?"RGBE":"JSON":"RGBA";va&&(da=va);va=za.ha()&&!1;var Ib=null;switch(da){case "RGBE":Ib="s43";break;
case "JSON":Ib=va?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Ib="s7"}ya||("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da?(Ja=new Uint8Array(Ka),ya=!0):"JSON"!==da||va||ba());xa.X();Z.set(Ib);Va.a(0);Ka=null;if("RGBA"===da||"RGBE"===da||"RGBAARRAY"===da){c.viewport(0,0,la,ha);W.g(!0,!0);c.readPixels(0,0,la,ha,c.RGBA,c.UNSIGNED_BYTE,Ja);if("RGBAARRAY"===da)return{data:Ja};f||(C=document.createElement("canvas"),L=C.getContext("2d"),f=!0);C.width=la;C.height=ha;gb=L.createImageData(la,ha);gb.data.set(Ja);
L.putImageData(gb,0,0);Ka=C.toDataURL("image/png")}else if("JSON"===da)if(va)Ka=new Float32Array(gb),c.viewport(0,0,la,ha),W.g(!0,!0),c.readPixels(0,0,la,ha,c.RGBA,c.FLOAT,Ka);else{for(Ka=0;4>Ka;++Ka)c.viewport(0,ha*Ka,la,ha),Z.za("u9",A[Ka]),W.g(!Ka,!Ka);Va.Li();Ka=Array(gb);for(va=0;va<gb;++va)Ka[4*va]=La[0][va],Ka[4*va+1]=La[1][va],Ka[4*va+2]=La[2][va],Ka[4*va+3]=La[3][va]}return{format:da,data:Ka,width:la,height:ha,isMirrorY:t.isMirrorY,isFlipY:"RGBA"===da?t.isFlipY:!t.isFlipY}}};t.isMipmap&&
!ka&&V&&!bb&&(Va.qd(),bb=!0);if(t.url)a(Qa),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),Ma=new Image,Ma.T="Anonymous",Ma.crossOrigin="Anonymous",Ma.src=t.url,Ma.onload=function(){la=Ma.width;ha=Ma.height;O()};else if(t.ga_){var Lc=function(){G();la?O():setTimeout(Lc,1)};Lc()}else t.array?(t.O&&!t.isFloat?t.array instanceof Uint16Array?(Oa=t.array,O()):e()?(Oa=b(t.array),O()):(O(),l.xh(c,Qa,Va.I(),Va.V(),t.array,N,!0)):(Oa=t.isFloat?t.array instanceof Float32Array?t.array:
new Float32Array(t.array):t.array instanceof Uint8Array?t.array:new Uint8Array(t.array),O()),t.isKeepArray||(Oa&&Oa!==t.array&&(Oa=null),delete t.array)):t.Jh?V=!0:O();Va.Ep=Va.I;t.N&&V&&(t.N(Va),t.N=null);B.push(Va);return Va},X:function(x){x!==n&&(c.activeTexture(m[x]),n=x);h[x]=-1;a(null)},Dk:function(x){q.random.a(x)},de:function(){p=null;c.framebufferTexture2D(xa.ud(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==n&&c.activeTexture(m[0]);for(var x=0;x<m.length;++x)h[x]=-1;n=
-1},Xp:function(){n=-1},Aj:function(){for(var x=0;x<m.length;++x)l.X(x)},H:function(){q&&(q.random.remove(),q.yj.remove())},Qc:function(x,G){if("RGBA"===x.format||"RGBE"===x.format){var I=new Image;I.src=x.data;I.onload=function(){l.instance({isMirrorY:x.isMirrorY,isFlipY:x.isFlipY,isFloat:!1,ga_:I,N:function(O){if("RGBA"===x.format)G(O);else{var T=x.width,ba=x.height,ia=l.instance({isMirrorY:x.isMirrorY,isFloat:!0,width:T,height:ba,isFlipY:x.isFlipY});xa.fa();c.viewport(0,0,T,ba);Z.set("s44");ia.i();
O.a(0);W.g(!0,!0);l.X(0);G(ia);za.flush();setTimeout(O.remove,50)}}})}}else"JSON"===x.format?G(l.instance({isFloat:!0,isFlipY:x.isFlipY,width:x.width,height:x.height,array:new Float32Array(x.data)})):G(!1)},Qk:b,u:function(){p&&(xa.fa(),l.de(),xa.X());l.Aj();B.slice(0).forEach(function(x){x.remove()});B.splice(0);y=!1;r=0;"undefined"!==typeof Bb&&Bb.u();q=null}};return l}(),Bc={instance:function(a){var b=[X.instance(a),X.instance(a)],e=[b[1],b[0]],d=e,n={aj:function(m){d[1].i();d[0].a(m);n.oj()},
Hn:function(m){d[1].K();d[0].a(m);n.oj()},oj:function(){d=d===b?e:b},refresh:function(){d[0].refresh();d[1].refresh()},a:function(m){d[0].a(m)},Ck:function(m){d[1].a(m)},zp:function(){return d[0]},Cp:function(){return d[1]},Fg:function(m){d[0].Fg(m);d[1].Fg(m)},remove:function(){d[0].remove();d[1].remove();d=null},sync:function(){n.Hn(0);Z.set("s0");W.g(!1,!1)}};return n}},W=function(){function a(q){var p={ea:null,R:null};p.ea=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,p.ea);q.bufferData(q.ARRAY_BUFFER,
new Float32Array([-1,-1,3,-1,-1,3]),q.STATIC_DRAW);p.R=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,p.R);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),q.STATIC_DRAW);return p}var b=null,e=0,d=!1,n=[],m=-2,r=-2,h={reset:function(){r=m=-2},h:function(){d||(b=a(c),h.ye(),d=!0)},instance:function(q){var p=e++,E=q.R?q.R.length:0,H="undefined"===typeof q.mode?c.STATIC_DRAW:q.mode,u=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,u);c.bufferData(c.ARRAY_BUFFER,q.ea instanceof Float32Array?
q.ea:new Float32Array(q.ea),H);m=p;var y=null,B=null,g=null;if(q.R){y=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y);var f=null;65536>q.R.length?(f=Uint16Array,B=c.UNSIGNED_SHORT,g=2):(f=Uint32Array,B=c.UNSIGNED_INT,g=4);f=q.R instanceof f?q.R:new f(q.R);c.bufferData(c.ELEMENT_ARRAY_BUFFER,f,H);r=p}var C={tc:function(L){m!==p&&(c.bindBuffer(c.ARRAY_BUFFER,u),m=p);L&&pb.Ud()},zk:function(){r!==p&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,y),r=p)},bind:function(L){C.tc(L);C.zk()},S:function(){c.drawElements(c.TRIANGLES,
E,B,0)},La:function(L,A){c.drawElements(c.TRIANGLES,L,B,A*g)},remove:function(){c.deleteBuffer(u);q.R&&c.deleteBuffer(y);C=null}};n.push(C);return C},ye:function(){-1!==m&&(c.bindBuffer(c.ARRAY_BUFFER,b.ea),m=-1);-1!==r&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.R),r=-1)},g:function(q,p){q&&W.ye();p&&pb.Mc();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},Nb:function(q){q=q||c;var p=a(q);q.bindBuffer(q.ARRAY_BUFFER,p.ea);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,p.R);pb.dc(q);q.clear(q.COLOR_BUFFER_BIT);
q.drawElements(q.TRIANGLES,3,q.UNSIGNED_SHORT,0);q.flush();q.bindBuffer(q.ARRAY_BUFFER,null);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,null);q.deleteBuffer(p.ea);q.deleteBuffer(p.R);h.reset();d&&(h.ye(),pb.Mc())},H:function(){var q=c,p=b;q.deleteBuffer(p.ea);q.deleteBuffer(p.R)},u:function(){h.H();n.forEach(function(q){q.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);h.reset();d=!1;n.splice(0);e=0}};return h}(),xa=function(){var a=null,b=null,e=null,d=!1,n=[],m={la:-2,
wh:1},r={Xb:function(){return d},h:function(){if(!d){a=c.createFramebuffer();var h=za.ha();b=h&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;e=h&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;d=!0}},Fl:function(){return b},Dh:function(){return e},ud:function(){return c.FRAMEBUFFER},Dp:function(){return m},tp:function(){return a},instance:function(h){void 0===h.yc&&(h.yc=!1);var q=h.ia?h.ia:null,p=h.width,E=void 0!==h.height?h.height:h.width,H=a,u=null,y=!1,B=!1,g=0;q&&(p=p?p:q.I(),E=
E?E:q.V());var f={Vi:function(){y||(H=c.createFramebuffer(),y=!0,g=m.wh++)},Xc:function(){f.Vi();f.i();u=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,p,E);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,u);c.clearDepth(1)},bind:function(C,L){g!==m.la&&(c.bindFramebuffer(b,H),m.la=g);q&&q.i();L&&c.viewport(0,0,p,E);C&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Ug:function(){g!==m.la&&(c.bindFramebuffer(b,H),
m.la=g)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Fe:function(){c.clear(c.COLOR_BUFFER_BIT)},ah:function(){c.clear(c.DEPTH_BUFFER_BIT)},Nc:function(){c.viewport(0,0,p,E)},i:function(){g!==m.la&&(c.bindFramebuffer(b,H),m.la=g)},rtt:function(C){q=C;m.la!==g&&(c.bindFramebuffer(c.FRAMEBUFFER,H),m.la=g);C.i()},X:function(){c.bindFramebuffer(b,null);m.la=-1},resize:function(C,L){p=C;E=L;u&&(c.bindRenderbuffer(c.RENDERBUFFER,u),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,
p,E))},remove:function(){H===a||B||(c.bindFramebuffer(b,H),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),u&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null),c.bindFramebuffer(b,null),c.deleteFramebuffer(H),u&&c.deleteRenderbuffer(u));B=!0}};h.yc&&f.Xc();n.push(f);return f},X:function(){c.bindFramebuffer(b,null);m.la=-1},oq:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);za.kj();m.la=-1},reset:function(){m.la=-2},fa:function(){0!==
m.la&&(c.bindFramebuffer(b,a),m.la=0)},clear:function(){za.kj();c.clear(c.COLOR_BUFFER_BIT)},u:function(){r.X();n.forEach(function(h){h.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);r.reset();d=!1;n.splice(0);m.wh=1}};return r}(),za=function(){function a(){n="undefined"===typeof fb?aa:fb;m=!0}function b(f,C){for(var L=0;L<f.length;++L){var A=C.getExtension(f[L]);if(A)return A}return null}function e(){null!==y.ce&&(clearInterval(y.ce),y.ce=null);y.Sb=!1}function d(){y.wc&&(c.deleteSync(y.wc),
y.wc=null)}var n=null,m=!1,r={Xh:!1,xg:null,yg:null,ai:!1,um:!1,zg:null,bi:!1,Ag:null,Yh:!1,Ge:null,lm:!1,He:null,mm:!1},h=null,q={Va:!0,Xa:!0,Ye:!0,Ki:!1},p=null,E=!0,H=null,u=null,y={Sb:!1,Pb:null,wc:null,gf:-1,Ma:null,ce:null},B="undefined"===typeof window?{}:window,g={h:function(){if(m)return!0;g.reset();m||a();var f=c;if(!h.Xh){h.xg=g.th(f);B.GL_EXT_FLOAT=h.xg;h.ai=h.xg?!0:!1;if(h.ai||g.ha())h.yg=g.uh(f),h.um=h.yg?!0:!1,B.GL_EXT_FLOATLINEAR=h.yg;h.Xh=!0}if(!h.Yh){h.zg=g.md(f);h.zg&&(h.bi=!0,
B.GL_EXT_HALFFLOAT=h.zg);if(h.bi||g.ha())h.Ag=g.vh(f),B.GL_EXT_HALFFLOATLINEAR=h.Ag;h.Jp=h.Ag?!0:!1;h.Yh=!0}h.Ge=g.rh(f);h.lm=h.Ge?!0:!1;B.GL_EXT_COLORBUFFERFLOAT=h.Ge;h.He=g.sh(f);h.mm=h.He?!0:!1;B.GL_EXT_COLORBUFFERHALFFLOAT=h.He;xa.h();X.h();if(!g.cl())return!1;W.h();X.fm();return!0},reset:function(){h=Object.assign({},r);p=Object.assign({},q)},I:function(){m||a();return n.I()},V:function(){m||a();return n.V()},ha:function(){m||a();return n.ha()},qh:function(f){g.rh(f);g.sh(f);g.th(f);g.uh(f);
g.md(f);g.vh(f)},rh:b.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),sh:b.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),th:b.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),uh:b.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),md:b.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),
vh:b.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),bf:function(f){var C=g.md(f);return C&&C.HALF_FLOAT_OES?C.HALF_FLOAT_OES:f.HALF_FLOAT||f.FLOAT},Gl:function(){return u||c.RGBA32F||c.RGBA},Hl:function(){return H||c.RGBA16F||c.RGBA},Al:function(){return p},ba:function(){return p.Va},cp:function(){return p.Xa},Jk:function(){return p.Ye},Mk:function(){return p.Ki&&E},xj:function(f){E=f;!f&&y.Sb&&(d(),c.bindBuffer(y.Ma,null),y.Sb=
!1)},Mp:function(){return y.Sb},$d:function(f,C,L){function A(){f.bindTexture(f.TEXTURE_2D,null);f.bindFramebuffer(v,null);f.deleteTexture(K);f.deleteFramebuffer(M)}var v=f.FRAMEBUFFER,k=f.NEAREST,M=f.createFramebuffer();f.bindFramebuffer(v,M);var K=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,K);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_MAG_FILTER,k);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,k);f.texImage2D(f.TEXTURE_2D,0,C,3,3,0,f.RGBA,L,null);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,K,0);if(f.checkFramebufferStatus(f.READ_FRAMEBUFFER||f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)return A(),!1;pb.Sd(f);f.clearColor(0,0,0,0);f.viewport(0,0,3,3);f.disable(f.DEPTH_TEST);f.clear(f.COLOR_BUFFER_BIT);W.Nb(f);f.bindFramebuffer(v,null);pb.xb(f);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,
K);W.Nb(f);C=new Uint8Array(36);f.readPixels(0,0,3,3,f.RGBA,f.UNSIGNED_BYTE,C);A();for(L=0;36>L;++L)if(3!==L%4&&3<Math.abs(C[L]-127))return!1;return!0},Qe:function(f){var C={Va:!1,Xa:!1};f.disable(f.BLEND);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);f.RGBA32F&&g.$d(f,f.RGBA32F,f.FLOAT)&&(C.Va=!0,u=f.RGBA32F);!C.Va&&g.$d(f,f.RGBA,f.FLOAT)&&(C.Va=!0,u=f.RGBA);var L=g.bf(f);H=null;f.RGBA16F&&g.$d(f,f.RGBA16F,L)&&(C.Xa=!0,H=f.RGBA16F);!C.Xa&&g.$d(f,f.RGBA,L)&&(C.Xa=!0,H=f.RGBA);return C},el:function(){var f=
xa.instance({width:2});f.Vi();var C=X.instance({width:2,isFloat:!0,A:3});f.i();C.i();g.flush();c.checkFramebufferStatus(xa.Dh())!==c.FRAMEBUFFER_COMPLETE?(X.Sn(),p.Ye=!1):p.Ye=!0;f.remove();C.remove()},fl:function(){var f=!1;g.ha()&&(f="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(C){return"undefined"!==typeof c[C]}));p.Ki=f},cl:function(){var f=g.Qe(c);Object.assign(p,f);if(!p.Va&&!p.Xa)return!1;g.el();g.fl();return!0},
ln:function(f,C,L,A,v){c.readPixels(f,C,L,A,c.RGBA,c.UNSIGNED_BYTE,v);return Promise.resolve(v,!1)},$f:function(f,C,L,A,v,k){if(!g.Mk())return g.ln(f,C,L,A,v);null===y.Pb&&(y.Ma=c.PIXEL_PACK_BUFFER,y.Pb=c.createBuffer(),y.gf=-1);c.bindBuffer(y.Ma,y.Pb);v.byteLength!==y.gf&&(c.bufferData(y.Ma,v.byteLength,c.STREAM_READ),y.gf=v.byteLength);c.readPixels(f,C,L,A,c.RGBA,c.UNSIGNED_BYTE,0);y.wc=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);g.flush();var M=!1;return new Promise(function(K,w){function l(){if(!y.Sb)return e(),
w(),!1;switch(c.clientWaitSync(y.wc,0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:return!1;default:return e(),d(),c.getBufferSubData(y.Ma,0,v),c.bindBuffer(y.Ma,null),K(v,M),!0}}e();y.Sb=!0;l()||(k&&!M&&(M=!0,k()),y.ce=setInterval(l,0))})},kj:function(){c.viewport(0,0,g.I(),g.V())},flush:function(){c.flush()},u:function(){e();d();X.u();xa.u();W.u();null!==y.Pb&&(c.deleteBuffer(y.Pb),y.Pb=null);pb.reset();m=!1}};return g}(),Bb=function(){function a(k,M,K,w){f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,
w?f.NEAREST_MIPMAP_NEAREST:f.LINEAR);var l=null;if(null!==K)try{l=f.getError();if("FUCKING_BIG_ERROR"===l)return!1;f.texImage2D(f.TEXTURE_2D,0,k,4,4,0,f.RGBA,M,K);l=f.getError();if(l!==f.NO_ERROR)return!1}catch(x){return!1}w&&f.generateMipmap(f.TEXTURE_2D);f.clear(f.COLOR_BUFFER_BIT);W.Nb(f);l=f.getError();if("FUCKING_BIG_ERROR"===l)return!1;f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,E);l=f.getError();l===f.INVALID_OPERATION&&"undefined"!==typeof f.PIXEL_PACK_BUFFER&&(f.bindBuffer(f.PIXEL_PACK_BUFFER,
null),f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,E),l=f.getError());if(l!==f.NO_ERROR)return!1;K=!0;for(w=0;16>w;++w)K=K&&4>Math.abs(E[w]-127);K&&(q.Fi=M,q.Vh=k);return K}function b(k,M){return C.Va&&a(k,f.FLOAT,new Float32Array(H),M)?(h=r.Rg,!0):!1}function e(k,M,K){if(!C.Xa)return!1;var w=X.Qk(H),l=za.md(f);if(l&&l.HALF_FLOAT_OES&&a(k,l.HALF_FLOAT_OES,w,M)||f.HALF_FLOAT&&a(k,f.HALF_FLOAT,w,M))return h=r.oc,!0;w=new Float32Array(H);if(a(k,f.FLOAT,w,M))return h=r.oc,!0;f.bindTexture(f.TEXTURE_2D,
K);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,2,2,0,f.RGBA,f.UNSIGNED_BYTE,null);f.bindFramebuffer(q.gd,v);X.xh(f,K,2,2,w,!1,!1);f.bindFramebuffer(q.gd,null);f.bindTexture(f.TEXTURE_2D,K);return a(k,null,null,M)?(h=r.oc,!0):!1}function d(k,M,K){p=!0;if(e(k,!0,K)||b(M,!0))return!0;p=!1;return e(k,!1,K)||b(M,!1)?!0:!1}function n(k){if(h===r.F){f=k||c;h=r.RGBA8;p=!0;za.qh(f);C||(C=za.Qe(f));xa.reset();v=f.createFramebuffer();q.gd=f.DRAW_FRAMEBUFFER||f.FRAMEBUFFER;f.bindFramebuffer(q.gd,null);f.clearColor(0,
0,0,0);f.viewport(0,0,2,2);Z.F();L=Z.xb(f);k=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,k);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);A=k;var M=k=f.RGBA,K=f.RGBA16F,w=f.RGBA32F;w&&(k=w);K&&(M=K);if((K||w)&&d(M,k,A))return m(),!0;k=M=f.RGBA;if(d(M,k,A))return m(),!0;h=r.RGBA8;m();return!1}}function m(){f.deleteProgram(L.na);f.deleteTexture(A);
A=L=null}for(var r={F:-1,Rg:3,oc:2,RGBA8:0},h=r.F,q={Fi:null,Vh:null,gd:null},p=!0,E=new Uint8Array(16),H=Array(64),u=0;4>u;++u)for(var y=0;4>y;++y){var B=0===(y+u)%2?1:0,g=4*u+y;H[4*g]=B;H[4*g+1]=B;H[4*g+2]=B;H[4*g+3]=B}var f=null,C=null,L=null,A=null,v=null;return{Kk:function(k){n(k);return p},Zg:function(k,M){h===r.F&&(typeof("undefined"!==M)&&(C=M),n(k));return h!==r.RGBA8},Kp:function(k){n(k);return h===r.Rg},xm:function(k){n(k);return h===r.oc},yp:function(k){n(k);return q.Fi},Il:function(k){n(k);
return q.Vh},u:function(){f=null;p=!0;h=r.F;C=null}}}(),cd={instance:function(a){var b=X.instance(a.alpha),e=X.instance(a.beta);return{ml:function(){b.a(1);e.a(2)}}}},Pc={instance:function(a){var b=null,e=!1,d=!1,n=null,m=!1,r=!1,h=null,q="undefined"===typeof a.preprocessing?!1:a.preprocessing,p="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,J&&void 0!==J.Y&&(a.mask=J.Y+a.mask),b=X.instance({isFloat:!1,url:a.mask}));var E=!1;a.customInputShader&&(E="s45",Z.oa({name:"_",
id:E,b:a.customInputShader,pq:["uSource"],precision:"lowp"}),Z.f(E,[{type:"1i",name:"_",value:0}]));switch(q){case "sobel":h="s32";m=!0;break;case "meanNormalization":h="s33";m=!0;break;case "grayScale":h="s29";m=!1;break;case "grayScaleTilt":h="s30";r=!0;m=!1;break;case "rgbGrayTilt":h="s31";r=!0;m=!1;break;case "copy":h=E?E:"s0";break;case "inputLightRegulation":h=E?E:"s29";n=dd.instance({Uh:p,zi:a.size,ti:a.nBlurPass,Ad:!1});d=!0;break;case "inputMix0":h="none";n=ed.instance({ta:p,Gj:a.varianceMin,
Vg:a.blurKernelSizePx,Ad:!1});d=!0;break;case "direct":case "none":h="abort";break;default:h="s4"}r&&Z.f(h,[{name:"u27",type:"1f",value:a.tilt}]);e&&(h+="Mask");var H=X.instance({isFloat:!1,isPot:!1,width:a.size}),u={I:function(){return p},cf:function(){return u.I()},Nl:function(){return d?n.df():H},xa:function(y){xa.fa();"abort"!==h&&("none"!==h&&(Z.set(h),m&&Z.C("u28",1/a.size),H.K(),e&&b.a(1),W.g(!1,!1),H.a(0),y=H),d&&n.process(y))},u:function(){H.remove();e&&b.remove()}};return u}},Qc={instance:function(a){function b(I){n.forEach(function(O,
T){m[T][0]=I[0][O];m[T][1]=I[1][O];m[T][2]=I[2][O];m[T][3]=I[3][O]});return m}a.normalize=a.normalize||!1;var e={input:null,Zc:null,vf:null,Qa:null,Jd:null,Uf:null,Vf:null},d=null,n=[],m=[],r=!1,h=null,q=!0,p=-1,E=a.isReorganize?a.isReorganize:!1,H=a.kernelsCount?!0:!1,u=a.dynPelu?cd.instance(a.dynPelu):!1,y=u?!0:!1,B={isEnabled:!1};a.rm?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Od.cf(),q=!1):"full"===a.connectivityUp&&(a.sparsity=a.Od.cf());var g={elu:"s16",elu01:"s17",relu:"s15",
arctan:"s19",sigmoid:"s14",copy:"s0",softplus:"s20",dynPelu:"s18"}[a.activation],f=a.sparsity*a.sparsity,C=!1,L=a.size,A="";if(a.maxPooling){switch(a.maxPooling.size){case 2:A="s34";break;case 4:A="s35"}C=!0;L/=a.maxPooling.size;e.Uf=X.instance({isFloat:!0,isPot:!1,width:L})}var v=a.normalization?!0:!1,k=null,M=null,K=null;if(v){k="s46"+a.index.toString();Z.Qh("s46",k,[((a.normalization.n-1)/2).toFixed(1)]);Z.f(k,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u8",value:[1/a.size,1/a.size]},{type:"1f",
name:"u7",value:a.normalization.alpha},{type:"1f",name:"u10",value:a.normalization.beta},{type:"1f",name:"u31",value:a.normalization.k}]);var w={isFloat:!0,isPot:!0,width:a.size};M=X.instance(w);K=X.instance(w)}var l=-1,x=null;q&&(e.Qa=X.instance({isFloat:!0,isPot:!1,width:a.size}));e.Zc=X.instance(a.bias);var G={I:function(){return a.size},cf:function(){return L},Ah:function(){return a.classesCount},Ak:function(I){d.a(I)},an:function(){a.remap&&a.remap.isEnabled&&(B={isEnabled:!0,Lm:X.instance({isFloat:!1,
isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),Cd:a.remap.layers.map(function(I){return a.parent.Kl(I)}),depth:a.remap.depth})},Tn:function(){switch(a.connectivityUp){case "direct":x=fd.instance(a.connectivity);break;case "square":x=gd.instance(a.connectivity);break;case "squareFast":x=hd.instance(a.connectivity,a.activation);break;case "full":x=id.instance(a.connectivity);break;case "conv":p=a.kernelsCount,x=jd.instance(a.connectivity),E&&(e.Jd=
X.instance({width:L,isFloat:!0,isFlipY:!1,isPot:!1}))}if(x.ic){var I=a.size*a.sparsity;l=Math.log(I/a.size)/Math.log(2);e.input=X.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:I,Nf:l});e.vf=X.instance({isFloat:!0,isPot:!0,width:a.size})}},xa:function(I,O){d=I;x.ic?(e.input.K(),H&&e.Zc.a(2),x.xa(B),e.input.a(0),e.input.xl(l),e.vf.K(),H?Z.set("s0"):(Z.set("s28"),Z.C("u26",f),e.Zc.a(1)),e.input.Bk(l,0),W.g(!1,!1),Z.set(g),v?M.i():e.Qa.i(),e.vf.a(0),y&&u.ml(),W.g(!1,!1)):(e.Qa.K(),e.Zc.a(1),x.xa());
v&&(Z.set(k),K.i(),M.a(0),W.g(!1,!1),Z.set("s47"),Z.C("u7",1),e.Qa.i(),K.a(1),W.g(!1,!1));if(q)return C?(e.Uf.K(),e.Qa.a(0),Z.set(A),Z.L("u8",1/a.size,1/a.size),W.g(!1,!1),O=e.Uf):O=e.Qa,O.a(0),E&&(e.Jd.i(),Z.set("s22"),Z.L("u13",p,L/p),W.g(!1,!1),O=e.Jd,e.Jd.a(0)),O;var T=e.Qa;a.normalize&&(Z.set("gpuRawAvg"===r?"s9":"s8"),Z.C("u4",1/a.size),e.Vf.K(),e.Qa.a(0),W.g(!1,!1),T=e.Vf);I=null;switch(r){case "cpuRGBA2Float":T.mh(!1);O?I=G.fn(T).then(h):(T=G.gn(T),h(T));break;case "cpuMeanFloat":T.mh(!0);
if(O)I=T.jn().then(h);else{T=T.kn();for(var ba=0;ba<T.length;++ba);h(T)}break;case "gpuRawAvg":case "gpuRaw":T.a(0);case "none":null!==h&&h(T)}O&&null===I&&(I=Promise.resolve());return I},Sk:function(I){I&&(r=I.Wf||"none",h=I.Tf||null);e.Qa=X.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});I="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var O=0,T=0,ba=0;O<I;++O)n.push(T+(a.size-1-ba)*a.size),m.push([-1,-1,-1,-1]),++T,T===a.size&&(T=0,++ba);a.normalize&&
(e.Vf=X.instance({isFloat:!0,isPot:!0,width:a.size}))},fn:function(I){return I.hn().then(b)},gn:function(I){I=I.Li();b(I);return m},u:function(){for(var I in e){var O=e[I];O&&O.remove()}x&&(x.u(),x=null)}};a.Od&&G.Tn(a.Od);return G}},fd={instance:function(a){var b=X.instance(a.weights);return{ic:!0,td:function(){return 1},u:function(){b.remove()},$l:function(){return b},xa:function(){Z.set("s27");b.a(1);W.g(!1,!1)}}}},id={instance:function(a){var b=a.fromLayerSize,e=X.instance(a.weights);return{ic:!0,
td:function(){return b},u:function(){e.remove()},xa:function(d){if(d.isEnabled){Z.set("s25");d.Lm.a(3);var n,m=Math.min(d.Cd.length,d.depth);for(n=0;n<m;++n)d.Cd[n].Ak(4+n)}else Z.set("s24");Z.C("u17",a.toLayerSize);e.a(1);W.g(!1,!1)}}}},gd={instance:function(a){for(var b=a.fromLayerSize,e=a.toLayerSize,d=a.toSparsity,n=d*e,m=n/b,r=b/e,h=0,q=0,p=0,E=Array(d*e*d*e*4),H=Array(d*e*d*e*4),u=Array(b*b),y=0;y<u.length;++y)u[y]=0;y=Math.floor(d/2);for(var B=.5/e,g=.5/b,f=.5/n,C=0;C<e;++C)for(var L=Math.round(C*
r),A=0;A<e;++A){var v=Math.round(A*r),k=C/e,M=A/e;k+=B;M+=B;for(var K=0;K<d;++K){var w=L+K-y;0>w&&(w+=b);w>=b&&(w-=b);for(var l=0;l<d;++l){var x=h/n,G=q/n,I=v+l-y;0>I&&(I+=b);I>=b&&(I-=b);var O=w/b,T=I/b;G=1-G-1/n;O+=g;T+=g;x+=f;G+=f;var ba=C*d+K,ia=A*d+l;ia=e*d-ia-1;ba=ia*e*d+ba;E[4*ba]=x;E[4*ba+1]=G;E[4*ba+2]=O;E[4*ba+3]=T;T=u[I*b+w]++;ba=T%m;O=w*m+ba;I=I*m+(T-ba)/m;I=b*m-1-I;I=I*b*m+O;H[4*I]=x;H[4*I+1]=G;H[4*I+2]=k;H[4*I+3]=M;++h>=n&&(h=0,++q);++p}}}u=null;var P=X.instance(a.weights);delete a.weights.data;
var t=X.instance({width:n,isFloat:!0,array:new Float32Array(H),isPot:!0});H=null;var z=X.instance({width:n,isFloat:!0,array:new Float32Array(E),isPot:!0});E=null;return{ic:!0,td:function(){return m},u:function(){t.remove();z.remove();P.remove()},xa:function(){Z.set("s23");P.a(1);z.a(2);W.g(!1,!1)}}}},jd={instance:function(a){var b=a.kernelsCount,e=a.toSparsity,d=e*a.toLayerSize/a.fromLayerSize,n=X.instance(a.weights);return{ic:!0,td:function(){return d},Gp:function(){return e},$l:function(){return n},
u:function(){n.remove()},xa:function(){Z.set("s26");Z.C("u23",b);Z.C("u24",e);Z.C("u17",a.toLayerSize);Z.C("u25",a.fromLayerSize);n.a(1);W.g(!1,!1)}}}},hd={instance:function(a,b){var e=a.fromLayerSize,d=a.toLayerSize,n=a.toSparsity,m=a.stride?a.stride:1,r=n*d/e,h=d<e,q=e/d,p=X.instance(a.weights),E="s48"+[e.toString(),d.toString(),n.toString(),m.toString(),b].join("_");Z.vl(E)||(a=Ea(b),d=[{type:"1f",name:"u17",value:d},{type:"1f",name:"u30",value:m}],h&&d.push({type:"1f",name:"u25",value:e}),e=[(h?
r:n).toFixed(1),a],h&&e.push(q.toFixed(1)),Z.Qh(h?"s40":"s39",E,e),Z.f(E,d.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{ic:!1,td:function(){return r},u:function(){p.remove()},xa:function(){Z.set(E);p.a(3);W.g(!1,!1)}}}},dd={instance:function(a){var b=a.ti?a.ti:3,e=a.Uh?a.Uh:64,d=a.zi?a.zi:64,n=a.Ad?!0:!1;a={isFloat:!1,width:e,isPot:!1,isFlipY:!1};var m=X.instance(a),r=X.instance(a),h=X.instance(a),q=X.instance(a),p=X.instance({isFloat:!0,
width:d,isPot:!1,isFlipY:!1}),E=1/e;return{process:function(H){Z.set("s36");q.i();W.g(n,!1);Z.set("s37");for(var u=0;u<b;++u)m.i(),Z.L("u8",E,0),W.g(n,!1),h.i(),q.a(0),W.g(n,!1),r.i(),m.a(0),Z.L("u8",0,E),W.g(n,!1),q.i(),h.a(0),W.g(n,!1),u!==b-1&&r.a(0);Z.set("s38");p.i();H.a(0);r.a(1);q.a(2);W.g(n,!1);p.a(0)},df:function(){return p}}}},ed={instance:function(a){function b(q){return X.instance({isFloat:q,width:e.ta,isPot:!1,isFlipY:!1})}var e=Object.assign({Gj:.1,Vg:9,ta:128,Ad:!1},a),d=b(!1),n=[b(!1),
b(!1),b(!1)],m=[b(!1),b(!1),b(!1)],r=b(!0),h=[d,m[0],m[1]];a={u1:0};Z.ve([{id:"s50",name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",l:a,c:["u1"],precision:"lowp"},{id:"s51",name:"_",b:"uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u32;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u32*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((e.Vg-1)/2).toFixed(2)).replace("2.2222",(1/e.ta).toFixed(6)),l:a,c:["u1","u32"],precision:"lowp"},{id:"s52",name:"_",b:"uniform sampler2D u33,u34,u35,u36;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u33,vv0).rgb;float c=texture2D(u34,vv0).r,d=texture2D(u35,vv0).r,h=texture2D(u36,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",e.Gj.toFixed(4)),l:{u33:0,u34:1,u35:2,u36:3},
c:["u33","u34","u35","u36"],precision:"highp"}]);return{process:function(){Z.set("s50");d.K();W.g(e.Ad,!1);Z.set("s51");for(var q=0;3>q;++q)Z.L("u32",1,0),n[q].i(),h[q].a(0),W.g(!1,!1),Z.L("u32",0,1),m[q].i(),n[q].a(0),W.g(!1,!1);Z.set("s52");r.i();d.a(0);m[0].a(1);m[1].a(2);m[2].a(3);W.g(!1,!1);r.a(0)},df:function(){return r}}}},Ab=function(){function a(B,g,f,C,L,A,v){if(!u)if(v===A.length)L();else{switch(A[v]){case "A":f();break;case "D":B();break;case "S":g().then(function(k,M){y.wj();a(B,g,f,
M?null:C,L,A,++v)}).catch(function(k){L();throw k;});return;case "R":C&&C()}a(B,g,f,C,L,A,++v)}}var b={n:5,Rf:1,ii:0,pd:[35,49],ld:[2,200],k:.7,so:200,Wm:.05},e=-1,d=null,n=-1,m=-1,r=0,h=-1,q=-1,p=0,E=0,H=b.ld[1],u=!0,y={P:function(){switch(e){case -1:return-1;case 0:return q+d.ii;case 1:return p}},Bh:function(B){return Math.pow(Math.min(Math.max(h,0),d.n-1)/(d.n-1),B||1)},h:function(B){d=Object.assign({},b,B);h=q=d.Rf;e=0;y.reset()},wj:function(B){B=("undefined"===typeof B?Date.now():B)||0;var g=
Math.min(Math.max(B-E,d.ld[0]),d.ld[1]);H=g;E=B;var f=-1===n?0:d.k;n=Math.min(Math.max(1E3/g,5),120)*(1-f)+n*f;B-m>d.so&&5<++r&&(g=d.k,h=h*(1-g)+(n<d.pd[0]?q-1:n>d.pd[1]?q+1:q)*g,Math.abs(h-q)>1-d.Wm&&(g=Math.min(Math.max(Math.round(h),0),d.n-1),g!==q&&(h=q=g,n=(d.pd[1]-d.pd[0])/2)),m=B)},bg:function(B,g,f,C,L,A){u=!1;a(B,g,f,C,L,A,0)},stop:function(){u=!0},Nn:function(B){p=B;e=1},ro:function(){e=0;y.reset()},reset:function(){H=b.ld[1];m=n=-1;r=0},xp:function(){return H}};return y}(),Cc=function(){var a=
{ui:4,Kd:[1.5,1.5,2],Sa:[.1,.1,.1],Si:1,ta:-1,rf:-1,ko:2,Tm:1,Ti:!0,ul:.8},b=null,e=[],d=[0],n=[.5,.5,1];return{h:function(m){b=Object.assign({},a,m);e.splice(0);m=b.Kd[0]*b.Sa[0];var r=b.Kd[1]*b.Sa[1],h=1/(1+b.Kd[2]*b.Sa[2]),q=b.Si*Math.min(b.ta,b.rf),p=q/b.ta;q/=b.rf;var E=.5*b.ul;E*=E;for(var H=0;H<b.ui;++H){var u=Math.pow(h,H),y=p*u,B=q*u;u=y*b.Tm;var g=y*m,f=B*r;y/=2;B/=2;for(var C=1+(1-y-y)/g,L=1+(1-B-B)/f,A=0;A<L;++A)for(var v=B+A*f,k=v-.5,M=0;M<C;++M){var K=y+M*g,w=K-.5;w*w+k*k>E||e.push([K,
v,u])}}b.Ti&&e.sort(function(l,x){var G=l[0]-.5;l=l[1]-.5;var I=x[0]-.5;x=x[1]-.5;return G*G+l*l-(I*I+x*x)})},get:function(m){var r=e.length;if(0===r)return n;for(;m>=d.length;)d.push(0);d[m]>=r&&(d[m]=0);var h=e[Math.floor(d[m])];d[m]=(d[m]+1/b.ko)%r;return h},reset:function(){for(var m=e.length/d.length,r=0;r<d.length;++r)d[r]=Math.floor(r*m)}}}(),ub=function(){function a(){e(g+y.Of);f.port.postMessage("DONE")}function b(){var l=y.ka;k.isEnabled&&(l=Math.max(l,k.ka));v.Yc=0===l?L(e):L(d)}function e(l){A.Vb&&
null!==B&&(l-=g,l=Math.min(Math.max(l,y.ph[0]),y.ph[1]),g+=l,m(),k.isEnabled&&k.zc&&A.Na&&g-k.zf>y.Qg&&(p(),k.zf=g),B(g))}function d(l){A.Vb&&(v.timeout=window.setTimeout(e.bind(null,l),y.ka))}function n(){B=null;A.Vb=!1;m()}function m(){v.Yc&&(window.cancelAnimationFrame(v.Yc),v.Yc=null);v.timeout&&(window.clearTimeout(v.timeout),v.timeout=null)}function r(l){l&&!A.Na?(A.Na=!0,C&&Ab.ro(),f.port.postMessage("STOP"),za.xj(!0),b()):!l&&A.Na&&(A.Na=!1,C&&Ab.Nn(1),za.xj(!1),f.port.postMessage("START"))}
function h(l){l.target.hidden?K():M()}function q(l,x,G){x=l.createShader(x);l.shaderSource(x,G);l.compileShader(x);return x}function p(){k.zc=!1;var l=k.Wa,x=k.vd,G=k.wd,I=k.Ma;l.uniform1f(k.Kh,Math.random());k.Wb?x.beginQueryEXT(I,G):l.beginQuery(I,G);l.drawElements(l.POINTS,1,l.UNSIGNED_SHORT,0);k.Wb?x.endQueryEXT(I):l.endQuery(I);za.flush();H().then(function(O){O=y.Pj*y.Og*1E3/O;k.he=(k.he+1)%y.nc;k.Af[k.he]=O;if(++k.gi>y.nc){k.Bd.set(k.Af);k.Bd.sort(function(ba,ia){return ba-ia});O=k.Bd[Math.floor(y.nc/
2)];k.od=Math.max(k.od,O);var T=0;for(T=0;T<k.Cg&&!(O>k.od*(1-(y.Pg[T]+y.Qj*(T>=k.be?1:-1))));++T)T===k.Cg-1&&++T;T!==k.be&&(console.log("THERMAL THROTTLING LEVEL = "+T.toString()),k.be=T,k.ka=0===T?0:y.Oj[T-1],y.Ng&&y.Ng(T))}k.zc=!0}).catch(function(){k.zc=!0})}function E(l){var x=k.Wa,G=k.vd,I=k.wd,O=!1;k.Wb?O=G.sp(I,G.QUERY_RESULT_AVAILABLE_EXT):O=x.getQueryParameter(I,x.QUERY_RESULT_AVAILABLE);x=x.getParameter(G.GPU_DISJOINT_EXT);O?l(!x):setTimeout(E.bind(null,l),.1)}function H(){return new Promise(function(l,
x){E(function(G){if(G){G=k.Wa;var I=k.vd,O=k.wd;G=k.Wb?I.getQueryObjectEXT(O,I.QUERY_RESULT_EXT):G.getQueryParameter(O,G.QUERY_RESULT);l(G)}else x()})})}var u={Zh:!0,ph:[1,200],Of:20,ka:0,Rj:!1,Og:50,Pj:240,Qg:3E3,nc:3,Pg:[.2,.35,.5],Qj:.05,Oj:[8,20,40],Ng:null},y=null,B=null,g=0,f=null,C=!1,L=null,A={Ea:!1,Na:!0,yf:!1,xf:!1,wf:!1,Vb:!1},v={Yc:null,timeout:null},k={isEnabled:!1,zc:!1,Wa:null,vd:null,wd:null,Ma:null,Kh:null,Wb:!0,be:0,Cg:0,ka:0,zf:0,gi:0,Af:null,Bd:null,he:0,od:0},M=r.bind(null,!0),
K=r.bind(null,!1),w={h:function(l){y=Object.assign(u,l);Object.assign(A,{Na:!0,Ea:!0,Vb:!1});L=window.requestPostAnimationFrame||window.requestAnimationFrame;if(y.Rj){l=document.createElement("canvas");l.setAttribute("width","1");l.setAttribute("height","1");var x={antialias:!1};l=l.getContext("webgl2",x)||l.getContext("webgl",x);if(x=l.getExtension("EXT_disjoint_timer_query")||l.getExtension("EXT_disjoint_timer_query_webgl2")){k.Wa=l;k.vd=x;k.isEnabled=!0;k.Wb=x.beginQueryEXT?!0:!1;var G=q(l,l.VERTEX_SHADER,
"attribute vec4 a0;void main(){gl_Position=a0;}"),I=q(l,l.FRAGMENT_SHADER,"precision lowp float;uniform float u37;void main(){vec4 a=u37*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",y.Og.toString())),O=l.createProgram();l.attachShader(O,G);l.attachShader(O,I);l.linkProgram(O);G=l.getAttribLocation(O,"a0");k.Kh=l.getUniformLocation(O,"u37");l.useProgram(O);l.enableVertexAttribArray(G);O=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,O);l.bufferData(l.ARRAY_BUFFER,
new Float32Array([.5,.5,0,1]),l.STATIC_DRAW);l.vertexAttribPointer(G,4,l.FLOAT,!1,16,0);O=l.createBuffer();l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,O);l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),l.STATIC_DRAW);l.disable(l.DEPTH_TEST);l.disable(l.DITHER);l.disable(l.STENCIL_TEST);l.viewport(0,0,1,1);O=k.Wb?x.createQueryEXT():l.createQuery();k.wd=O;k.Ma=x.TIME_ELAPSED_EXT||l.TIME_ELAPSED;k.be=0;k.Cg=y.Pg.length;k.ka=0;k.zf=-y.Qg;k.Af=new Float32Array(y.nc);k.Bd=new Float32Array(y.nc);k.od=0;
k.he=0;k.gi=0;k.zc=!0}}if(y.Zh){l=!1;try{if("undefined"===typeof SharedWorker){var T=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+y.Of.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],
{type:"text/javascript"})),ba=new Worker(T);ba.addEventListener("message",a);f={Ii:ba,port:ba};A.yf=!0}else{var ia=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
y.Of.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),P=new SharedWorker(ia);P.port.start();P.port.addEventListener("message",a);f={Ii:P,port:P.port};A.xf=!0}l=!0}catch(t){}l&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",h):(window.addEventListener("blur",K),window.addEventListener("focus",M)),A.wf=!0)}C=
"undefined"!==typeof Ab},u:function(){n();A.wf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",h):(window.removeEventListener("blur",K),window.removeEventListener("focus",M)),A.wf=!1);A.xf?(f.port.close(),A.xf=!1):A.yf&&(f.Ii.terminate(),A.yf=!1);Object.assign(A,{Na:!0,Ea:!1,Vb:!1});B=null},Pp:function(){return A.Na},update:function(l){Object.assign(y,l)},bg:function(l){A.Ea||w.h({});m();A.Vb=!0;B=l;A.Na&&b()},stop:n};return w}(),sb=function(){function a(V){switch(M){case k.movePinch:var ea=
-V.deltaY;0===K&&g("pinch",-1,.001*ea,null)}V.deltaY;V.preventDefault()}function b(V){if(-1!==K)switch(M){case k.swipe:if(1!==K)break;q();E(V,l);var ea=l[0]-w[0];n(ea);V=ea/(20*L.offsetWidth/100);g("swipeMove",Math.min(Math.max(V,-1),1),V,null);break;case k.movePinch:if(2===K||3===K){E(V,l);ea=l[0]-w[0];var ya=l[1]-w[1];2===K?(ja+=Math.sqrt(ea*ea+ya*ya),10>ja?(w[0]=l[0],w[1]=l[1]):(Qa||(Qa=!0,g("moveStart",null,null,null)),pa[0]=ea,pa[1]=ya,G[0]=ea-x[0],G[1]=ya-x[1],g("move",pa,G,null),x[0]=pa[0],
x[1]=pa[1])):3===K&&(V=p(V)/ra,g("pinch",V,V-Ma,null),Ma=V)}}}function e(V){if(-1!==K)switch(M){case k.swipe:if(1!==K)break;q();E(V,l);V=l[0]-w[0];var ea=0>V;(V=20<100*Math.abs(V)/L.offsetWidth)&&ea?g("swipeLeft",I,null,null):V&&!ea&&g("swipeRight",I,null,null);var ya=function(){setTimeout(function(){h();K=0;g("swipeEnd",null,null,null)},202)};V?(V=function(){var La=(ea?-1:1)*L.width,Ja=(ea?1:-1)*La/L.width;I.style.transitionDuration=(400).toString()+"ms";I.style.left=(P[0]+La).toString()+"px";I.style.top=
P[1].toString()+"px";I.style.transform="rotate( "+Ja.toString()+"rad )";ya()},ia?V():t=V):(I.style.transitionDuration=(200).toString()+"ms",I.style.opacity="0",I.style.left=P[0].toString()+"px",I.style.top=P[1].toString()+"px",I.style.transform="",ya());K=-1;break;case k.movePinch:if(2===K||3===K)K===K.move?g("moveEnd",null,null,null):3===K&&g("pinchEnd",null,null,null),K=0}}function d(V){V.preventDefault();if(-1!==K)switch(M){case k.swipe:if(0!==K)break;q();K=1;z=setTimeout(function(){h();z=null;
1===K&&(K=0,g("swipeEnd",null,null,null))},1E3);m();g("swipeStart",null,null,null);g("swipeGetCanvas",I,T,O);E(V,w);break;case k.movePinch:0!==K?2!==K||Qa||void 0===V.changedTouches&&void 0===V.touches||(ra=p(V),20<ra&&(K=3,Ma=1,g("pinchStart",null,null,null))):3!==K&&(Qa=!1,E(V,w),x[0]=0,x[1]=0,K=2,ja=0)}}function n(V){var ea=0>V;I.style.left=P[0]+V+"px";I.style.transformOrigin=ea?R:D;I.style.transform="rotate( "+((ea?1:-1)*V/L.width).toString()+"rad )"}function m(){ia=!1;var V=L.getBoundingClientRect();
P[0]=V.left;P[1]=V.top;I.width=Math.round(L.width/4);I.height=Math.round(L.height/4);O.width=I.width;O.height=I.height;I.style.width=L.offsetWidth+"px";I.style.height=L.offsetHeight+"px";I.style.left=P[0]+"px";I.style.top=P[1]+"px";setTimeout(r,0)}function r(){T.drawImage(L,0,0,I.width,I.height);ba.drawImage(I,0,0);ia=!0;document.body.appendChild(I);t&&(t(),t=!1)}function h(){I.style.transitionDuration="0ms";I.style.opacity="1";I.style.transform="";ia&&(document.body.removeChild(I),ia=!1)}function q(){z&&
(window.clearTimeout(z),z=null)}function p(V){H(V,Oa,0);H(V,la,1);return Math.sqrt(Oa[0]*Oa[0]+la[0]*la[0])}function E(V,ea){void 0!==V.changedTouches||void 0!==V.touches?H(V,ea,0):(ea[0]=V.pageX,ea[1]=V.pageY)}function H(V,ea,ya){V.touches.length>ya?(ea[0]=V.touches[ya].pageX,ea[1]=V.touches[ya].pageY):(ea[0]=V.changedTouches[ya].pageX,ea[1]=V.changedTouches[ya].pageY)}function u(){v.forEach(function(V){L.removeEventListener(V.type,V.pb,!1)});return v.splice(0,v.length)}function y(V){V.forEach(function(ea){B(ea.type,
ea.pb)})}function B(V,ea){L.removeEventListener(V,ea,!1);I.removeEventListener(V,ea,!1);L.addEventListener(V,ea,!1);I.addEventListener(V,ea,!1);0===v.filter(function(ya){return ya.type===V&&ya.pb===ea}).length&&v.push({type:V,pb:ea})}function g(V,ea,ya,La){A[V].forEach(function(Ja){Ja.pb(ea,ya,La)})}function f(V){return V[0]+"% "+(100-V[1]).toString()+"%"}var C=!1,L=null,A={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],
moveStart:[],moveEnd:[]},v=[],k={idle:0,swipe:1,movePinch:2},M=k.idle,K=0,w=[0,0],l=[0,0],x=[0,0],G=[0,0],I=document.createElement("canvas"),O=document.createElement("canvas"),T=I.getContext("2d"),ba=O.getContext("2d");I.style.position="fixed";I.style.zIndex="800";I.style.cursor="move";I.style.pointerEvents="none";I.className="swipeImage";I.setAttribute("draggable",!1);var ia=!1,P=[0,0],t=null,z=null,D=f([50,100]),R=f([50,0]),ca=null,ja=0,pa=[0,0],ra=0,Qa=!1,Ma=1,Oa=[0,0],la=[0,0],ha={init:function(V){if(C)ha.switch_canvas(V.qa);
else return L=V.qa,B("mousedown",d),B("mouseup",e),B("mouseout",e),B("mousemove",b),B("mousemove",b),B("wheel",a),B("touchstart",d),B("touchend",e),B("touchmove",b),C=!0,ha},switch_canvas:function(V){if(!C)ha.init({qa:V});else if(L!==V){var ea=u();L=V;y(ea);for(var ya in A)for(V=A[ya],ea=V.length-1;0<=ea;--ea)V[ea].nn&&V.splice(ea,1)}},get_mode:function(){for(var V in k)if(k[V]===M)return V;return!1},switch_mode:function(V){C&&"undefined"!==typeof k[V]&&(V=k[V],M!==V&&(q(),M=V,K=0))},add_listener:function(V,
ea,ya){A[V].push({pb:ea,nn:"undefined"===typeof ya?!1:ya});return ha},remove_listener:function(V){A[V].splice(0,A[V].length);return ha},animate_swipe:function(V,ea){ca&&(clearInterval(ca),ca=null);m();var ya=L.width/(ea/1E3)*("left"===V?-1:1),La=0,Ja,Fa=Date.now();ca=setInterval(function(){ca&&(Ja=Date.now(),La+=(Ja-Fa)/1E3*ya,n(La),Fa=Ja,Math.abs(La)>.75*L.width&&ca&&(clearInterval(ca),ca=null,h()))},16)}};return ha}();window.CanvasListeners=sb;var Q={VERSION:"3.2.5",Vc:[],Uc:[],se:!1,re:!1,te:!1,
ready:!1,isBusy:!1},$a={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,Nj:23,pe:10,oe:8E3},Ec={Pf:"models3D",Mf:"materials",oo:"tweakers",neuralNetworkPath:"built/jeefitNNC.json",Y:"",ua:"",qe:"",ka:0,$j:20,width:512,height:512,Vm:[2,3.5],Qi:300,Sc:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,Sa:[.1,.1,.3],mo:30,al:1.92,dn:[.3,.65],cn:1,no:[.015,.03],un:[.002,.005],vg:[0,.6],ya:[.7,1.13,.262],vj:[-.1,0,0],Ha:[0,
-62,8],wb:1.03,Ga:[0,-60,0],Qf:60,$k:.3,Ze:73,we:[.04,1],Yj:[4,1],Ek:[0,.5],xn:.25,tn:1,Eo:20,pp:!1,xc:145,qf:-18,mf:20,pf:3,ma:[-110,0],fc:1,lj:.4,mj:3,Wd:[0,0,0],hc:[1.1,1],dd:0,Oe:.95,Ne:90,Me:50,wa:30,pa:.05,kf:!0,Ed:!0,Jf:"images/masks/target.jpg",Kf:!1,Dd:[1/255,175/255,236/255,0],Fd:-.001,If:3.14,Be:0,Ae:"images/masks/burka.png",xe:Math.PI-Math.PI/4,Ke:Math.PI/4,ag:[.3,.2,.1],Yb:1,ji:[700,90],Fm:[.2,.04],Fo:"images/backgrounds/viewer3D.png",Mg:[0,0,0],Lg:[0,15,60],le:.3,No:50,Jo:Kc?Db:!1,Ko:Kc?
Db:!1,Mo:1E3,Po:1E3,Lo:40,Io:[0,0,-400],ni:.1,Jm:.5,oi:[.5,1.5],Gd:30,Im:!0},J=Object.assign({},Ec);S.model=!1;S.$b=1;S.Nd=1;S.hh=!0;S.ih=!0;S.gh=!1;S.Oa=!0;var cb={dg:3.5,ac:"images/debug/picsou.png",Pd:45,Ff:.785,Gf:.3925,Hf:5,Df:2,Ef:0,Cf:0,Go:"images/backgrounds/bg1.jpg",Ho:"images/backgrounds/bg1_light.jpg",Ij:1,Jj:2};J.ya=[.7,1.13,.262];J.rp=[4,50];J.ma=[-110,0];J.lj=.25;J.mj=3;J.Wd=[0,-2,20];J.hc=[.95,1];S.$b=2.1289;S.Nd=1;cb.dg=2.5858;cb.Ff=.4388;cb.Gf=.118;cb.ac="images/debug/hdri2.png";
cb.Pd=180;cb.cg=.8065;cb.Hf=5.3887;cb.Df=.5351;cb.Ef=-.3019;cb.Cf=0;cb.Ij=3.5288;cb.Jj=6.2168;J.ya[0]*=.8;J.ya[1]*=.7;var Dc={element:null,eh:null,ia:null,Bg:null,deviceId:-1,Ob:-1,kd:0,Gi:null,ke:-1},Da=Object.assign({},Dc),db=null,Nb=-1,Ob=-1,Mc=J.Vm,uc=window.devicePixelRatio?window.devicePixelRatio:1;var kc={wl:Math.max(Mc[0],uc)/uc,Xe:Math.min(uc,Mc[1])};var eb=null;Q.onLoad=function(a){Q.ready?a():Q.Vc.push(a)};Q.onHalfLoad=function(a){Q.load_model?a():Q.Uc.push(a)};Q.onWebcamAsk=function(a){Q.se=
a};Q.onContextLost=function(a){Q.re=a};Q.onWebcamGet=function(a){Q.te=a};Q.get_onHalfLoadCallstack=function(){return Q.Uc};Q.set_size=function(a,b,e){e=e?kc.Xe:1;J.width=a*e;J.height=b*e};Q.get_videoDevices=function(a){Sc(a)};Q.set_videoDevice=function(a){Da.deviceId=a};Q.set_videoSizes=function(a,b,e,d,n,m){$a.idealWidth=a;$a.idealHeight=b;$a.minWidth=e;$a.maxWidth=d;$a.minHeight=n;$a.maxHeight=m};Q.set_loading=function(a,b,e){a&&(J.Kf=!0,J.Jf=a);"number"===typeof b&&(a=new Pb(b),J.Dd=[a.r,a.ca,
a.J,0]);"number"===typeof e&&(J.Fd=e)};Q.set_settings=function(a,b,e){a&&Object.assign(J,a);b&&Object.assign($a,b);e&&Object.assign(cb,e)};Q.get_size=function(){return{width:J.width,height:J.height}};Q.get_cv=function(){return fb.qb()};Q.set_NNCPath=function(a){J.qe=a};Q.set_materialsPath=function(a){J.Mf=a};Q.set_modelsPath=function(a){J.Pf=a};Q.destroy=function(){return eb?eb.u():Promise.resolve()};Q.init=function(a,b,e,d){eb=Tc();Q.mb=e?function(n,m){e(n,m);Q.mb=!1}:function(){};Q.To=eb;a&&(J.Y=
a);b&&Q.Vc.push(b);eb.lo();if(!fb.h({Je:"jeefitCanvas",qa:d,width:Nb,height:Ob,debug:!1,Sf:function(){Q.re&&Q.re()},premultipliedAlpha:!0}))return Q.mb&&Q.mb("GL_INCOMPATIBLE","Cannot init Context"),!1;Q.se&&Q.se();a={width:{min:$a.minWidth,max:$a.maxWidth,ideal:$a.idealWidth},height:{min:$a.minHeight,max:$a.maxHeight,ideal:$a.idealHeight},facingMode:{ideal:"user"}};b={video:a,audio:!1};Da.eh=b;a&&-1!==Da.deviceId&&ic(b,Da.deviceId);zc(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):
!1,function(n){Q.te&&Q.te(n);Da.element=n;n=Da.element.videoWidth;var m=Da.element.videoHeight;Da.Bg={ga_:Da.element,isPot:!1,isFloat:!1,isFlipY:!0};Da.ia=X.instance(Da.Bg);eb.ng(n,m);eb.uf(n,m)&&eb.ug()},function(n){Q.mb&&Q.mb("WEBCAM_UNAVAILABLE",n)},b);return!0};window.JEELIZVTO=Q;var Gc=function(){function a(){xa.X();c.viewport(0,0,1,1);Z.set("s64");d.a(0);W.g(!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,m);b(0<m[0])}var b=null,e=!1,d=null,n=!1,m=null,r={h:function(h){if(n)return!1;d=h;Z.ve([{id:"s64",
name:"_",b:"uniform sampler2D u39;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u39,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",c:["u39"],precision:"lowp"}]);Z.f("s64",[{type:"1i",name:"u39",value:0}]);m=new Uint8Array(4);return n=!0},start:function(h,q){r.stop();b=q;e=window.setInterval(a,h)},stop:function(){e&&(window.clearInterval(a),e=!1)}};return r}(),mc=mc||{};Pb.prototype={constructor:Pb,r:1,ca:1,J:1,set:function(a){a instanceof Pb?this.B(a):"number"===typeof a?Hc(this,
a):"string"===typeof a&&Vc(this,a);return this},An:function(){function a(b,e,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(e-b)*d:.5>d?e:d<2/3?b+6*(e-b)*(2/3-d):b}return function(b,e,d){b=mc.Math.qp(b,1);e=mc.Math.Ee(e,0,1);d=mc.Math.Ee(d,0,1);0===e?this.r=this.ca=this.J=d:(e=.5>=d?d*(1+e):d+e-d*e,d=2*d-e,this.r=a(d,e,b+1/3),this.ca=a(d,e,b),this.J=a(d,e,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.ca,this.J)},B:function(a){this.r=a.r;this.ca=a.ca;this.J=a.J;return this},
add:function(a){this.r+=a.r;this.ca+=a.ca;this.J+=a.J;return this},Fa:function(a){this.r*=a;this.ca*=a;this.J*=a;return this},ob:function(a,b){void 0===b&&(b=0);this.r=a[b];this.ca=a[b+1];this.J=a[b+2];return this}};var Wc={};$b.prototype={constructor:$b,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get w(){return this.G},set w(a){this.G=a},set:function(a,b,e,d){this.m=a;this.o=b;this.s=e;this.G=d;return this},clone:function(){return new this.constructor(this.m,
this.o,this.s,this.G)},B:function(a){this.m=a.x;this.o=a.y;this.s=a.z;this.G=a.w;return this},inverse:function(){this.m*=-1;this.o*=-1;this.s*=-1;this.normalize();return this},fd:function(a){return this.m*a.m+this.o*a.o+this.s*a.s+this.G*a.G},Bf:function(){return this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G},length:function(){return Math.sqrt(this.m*this.m+this.o*this.o+this.s*this.s+this.G*this.G)},normalize:function(){var a=this.length();0===a?(this.s=this.o=this.m=0,this.G=1):(a=1/a,
this.m*=a,this.o*=a,this.s*=a,this.G*=a);return this},nj:function(a,b){if(0===b)return this;if(1===b)return this.B(a);var e=this.m,d=this.o,n=this.s,m=this.G,r=m*a.G+e*a.m+d*a.o+n*a.s;0>r?(this.G=-a.G,this.m=-a.m,this.o=-a.o,this.s=-a.s,r=-r):this.B(a);if(1<=r)return this.G=m,this.m=e,this.o=d,this.s=n,this;a=Math.acos(r);var h=Math.sqrt(1-r*r);if(.001>Math.abs(h))return this.G=.5*(m+this.G),this.m=.5*(e+this.m),this.o=.5*(d+this.o),this.s=.5*(n+this.s),this;r=Math.sin((1-b)*a)/h;b=Math.sin(b*a)/
h;this.G=m*r+this.G*b;this.m=e*r+this.m*b;this.o=d*r+this.o*b;this.s=n*r+this.s*b;return this},ob:function(a,b){void 0===b&&(b=0);this.m=a[b];this.o=a[b+1];this.s=a[b+2];this.G=a[b+3];return this}};$b.nj=function(a,b,e,d){return e.B(a).nj(b,d)};Qb.prototype={constructor:Qb,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},Wi:function(a){this.x=a;return this},Xi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,
this.y)},B:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Wc(a,b);this.x+=a.x;this.y+=a.y;return this},Wc:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;return this},
eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Se:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},Ee:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},fd:function(a){return this.x*a.x+this.y*a.y},Bf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Se(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}};Sa.prototype={constructor:Sa,
set:function(a,b,e){this.x=a;this.y=b;this.z=e;return this},Wi:function(a){this.x=a;return this},Xi:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},B:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Wc(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Wc:function(a,b){this.x=a.x+b.x;this.y=
a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.eb(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},eb:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},Fa:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Se:function(a){return this.Fa(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},Ee:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);
return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},fd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},Bf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Se(this.length())},ob:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}};Hb.Da="XYZ YZX ZXY XZY YXZ ZYX".split(" ");
Hb.T="XYZ";Hb.prototype={constructor:Hb,get x(){return this.m},set x(a){this.m=a},get y(){return this.o},set y(a){this.o=a},get z(){return this.s},set z(a){this.s=a},get order(){return this.Ta},set order(a){this.Ta=a},set:function(a,b,e,d){this.m=a;this.o=b;this.s=e;this.Ta=d||this.Ta;return this},clone:function(){return new this.constructor(this.m,this.o,this.s,this.Ta)},B:function(a){this.m=a.m;this.o=a.o;this.s=a.s;this.Ta=a.Ta;return this},ob:function(a){this.m=a[0];this.o=a[1];this.s=a[2];void 0!==
a[3]&&(this.Ta=a[3]);return this}};rc.prototype={constructor:rc,set:function(a,b){this.min.B(a);this.max.B(b);return this},clone:function(){return(new this.constructor).B(this)},B:function(a){this.min.B(a.min);this.max.B(a.max);return this},size:function(a){return(a||new Sa).eb(this.max,this.min)},getParameter:function(a,b){return(b||new Sa).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);
this.max.add(a);return this}};Rb.prototype={constructor:Rb,set:function(a,b,e,d,n,m,r,h,q,p,E,H,u,y,B,g){var f=this.elements;f[0]=a;f[4]=b;f[8]=e;f[12]=d;f[1]=n;f[5]=m;f[9]=r;f[13]=h;f[2]=q;f[6]=p;f[10]=E;f[14]=H;f[3]=u;f[7]=y;f[11]=B;f[15]=g;return this},clone:function(){return(new Rb).ob(this.elements)},B:function(a){this.elements.set(a.elements);return this},Fa:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=
a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var b=this.elements,e=a.x,d=a.y;a=a.z;b[0]*=e;b[4]*=d;b[8]*=a;b[1]*=e;b[5]*=d;b[9]*=a;b[2]*=e;b[6]*=d;b[10]*=a;b[3]*=e;b[7]*=d;b[11]*=a;return this},ob:function(a){this.elements.set(a);return this}};sc.prototype={constructor:sc,clone:function(){return(new this.constructor).B(this)},
B:function(a){this.Ba=a.Ba;this.J=a.J;this.Ca=a.Ca;this.Pa.B(a.Pa);this.color.B(a.color);this.Zb=a.Zb;for(var b=0,e=a.je.length;b<e;b++)this.je[b]=a.je[b].clone();b=0;for(e=a.Jg.length;b<e;b++)this.Jg[b]=a.Jg[b].clone();return this}};var F=function(){function a(v,k,M){k=v.createShader(k);v.shaderSource(k,M);v.compileShader(k);return v.getShaderParameter(k,v.COMPILE_STATUS)?k:!1}function b(v,k){aa.ha()&&(k.b=k.b.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));k.jf=a(v,v.VERTEX_SHADER,k.j,k.name+" VERTEX");
k.hf=a(v,v.FRAGMENT_SHADER,k.b,k.name+" FRAGMENT");var M=v.createProgram();v.attachShader(M,k.jf);v.attachShader(M,k.hf);v.linkProgram(M);return M}function e(v){v.j="#version 300 es\n"+v.j.replace(/varying/g,"out");v.b="#version 300 es\n"+v.b.replace(/varying/g,"in");v.j=v.j.replace(/texture2D\(/g,"texture(");v.b=v.b.replace(/texture2D\(/g,"texture(");v.$||(v.b=v.b.replace(/void main/g,"out vec4 FragColor;\nvoid main"),v.b=v.b.replace(/gl_FragColor/g,"FragColor"));var k=0,M=[];v.j=v.j.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,
function(K,w,l){var x="";l.split(",").forEach(function(G){G=G.trim();x+="layout(location = "+k+") in "+w+" "+G+";\n";M.push(G);++k});return x});v.Uj=M}function d(v){return["float","sampler2D","int"].map(function(k){return"precision "+v+" "+k+";\n"}).join("")}function n(v,k){if(k.Th)return!1;var M=aa.ha();S.Ip||M||v.enableVertexAttribArray(0);void 0===k.$&&(k.$=!1);k.$&&(k.Tc=M?3:2);k.id=L++;void 0===k.Tc&&(k.Tc=2);void 0===k.precision&&(k.precision="highp");k.$&&(k.b=(aa.ha()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n")+k.b);void 0===k.j&&(k.j="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var K=d(k.precision);k.b=K+k.b;k.j=K+k.j;M&&3<=k.Tc&&e(k);k.Ia&&k.Ia.forEach(function(w){k.j=k.j.replace(w.search,w.replace);k.b=k.b.replace(w.search,w.replace)});k.na=b(v,k);k.v={};k.c.forEach(function(w){k.v[w]=v.getUniformLocation(k.na,w)});k.attributes={};k.va=[];k.Ig=0;void 0===k.D&&(k.D=["a0"]);void 0===
k.M&&(k.M=[2]);k.D.forEach(function(w,l){var x=M&&3<=k.Tc?k.Uj.indexOf(w):v.getAttribLocation(k.na,w);k.attributes[w]=x;k.va.push(x);k.Ig+=4*k.M[l]});k.set=function(){f!==k.id&&(-1!==f&&C.F(),f=k.id,C=k,v.useProgram(k.na),k.va.forEach(function(w){0!==w&&v.enableVertexAttribArray(w)}))};k.F=function(){f=-1;k.va.forEach(function(w){0!==w&&v.disableVertexAttribArray(w)})};k.Th=!0}function m(v,k){n(v,k);k.set();f=-1;return k}function r(){return{name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
c:["u1"],precision:"highp"}}function h(){A.f("s93",[{type:"1i",name:"u1",value:0}]);A.f("s94",[{type:"1i",name:"u143",value:0}]);A.f("s95",[{type:"1i",name:"u65",value:0}])}function q(){var v="u39 u133 u134 u135 u136 u40 u69".split(" ").concat(y,B);g.s96={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-u135)*u136;k.x+=A*sign(a0.x)*(1.-u76);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u139,u140,a0.z);}",
c:["u139","u140"].concat(v),D:["a0"],precision:"highp"};g.s97={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u137"].concat(H,v),D:["a0","a1"],M:[3,2],precision:"lowp"};g.s98={name:"_",b:"uniform vec3 u137;void main(){gl_FragColor=vec4(u137,0.);}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u137"].concat(v),M:[3],precision:"lowp"};g.s99={name:"_",b:"uniform vec4 u7;varying vec3 vv0;varying float vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 h=s(a);vec3 v=mix(u133,u74,c);float w=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u72,1.,u76);vec2 k=u71/t;vec3 l=a0;float z=max(0.,-a0.z-u135)*u136;l.x+=z*sign(a0.x)*(1.-u76);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
c:["u7","u69"].concat(v),D:["a0","a2"],precision:"highp"};g.s100={name:"_",b:"uniform sampler2D u143;uniform vec4 u7;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u143,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3);gl_FragColor=vec4(a,m);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-u135)*u136;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
c:["u7","u69","u143"].concat(v),D:["a3","a0","a2","a1"],M:[4,3,3,2],precision:"highp"};g.s101={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;const vec2 e=vec2(1.,1.);const vec3 l=vec3(1.,1.,1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,m);vec2 f=u76*e;vec3 c=u76*l;vec2 q=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,n).rgb+vec3(u70,0.,0.),u73,c);float r=mix(texture2D(u39,o).r,0.,u76);a.z+=r;mat3 s=p(a);vec3 t=mix(u133,u74,c);float u=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u72,1.,u76);vec2 j=u71/q;vec3 k=a0;float x=max(0.,-a0.z-u135)*u136;k.x+=x*sign(a0.x)*(1.-u76);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(A,1.));}",
c:["u102","u138"].concat(v),precision:"lowp"};g.s102={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u135,u136,u142;varying vec2 vv0;const vec2 e=vec2(1.,1.);const vec3 m=vec3(1.,1.,1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,n);vec2 f=u76*e;vec3 c=u76*m;vec2 r=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,o).rgb+vec3(u70,0.,0.),u73,c);float s=mix(texture2D(u39,p).r,0.,u76);a.z+=s;mat3 t=q(a);vec3 u=mix(u133,u74,c);float v=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u72,1.,u76);vec2 j=u71/r;vec3 k=a0;float y=max(0.,-a0.z-u135)*u136;k.x+=y*sign(a0.x)*(1.-u76);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(B,1.)),vv0=a1;}",
c:["u102","u138"].concat(u,v),D:["a0","a1"],M:[3,2],precision:"lowp"};v=["u126","u114","u127"];g.s103={name:"_",b:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=1.;}",c:v,precision:"highp"};g.s104={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0;varying float vv1;void main(){vec4 a=u127*vec4(a2,0.);gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
c:v,D:["a0","a2"],precision:"highp"};g.s94={name:"_",b:"uniform sampler2D u143;uniform vec3 u144;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u144),c=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u127*vec4(a2,0.),a=u127*vec4(a0,1.);gl_Position=u126*u114*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
c:["u143","u144"].concat(v),D:["a0","a2","a1","a3"],precision:"highp"};g.s93={name:"_",b:"uniform sampler2D u1;uniform vec3 u137;uniform float u64;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u137,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u137,b,u64),a.a);gl_FragColor=c;}",j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u126*u114*u127*vec4(a0,1.)+f,vv0=a1;}",c:["u137"].concat(H,v),D:["a0","a1"],
Ia:[{search:"0.0005",replace:za.ba()?"0.0005":"0.0"}],precision:"lowp"};g.s105={name:"_",b:"uniform vec4 u102;uniform float u138;void main(){float b=u138;vec4 a=u102;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;void main(){gl_Position=u126*u114*u127*vec4(a0,1.);}",c:["u102"].concat(v),precision:"highp"};g.s95={name:"_",b:"uniform sampler2D u65;uniform vec4 u102,u66;uniform float u138;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u138;vec4 a=u102,d=texture2D(u65,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u66*e),c=mix(c,l,u66.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec2 vv0;void main(){gl_Position=u126*u114*u127*vec4(a0,1.),vv0=a1;}",c:["u102"].concat(u,v),D:["a0","a1"],M:[3,2],precision:"highp"}}function p(){for(var v in g)n(c,g[v])}var E=!1,H=["u1","u64"],u=["u65","u66"],y="u67 u68 u69 u70 u71 u72".split(" "),B="u73 u74 u75 u76 u77 u78".split(" "),g={},f=-1,C=null,L=0,A={oa:function(v,k){g[v]=k;E&&n(c,g[v])},Wp:function(v,k){g[v]=k;k.Th=!1;n(c,g[v])},Xb:function(){return E},h:function(){g.s0=
r();g.s1={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],precision:"lowp"};g.s65={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u6,vv0).rgb,texture2D(u1,vv0).rgb,u7*f),1.);}",c:["u1","u6","u7"],precision:"highp"};g.s66={name:"_",b:"uniform sampler2D u1,u6;uniform float u7;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u6,vv0),texture2D(u1,vv0),u7*f);}",
c:["u1","u6","u7"],precision:"highp"};g.s12={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u79,vv0*u80),c=texture2D(u1,vv0*u80);float a=smoothstep(u81,0.,vv0.y);a+=smoothstep(1.-u81,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u82*f);}",c:["u1","u80","u79","u81","u82"]};g.s67={name:"_",b:"uniform sampler2D u1,u79;uniform vec2 u80;uniform float u81,u82;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u80;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u79,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u81,0.,vv0.y);b+=smoothstep(1.-u81,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u82*h));gl_FragColor=k;}",
c:["u1","u80","u79","u81","u82"],precision:"highp"};g.s68={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",c:["u1"],precision:"lowp"};g.s69={name:"_",b:"uniform sampler2D u1,u83;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
c:["u1","u8"],precision:"lowp"};g.s70={name:"_",b:"uniform sampler2D u1,u83,u39;uniform vec2 u8,u84;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u8*f).rgb+texture2D(u1,a+u8*g).rgb+texture2D(u1,a+u8*h).rgb+texture2D(u1,a+u8*i).rgb;float c=texture2D(u39,vec2(.5,.5)).a,d=u84.x+pow(c,2.)*(u84.y-u84.x);vec3 j=mix(b/5.,texture2D(u83,a).rgb,d);gl_FragColor=vec4(j,1.);}",
c:["u1","u83","u8","u39","u84"],precision:"lowp"};g.s71={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u8).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u8).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u8).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u8).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u8;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
c:["u1","u8"],precision:"lowp"};g.s43={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",c:["u1"],precision:"highp"};g.s72={name:"_",b:"uniform sampler2D u85,u86;uniform float u87,u88;varying vec2 vv0;void main(){vec3 a=texture2D(u86,vv0).rgb,b=texture2D(u85,vv0).rgb;gl_FragColor=vec4(b*u88+u87*a,1.);}",
c:["u85","u86","u87","u88"],precision:"highp"};g.s73={name:"_",b:"uniform sampler2D u89,u90;uniform float u82;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u90,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u89,g).rgb,u82*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
c:["u89","u90","u82"],precision:"lowp",Ia:[{search:"8888",replace:S.km[aa.P()]}]};g.s74={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u8).a+.110236*texture2D(u1,vv0-2.*u8).a+.220472*texture2D(u1,vv0-u8).a+.275591*a.a+.220472*texture2D(u1,vv0+u8).a+.110236*texture2D(u1,vv0+2.*u8).a+.031496*texture2D(u1,vv0+3.*u8).a;gl_FragColor=vec4(a.rgb,4.*b);}",c:["u1","u8"],precision:"lowp"};g.s75={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
c:["u1"],precision:"lowp"};g.s76={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u8)+.110236*texture2D(u1,vv0-2.*u8)+.220472*texture2D(u1,vv0-u8)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u8)+.110236*texture2D(u1,vv0+2.*u8)+.031496*texture2D(u1,vv0+3.*u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};g.s77={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u8)+texture2D(u1,vv0-2.*u8)+texture2D(u1,vv0-u8)+texture2D(u1,vv0)+texture2D(u1,vv0+u8)+texture2D(u1,vv0+2.*u8)+texture2D(u1,vv0+3.*u8);gl_FragColor=a/7.;}",
c:["u1","u8"],precision:"lowp"};g.s78={name:"_",b:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",c:["u1"],precision:"highp"};g.s79={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u79,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
c:["u1","u79"],precision:"highp"};g.s80={name:"_",b:"uniform sampler2D u1,u79;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u79,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",c:["u1","u79"],precision:"highp"};g.s81=
{name:"_",b:"uniform sampler2D u1,u91,u2,u92;uniform vec4 u93;uniform vec2 u94;uniform float u95,u96,u97,u98;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u92,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u94*.5+h).r,l=atan(a.x,a.y),m=-(mod(u95,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u96,b),c=.5+u98*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u93*k;gl_FragColor=mix(d,o,j*u97);}",
c:"u1 u2 u92 u91 u93 u95 u96 u97 u94 u98".split(" "),precision:"lowp"};var v="u99 u100 u101 u102 u89 u103 u22 u104 u91 u105 u106 u107 u108 u109 u8".split(" ");S.aa&&(g.s82={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u110,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u111,u106,u108,u105;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u105;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u99,vv0);vec3 k=texture2D(u91,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u104;vec4 b=texture2D(u102,vv0),m=texture2D(u100,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u101,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u103,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u22));float I=acos(-s.z),J=smoothstep(u106-u108,u106+u108,I);h=mix(l(texture2D(u89,H)),u107,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u111*texture2D(u110,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
c:v.concat(["u110","u111"]),precision:"highp"});g.s83={name:"_",b:"uniform sampler2D u99,u100,u101,u102,u89,u103,u91;uniform vec3 u104,u107;uniform vec2 u8;uniform float u22,u106,u108,u109,u112,u113,u105;varying vec2 vv0;const float g=3.141592;const vec3 D=vec3(0.,0.,0.),m=vec3(1.,1.,1.),E=vec3(.299,.587,.114);const float F=2.;vec3 p(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 G(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 H(vec3 a,float d){float b=pow(2.,d);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u105;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u99,a).a;return step(.01,b);}void main(){vec4 h=texture2D(u99,vv0),i=texture2D(u91,vec2(1.-vv0.x,vv0.y));if(h.a<.01){gl_FragColor=vec4(i.rgb,0.);return;}float q=h.a;vec3 I=h.rgb,J=I+u104;vec4 c=texture2D(u102,vv0),r=texture2D(u100,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u101,vv0);vec3 d=k.rgb;if(q>1.){gl_FragColor=vec4(mix(i.rgb,d,k.a),1.);return;}d=pow(d,u112*m);float s=c.r,K=c.g,L=c.a,t=floor(c.b*255.),l=floor(t/16.),M=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u8,v=vv0+vec2(1.,0.)*u8,w=vv0+vec2(0.,1.)*u8,x=vv0+vec2(0.,-1.)*u8;vec3 N=texture2D(u100,u).rgb,O=texture2D(u100,v).rgb,P=texture2D(u100,w).rgb,Q=texture2D(u100,x).rgb;float R=n(a,N)*o(u),S=n(a,O)*o(v),T=n(a,P)*o(w),U=n(a,Q)*o(x),V=2.*max(max(R,S),max(T,U)),W=1.2*clamp(V/g,0.,1.),X=max(K,W);vec2 Y=G(a);vec3 Z=p(texture2D(u103,Y)),_=(1.-L)*Z,y=normalize(J),z=D,A=reflect(-y,a);float aa=floor(X*u22);vec2 ba=H(A,aa);float ca=acos(-A.z),da=smoothstep(u106-u108,u106+u108,ca);vec3 ea=p(texture2D(u89,ba));z=mix(ea,u107,da*u109);float b=s+(M-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec3 fa=d*mix(_,z,b);float B=q*(j*(1.-b)+b);vec3 f=mix(i.rgb,pow(fa,m/u112),B);float C=dot(f,E),ga_=max(0.,(C-1.)/(F-1.));f=mix(C*m,f,mix(1.,u113,B)*m),gl_FragColor=vec4(f,ga_);}",
c:v.concat(["u112","u113"]),precision:"highp"};S.aa&&(g.s84={name:"_",b:"uniform sampler2D u99,u100;uniform mat4 u114;uniform vec2 u115,u8,u116;uniform float u117,u118,u119,u120,u121,u122,u123,u124,u111;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u116;vec4 pos=texture2D(u99,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u117),s=sin(u117);vec3 no0=texture2D(u100,uvt).rgb;float zv=(u114*vec4(co0,1.)).z;vec3 co;vec2 scale=u115/abs(zv),uv,duv=u8*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u8*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u99,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u123,u124,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u120,u121,1.),ao=dzFactor*clamp(u119*omegaMin*u122,0.,u111);gl_FragColor=vec4(ao,ao,ao,u118);}",
c:"u99 u100 u119 u118 u117 u8 u125 u120 u121 u122 u123 u124 u114 u115 u111".split(" "),Ia:[{search:"8888.8",replace:S.nk[aa.P()].toFixed(1)}],precision:"lowp"},g.s85={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u8*f)+texture2D(u1,a+u8*g)+texture2D(u1,a+u8*h)+texture2D(u1,a+u8*i);b+=texture2D(u1,a+u8*j)+texture2D(u1,a+u8*k)+texture2D(u1,a+u8*l)+texture2D(u1,a+u8*m),gl_FragColor=b/9.;}",
c:["u1","u8"],precision:"lowp"});g.s86={name:"_",b:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",j:"attribute vec3 a0;uniform mat4 u126,u114,u127;varying vec3 vv0;void main(){vec4 a=u126*u114*u127*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",c:["u126","u114","u127"],precision:"lowp"};g.s87={name:"_",b:"uniform sampler2D u128,u103,u90;uniform mat4 u126,u129;uniform vec2 u130;uniform float u131;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u130*(z-f),0.),B=vec3(u129*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u90,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u126*u,i=h.xyz/h.w;if(texture2D(u128,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u129*vec4(g,0.)),t+=texture2D(u103,y(s));}gl_FragColor=vec4(u131*t.rgb/n,1.);}",
c:"u128 u103 u90 u126 u129 u130 u131".split(" "),Ia:[{search:"8888.8",replace:S.eo[aa.P()].toFixed(1)},{search:"9999.9",replace:S.fo[aa.P()].toFixed(1)}],precision:"lowp"};g.s88={name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u8)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u8);gl_FragColor=a;}",c:["u1","u8"],precision:"lowp"};g.s89={name:"_",b:"uniform sampler2D u1,u132;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
j:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u126,u114;varying vec2 vv0;void main(){vec4 a=u126*u114*vec4(a0,1.);gl_Position=a,vv0=a1;}",c:["u126","u114","u1"],D:["a0","a1"],precision:"lowp"};if(aa.W()){v="u39 u133 u134 u135 u136 u40 u102 u137 u138 u7 u139 u140 u69".split(" ").concat(y,B);aa.ci()||(g.s90={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
c:[],precision:"lowp",$:!0});g.s91={name:"_",j:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",b:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",c:["color"],$:!0};g.s92NNGLcolor={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.,1.);const vec3 r=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,s);vec2 f=u76*e;vec3 c=u76*r;vec2 w=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,t).rgb+vec3(u70,0.,0.),u73,c);float x=mix(texture2D(u39,u).r,0.,u76);a.z+=x;mat3 h=v(a);vec3 y=mix(u133,u74,c);float z=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u72,1.,u76);vec2 k=u71/w;vec3 l=a0;float C=max(0.,-a0.z-u135)*u136;l.x+=C*sign(a0.x)*(1.-u76);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u139,u140,a0.z),vv0=m,vv3=a0.y;}",
c:v,D:["a0","a2"],M:[3,3],$:!0};g.s92NNGLtexture={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:v.concat(H),D:["a0","a2","a1"],M:[3,3,2],$:!0};g.s92NNGLtextureNormalMap={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform sampler2D u1,u143;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:v.concat(H,["u143"]),D:["a3","a0","a2","a1"],M:[4,3,3,2],$:!0};g.s92NNGLtextureParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.,1.);const vec3 s=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,t);vec2 f=u76*e;vec3 c=u76*s;vec2 x=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,u).rgb+vec3(u70,0.,0.),u73,c);float y=mix(texture2D(u39,v).r,0.,u76);a.z+=y;mat3 h=w(a);vec3 z=mix(u133,u74,c);float A=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u72,1.,u76);vec2 k=u71/x;vec3 l=a0;float D=max(0.,-a0.z-u135)*u136;l.x+=D*sign(a0.x)*(1.-u76);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u139,u140,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
c:v.concat(H,u),D:["a0","a2","a1"],M:[3,3,2],$:!0};g.s92NNGLtextureNormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u141;uniform float u134,u139,u140,u135,u136,u142;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.,1.);const vec3 t=vec3(1.,1.,1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,u);vec2 f=u76*e;vec3 c=u76*t;vec2 y=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,v).rgb+vec3(u70,0.,0.),u73,c);float z=mix(texture2D(u39,w).r,0.,u76);a.z+=z;mat3 h=x(a);vec3 A=mix(u133,u74,c);float B=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u72,1.,u76);vec2 k=u71/y;vec3 l=a0;float E=max(0.,-a0.z-u135)*u136;l.x+=E*sign(a0.x)*(1.-u76);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv4=smoothstep(u139,u140,a0.z),vv3=a1,vv1=m,vv5=a0.y;}",
c:v.concat(H,["u143"],u),D:["a3","a0","a2","a1"],M:[4,3,3,2],$:!0};v="u126 u114 u127 u102 u137 u138 u7".split(" ");g.s92color={name:"_",b:"uniform vec4 u102,u7;uniform vec3 u137;uniform float u138;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv3),c=u138;vec4 a=u102;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u137,0.),gl_FragData[3]=a;}",j:"attribute vec3 a0,a2;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
c:v,D:["a0","a2"],$:!0};g.s92={name:"_",b:"uniform sampler2D u1;uniform vec4 u102,u7;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 b=u102;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u137,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u137,l,u64),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:v.concat(H),D:["a0","a2","a1"],$:!0};var k=["u143","u144"];g.s92NormalMap={name:"_",b:"uniform sampler2D u1,u143;uniform vec4 u102,u7;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u143,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u138;vec4 c=u102;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u137,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u137,t,u64),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:v.concat(H,k),D:["a0","a2","a1","a3"],$:!0};g.s92ParamsMap={name:"_",b:"uniform sampler2D u1,u65;uniform vec4 u102,u7,u66;uniform vec3 u137;uniform float u138,u64;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv4),d=u138;vec4 a=u102,e=texture2D(u65,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u66*f),d=mix(d,r,u66.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u137,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u137,u,u64),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
j:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",c:v.concat(H,u),D:["a0","a2","a1"],$:!0};g.s92NormalParamsMap={name:"_",b:"uniform sampler2D u1,u143,u65;uniform vec4 u102,u7,u66;uniform vec3 u144,u137;uniform float u138,u64;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u143,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u138;vec4 a=u102,f=texture2D(u65,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u66*l),e=mix(e,z,u66.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u137,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u137,C,u64),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
j:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u126,u114,u127;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u127*vec4(a0,1.),b=u127*vec4(a2,0.);gl_Position=u126*u114*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",c:v.concat(H,k,u),D:["a0","a2","a1","a3"],$:!0}}else q();p();v=[{type:"1i",name:"u1",value:0}];A.f("s0",v);A.f("s1",v);A.f("s65",[{type:"1i",name:"u6",value:1}].concat(v));A.f("s66",[{type:"1i",name:"u6",
value:1}].concat(v));A.f("s12",[{type:"1i",name:"u79",value:1}].concat(v));A.f("s67",[{type:"1i",name:"u79",value:1}].concat(v));A.f("s68",v);A.f("s69",v);A.f("s70",[{type:"1i",name:"u83",value:1},{type:"1i",name:"u39",value:2}].concat(v));A.f("s71",v);A.f("s43",v);A.f("s72",[{type:"1i",name:"u85",value:0},{type:"1i",name:"u86",value:1}]);A.f("s73",[{type:"1i",name:"u89",value:0},{type:"1i",name:"u90",value:1}]);A.f("s74",v);A.f("s75",v);A.f("s76",v);A.f("s77",v);A.f("s78",v);A.f("s79",[{type:"1i",
name:"u79",value:1}].concat(v));A.f("s80",[{type:"1i",name:"u79",value:1}].concat(v));S.aa&&(A.f("s84",[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1f",name:"u120",value:S.bk},{type:"1f",name:"u121",value:S.ck},{type:"1f",name:"u122",value:S.pk},{type:"1f",name:"u123",value:S.fk},{type:"1f",name:"u124",value:S.gk},{type:"1f",name:"u119",value:1},{type:"1f",name:"u111",value:1}]),A.f("s85",v));k=[{type:"1i",name:"u99",value:0},{type:"1i",name:"u100",value:1},{type:"1i",name:"u101",
value:2},{type:"1i",name:"u89",value:3},{type:"1i",name:"u103",value:4},{type:"1i",name:"u102",value:6},{type:"1i",name:"u91",value:7},{type:"1f",name:"u109",value:0},{type:"1f",name:"u106",value:0},{type:"1f",name:"u108",value:0}];S.aa&&A.f("s82",k.concat([{type:"1f",name:"u111",value:S.ek[aa.P()]},{type:"1i",name:"u110",value:5}]));A.f("s83",k.concat([{type:"1f",name:"u112",value:S.$b},{type:"1f",name:"u113",value:S.Nd}]));A.f("s87",[{type:"1i",name:"u128",value:0},{type:"1i",name:"u103",value:1},
{type:"1i",name:"u90",value:2},{type:"1f",name:"u131",value:S.co}]);A.f("s88",v);A.f("s89",v);A.f("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u92",value:2},{type:"1i",name:"u91",value:3},{type:"1f",name:"u97",value:1},{type:"2f",name:"u94",value:[0,0]}].concat(v));aa.W()?(A.f("s92",v),A.f("s92NormalMap",[{type:"1i",name:"u143",value:1}].concat(v)),A.f("s92ParamsMap",[{type:"1i",name:"u65",value:1}].concat(v)),A.f("s92NormalParamsMap",[{type:"1i",name:"u143",value:1},{type:"1i",name:"u65",
value:2}].concat(v))):h();E=!0},Rn:function(){q();p();h()},sd:function(){return C.id},ef:function(){return y},ff:function(){return B},set:function(v){pb.ij(A);g[v].set()},xb:function(v){return m(v,r())},Sd:function(v){return m(v,{name:"_",b:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"})},Un:function(v){return m(v,{name:"_",b:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",c:[],precision:"highp",$:!0})},F:function(){-1!==
f&&C.F()},Ud:function(){var v=0;C.va.forEach(function(k,M){M=C.M[M];c.vertexAttribPointer(k,M,c.FLOAT,!1,C.Ig,v);v+=4*M})},Mc:function(){A.dc(c)},dc:function(v){v.vertexAttribPointer(C.va[0],2,v.FLOAT,!1,8,0)},$p:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,12,0)},Ra:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,32,0)},$a:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,24,0)},bj:function(){c.vertexAttribPointer(C.attributes.a2,3,c.FLOAT,!1,32,12)},cj:function(){c.vertexAttribPointer(C.attributes.a2,
3,c.FLOAT,!1,24,12)},Kc:function(){c.vertexAttribPointer(C.attributes.a1,2,c.FLOAT,!1,32,24)},aq:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,20,0);c.vertexAttribPointer(C.attributes.a1,2,c.FLOAT,!1,20,12)},In:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(C.attributes.a2,3,c.FLOAT,!1,32,12);c.vertexAttribPointer(C.attributes.a1,2,c.FLOAT,!1,32,24)},Jn:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,32,0);c.vertexAttribPointer(C.attributes.a2,
3,c.FLOAT,!1,32,12)},Kn:function(){c.vertexAttribPointer(C.attributes.a0,3,c.FLOAT,!1,24,0);c.vertexAttribPointer(C.attributes.a2,3,c.FLOAT,!1,24,12)},Qd:function(){c.vertexAttribPointer(C.attributes.a3,4,c.FLOAT,!1,16,0)},Td:function(v,k){c.uniform1i(C.v[v],k)},C:function(v,k){c.uniform1f(C.v[v],k)},L:function(v,k,M){c.uniform2f(C.v[v],k,M)},jj:function(v,k){c.uniform2fv(C.v[v],k)},lg:function(v,k,M,K){c.uniform3f(C.v[v],k,M,K)},mg:function(v,k){c.uniform3fv(C.v[v],k)},za:function(v,k){c.uniform4fv(C.v[v],
k)},Yn:function(v,k){c.uniformMatrix2fv(C.v[v],!1,k)},Zn:function(v,k){c.uniformMatrix3fv(C.v[v],!1,k)},Lc:function(v,k){c.uniformMatrix4fv(C.v[v],!1,k)},f:function(v,k){A.set(v);k.forEach(function(M){switch(M.type){case "4f":c.uniform4fv(C.v[M.name],M.value);break;case "3f":c.uniform3fv(C.v[M.name],M.value);break;case "2f":c.uniform2fv(C.v[M.name],M.value);break;case "1f":c.uniform1f(C.v[M.name],M.value);break;case "1i":c.uniform1i(C.v[M.name],M.value);break;case "mat2":c.uniformMatrix2fv(C.v[M.name],
!1,M.value);break;case "mat4":c.uniformMatrix4fv(C.v[M.name],!1,M.value)}})},H:function(){for(var v in g){var k=g[v];c.detachShader(k.na,k.jf);c.detachShader(k.na,k.hf);c.deleteShader(k.jf);c.deleteShader(k.hf);c.deleteProgram(k.na)}},u:function(){c.disableVertexAttribArray(0);A.F();A.H();L=0;E=!1;C=null;f=-1}};return A}(),Ua=function(){var a={},b=[],e=!1,d=0,n=0,m=-1,r=-1,h=-1,q=1,p=null,E=!1,H=null,u=!1,y=!1,B=!1,g=!1,f=!1,C=!1,L=!1,A=null,v=null,k=-1,M=-1,K=null,w=-1,l,x=null,G=null,I=null,O=null,
T=null,ba=null,ia=null,P=[{type:"1f",name:"u76",value:0},{type:"1f",name:"u139",value:0},{type:"1f",name:"u140",value:0},{type:"1f",name:"u71",value:1},{type:"1f",name:"u68",value:0},{type:"1f",name:"u78",value:1}],t={h:function(z,D){a.og=z;aa.Eg();vc.We();Jb.We(z.le);m=z.Ze;r=z.Oo;h=z.Qf;q=z.ke;var R=[{type:"1f",name:"u71",value:m},{type:"1f",name:"u68",value:h},{type:"1f",name:"u72",value:z.yn},{type:"mat4",name:"u67",value:z.bn},{type:"2f",name:"u40",value:z.Kj}];z.Dg=R;var ca=[{type:"3f",name:"u73",
value:[0,0,0]},{type:"3f",name:"u74",value:z.Mg},{type:"3f",name:"u75",value:z.Lg},{type:"1f",name:"u76",value:0},{type:"1f",name:"u77",value:z.le},{type:"1f",name:"u78",value:1}];z.Bj=ca;t.gm(z,D);e||void 0!==z.Ga||(z.Ga=[0,0,120]);L=C=J.kf;if(!e&&C){D=1*aa.sb();var ja=1*aa.rb(),pa={isLinear:!0,isPot:!1,width:D,height:ja};A=X.instance(pa);v=X.instance(pa);k=1/D;M=1/ja}R=[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:z.Ga},{type:"1f",name:"u135",value:z.wa},{type:"1f",name:"u136",value:z.pa}].concat(R,
ca);p=z.ma;ca=[{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}];aa.W()?(D=[{type:"1i",name:"u1",value:0}],ja=[{type:"1i",name:"u143",value:2}],F.f("s92NNGLcolor",R.concat(ca)),F.f("s92NNGLtexture",D.concat(R,ca)),F.f("s92NNGLtextureNormalMap",D.concat(ja,R,ca)),F.f("s92NNGLtextureParamsMap",[{type:"1i",name:"u65",value:2}].concat(D,R,ca)),F.f("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u65",value:3}].concat(D,ja,R,ca))):(F.f("s96",R.concat(ca)),F.f("s97",[{type:"1i",name:"u1",
value:0}].concat(R)),F.f("s98",R),F.f("s99",R),F.f("s100",R.concat([{type:"1i",name:"u143",value:0}])),F.f("s101",R),F.f("s102",R.concat([{type:"1i",name:"u65",value:0}])));F.f("s70",[{type:"2f",name:"u84",value:z.vg}]);F.f(S.aa?"s82":"s83",[{type:"1f",name:"u106",value:z.xe},{type:"3f",name:"u107",value:z.ag},{type:"1f",name:"u108",value:z.Ke},{type:"1f",name:"u109",value:1},{type:"3f",name:"u104",value:z.Sj}]);if(l=z.Ed)K=z.Hm,w=z.Fd,F.f("s81",[{type:"4f",name:"u93",value:z.Dd},{type:"1f",name:"u96",
value:z.If},{type:"2f",name:"u94",value:z.Gm},{type:"1f",name:"u98",value:Math.sign(w)}]);b.forEach(function(ra){ra.Yi(z)});e=!0},bc:function(z){y&&ua.ja.bc(z);B&&ua.ra.bc(z)},gm:function(z,D){void 0!==ua.ja&&z.fc&&aa.W()&&(ua.ja.h(z),u=!0,D.push(function(R){ua.ja.bc(R);y=!0}));void 0!==ua.ra&&z.dd&&(ua.ra.h(z),D.push(function(R){ua.ra.bc(R);B=!0}));void 0!==ua.mc&&z.Be&&(ua.mc.h(z),f=g=!0);void 0!==ua.lb&&(ua.lb.h(z),H=ua.lb.im({width:z.xc,height:2*z.xc,depth:1.5*z.xc,tl:-z.qf,Ua:z.mf,Vk:z.pf}),
E=!0)},Wn:function(z,D,R,ca){z&&(ia=z,u&&ua.ja.cc(z),B&&ua.ra.cc(z),g&&ua.mc.cc(z),b.forEach(function(ja){ja.cc(z)}));R&&(O=R);ca&&(T=ca)},yb:function(z){aa.W()?(F.f("s92NNGLcolor",z),F.f("s92NNGLtexture",z),F.f("s92NNGLtextureNormalMap",z),F.f("s92NNGLtextureParamsMap",z),F.f("s92NNGLtextureNormalParamsMap",z)):(F.f("s96",z),F.f("s97",z),F.f("s98",z),F.f("s99",z),F.f("s100",z),F.f("s101",z),F.f("s102",z))},bb:function(z,D,R){var ca=[z[0]+D[0],z[1]+D[1],z[2]+D[2]];ca=[ca[0]+R[0],ca[1]+R[1],ca[2]+
R[2]];a.Ha=ca;a.Om=D;a.Bo=R;t.yb([{type:"3f",name:"u133",value:ca}]);aa.W()&&(u&&ua.ja.bb(z,D,R),B&&ua.ra.bb(ca));E&&ua.lb.bb(z)},cb:function(z,D,R){var ca=z*D*R;a.Pm=D;a.Co=R;a.am=z;t.yb([{type:"1f",name:"u134",value:ca}]);aa.W()&&(u&&ua.ja.cb(z*D,R),B&&ua.ra.cb(ca));E&&ua.lb.cb(z)},Ri:function(){t.bb(a.Ha,a.Om,a.Bo);t.cb(a.am,a.Pm,a.Co);t.gj(a.Ic);t.h(a.og);t.dj(a.xk,a.pa)},gj:function(z){a.Ic=z;t.yb([{type:"1f",name:"u70",value:z}]);aa.W()&&(u&&ua.ja.jg(z),B&&ua.ra.jg(z))},dj:function(z,D){a.xk=
z;a.pa=D;t.yb([{type:"1f",name:"u135",value:z},{type:"1f",name:"u136",value:D}])},Pn:function(z){p=z;0===d&&t.yb([{type:"1f",name:"u139",value:p[0]},{type:"1f",name:"u140",value:p[1]}])},ab:function(z){function D(){E&&ua.lb.toggle(!1);l&&F.f("s81",[{type:"1f",name:"u97",value:0}])}0>=z?(n=0,0!==d&&(d=0,Jb.rn(),E&&ua.lb.toggle(!0),l&&F.f("s81",[{type:"1f",name:"u97",value:1}]))):1<=z?(n=1,1!==d&&(d=1,Jb.qj(!0)),D()):(n=z,2!==d&&(Jb.qj(!1),d=2,D()));F.f("s83",[{type:"1f",name:"u109",value:1-z}]);P[0].value=
n;P[1].value=p[0]*(1-z)+-300*z;P[2].value=p[1]*(1-z)+-300*z;P[3].value=m*(1-z)+z*r;P[4].value=h*(1-z);P[5].value=1-z+z*q;y&&ua.ja.kg(n,P);B&&ua.ra.kg(n,P);t.yb(P)},ql:function(z){ia.a(1);z.forEach(function(D){D.kl()});E&&H.S()},Am:function(){return 1===d},ze:function(z){ia.Ib(z)},Xj:function(z){b.push(z)},tg:function(z){y=z&&u},sg:function(z){f=z&&g},gg:function(z){B&&aa.W()&&ua.ra.$n(z)},zb:function(z){aa.W()&&(u&&ua.ja.zb(z),B&&ua.ra.zb(z))},nl:function(z,D){if(!L)return!1;A.K();z.a(0);F.set("s74");
F.L("u8",0,M);W.g(!1,!1);v.i();A.a(0);F.L("u8",k,0);W.g(!1,!1);F.set("s75");D.K();v.a(0);W.g(!1,!1);return!0},pj:function(z){L=z&&C},resize:function(z,D,R){z*=R;D*=R;C&&(A.resize(z,D),v.resize(z,D),k=1/z,M=1/D)},eg:function(z,D){var R=z.I(),ca=z.V(),ja={width:R,height:ca,isPot:!1};u&&(I&&I.remove(),I=X.instance(ja));x=xa.instance({width:R,height:ca});g||B?(ua.mc.fg(R,ca),G&&G.remove(),G=X.instance(ja)):G=z;u&&ua.ja.fg(R,ca);D&&(ba&&ba.remove(),ba=X.instance(ja))},il:function(z){var D=null;switch(d){case 0:D=
z;break;case 2:x.bind(!1,!0);ba.i();F.set("s65");F.C("u7",n);z.a(1);T.a(0);W.g(!0,!0);D=ba;break;case 1:D=T}if(!y||1===d||!aa.W())return D;D.Ib(0);f&&ua.mc.S(D,G);x.bind(!1,!f);B&&(f?D.a(0):(G.i(),F.set("s1"),W.g(!0,!0)),ua.ra.S());G.a(0);O.Ib(2);ua.ja.S();I.i();F.set("s1");f||B?G.a(0):D.a(0);W.g(!0,!S.aa);ua.ja.add();return I},ol:function(z,D){if(!l)return!1;F.set("s81");F.C("u95",z*w);K.a(1);Ua.ze(2);G?G.a(3):D.a(3);return!0},u:function(){e=!1;n=d=0;h=r=m=-1;q=1;p=null;E=!1;H=null;f=g=B=y=u=!1;
ua.ja.u();ua.kb.u()}};return t}(),ta=function(){function a(){h.forEach(function(D){D.rl(O)})}function b(){h.forEach(function(D){D.hd(O)})}function e(){h.forEach(function(D){D.pl(O)})}function d(){h.forEach(function(D){D.jd(O)})}function n(){O?Ua.ql(h):h.forEach(function(D){D.ll()})}function m(){x&&clearTimeout(x);x=setTimeout(function(){x=k=!1},16)}function r(D){D()}var h=[],q=[],p={da:!1,position:!1,ub:!1},E=[],H=[],u=null,y=0,B=null,g=null,f=null,C=null,L=!1,A=!1,v=!1,k=!1,M=!1,K=!1,w=null,l=null,
x=null,G=null,I=!1,O=!1,T=!1,ba=!1,ia=!1,P=!1,t=!1,z={h:function(){c.enable(c.DEPTH_TEST);c.depthFunc(c.LEQUAL);c.clearDepth(1);S.Tk?(c.enable(c.CULL_FACE),c.frontFace("CCW"===S.Uk?c.CCW:c.CW),c.cullFace(c.BACK)):c.disable(c.CULL_FACE);z.fh();var D={isPot:!1,isLinear:!1,width:aa.sb(),height:aa.rb(),A:4,isFloat:!1};B=X.instance(D);D=Object.assign({},D,{isLinear:!0,width:aa.I(),height:aa.V()});g=X.instance(D);f=X.instance(D);S.Oa&&(D=Object.assign({},D,{isLinear:!1}),C=X.instance(D));K=za.ba();S.Oa||
(u=Zb.instance({Hb:S.Hb,rc:S.rc,sc:S.sc,qc:S.qc}));L=!0},fh:function(){aa.W()?p=nc.instance({}):(p.da=Cb.instance({ec:S.Oa?!1:"s93",isFloat:!1,Tb:!0,clearColor:[0,0,0,0],A:4}),p.position=Cb.instance({ec:S.Oa?!1:"s103",isFloat:!0,Tb:!0,clearColor:[0,0,0,0],A:4}),p.ub=Cb.instance({ec:!1,isFloat:!0,Tb:!0,clearColor:[0,0,0,0],A:4}),p.Ec=Cb.instance({ec:!1,isFloat:!1,Tb:!0,clearColor:[0,0,0,0],A:4}))},Ll:function(){return u},sa:function(D){u=D},nq:function(){},zb:function(D){Ua.zb(D)},Yi:function(D){Ua.h(D,
E);aa.W()||(p.da.hj(!1),p.position.hj("s96"));O=ba=!0},Yp:function(){Ua.Ri()},Uo:function(D){Ua.Xj(D)},En:function(D,R,ca){Ua.bb(D,R,ca)},Fn:function(D,R,ca){Ua.cb(D,R,ca)},Cn:function(D,R){Ua.dj(D,R)},Dn:function(D){Ua.Pn(D)},Gn:function(D){Ua.gj(D)},ab:function(D){Ua.ab(D)},Zi:function(D,R,ca,ja){Ua.Wn(D,R,ca,ja);R&&z.eg(R,ja?!0:!1);T=!0},tg:function(D){Ua.tg(D)},gg:function(D){Ua.gg(D)},sg:function(D){Ua.sg(D)},pj:function(D){Ua.pj(D)},Vo:function(D){I&&(ia=!0,P=X.instance({width:G.I(),height:G.V(),
isPot:!1}),t=D)},eg:function(D,R){"string"===typeof D?G=X.instance({url:D,isFloat:!1}):G=D;O&&Ua.eg(G,R);I=!0},Wj:function(D){h.push(D);0!==E.length&&(E.forEach(function(R){R(D)}),E.splice(0,E.length))},on:function(D){D=h.indexOf(D);-1!==D&&h.splice(D,1)},Wo:function(D){q.push(D)},Vp:function(D){D=q.indexOf(D);-1!==D&&q.splice(D,1)},Zd:function(D){O&&(A=D)},animate:function(D){!S.Oa||O&&T?A&&(k||y>S.Qm&&M?(w&&clearTimeout(w),++y,window.cancelAnimationFrame(z.animate),w=setTimeout(function(){window.requestAnimationFrame(z.animate)},
16)):(z.Mi(D),++y,O||A&&window.requestAnimationFrame(z.animate))):setTimeout(z.animate,100)},Yo:function(D){H.push(D)},Mi:function(D){if((!S.Oa||O&&T)&&L){H.forEach(r);if(aa.W()){if(!p.set()&&!aa.ha()){aa.qo();z.fh();Cb.Xc();F.Rn();S.Oa&&Ua.Ri();c.flush();window.requestAnimationFrame(z.animate);return}O||qc.qn();n();p.F();K&&c.depthMask(!1)}else O&&Ua.ze(1),p.da.set(!0,!0,!0),b(),p.da.F(),K&&c.depthMask(!1),p.Ec.set(!1,!K,!1),e(),p.Ec.F(),p.position.set(!0,!K,!1),mb.S(),a(),p.position.F(),p.ub.set(!1,
!K,!1),d(),p.ub.F();c.disable(c.DEPTH_TEST);K||c.depthMask(!1);S.aa&&wb.S();var R=z.yh();null!==R&&(R.a(7),F.set(S.aa?"s82":"s83"),F.L("u8",1/aa.sb(),1/aa.rb()),Cb.yk(),B.K(),S.en?(c.enable(c.BLEND),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA)):c.disable(c.BLEND),O||mb.Ve(),p.position.a(0),p.ub.a(1),p.da.a(2),u.$c(3),p.Ec.a(6),u.ad(4),u.jh(),S.aa&&wb.a(5),W.g(!0,!0),xa.fa(),Ua.nl(B,g)||(F.set("s1"),g.K(),B.a(0),W.g(!1,!1)),F.set("s71"),f.K(),g.a(0),W.g(!1,
!1),g.i(),f.a(0),ba&&O?(F.set("s70"),C.a(1),Ua.ze(2),W.g(!1,!1),F.set("s1"),C.K(),g.a(0),W.g(!1,!1)):(F.set("s69"),W.g(!1,!1),g.a(0)),xa.X(),c.viewport(0,0,aa.I(),aa.V()),O&&Ua.ol(D,R)||F.set("s1"),W.g(!1,!1),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.flush())}},yh:function(){if(!I)return X.Ih();if(!O)return G;if(ia&&!Ua.Am()){F.set(t);xa.fa();P.Nc();P.i();G.a(0);var D=P;W.g(!0,!0)}else D=G;return Ua.il(D)},io:function(){S.Zk||A||(A=!0,z.animate(Date.now()),v||oc.jo(),v||Jb.lc(!1),l&&clearTimeout(l),
S.aa&&wb.Rd(),l=setTimeout(z.Aa,S.uk),v||aa.dm(),v=!0)},lq:function(){A&&(M=A=!1,cancelAnimationFrame(z.animate))},Aa:function(){M||!v||k||S.hh||(M=k=!0,l&&clearTimeout(l),x&&clearTimeout(x),mb.af().Oi(),l=setTimeout(function(){aa.Gg(S.Um);S.aa&&wb.Cj();y=0;m()},24))},wake:function(){M&&v&&!k&&(k=!0,M=!1,y=0,mb.af().Oi(),l&&clearTimeout(l),x&&clearTimeout(x),l=setTimeout(function(){aa.Gg(1);S.aa&&wb.Rd();m()},16))},Hp:function(){},mp:function(){},Yd:function(D){ba=D},rq:function(){F.f("s83",[{type:"1f",
name:"u112",value:S.$b},{type:"1f",name:"u113",value:S.Nd}])},resize:function(D,R,ca){B.resize(D*ca,R*ca);g.resize(D,R);f.resize(D,R);S.Oa&&C.resize(D,R);Ua.resize(D,R,ca);D=[{type:"2f",name:"u8",value:[1/D,1/R]}];F.f("s71",D);F.f("s69",D)},H:function(){w&&clearTimeout(w);l&&clearTimeout(l);x&&clearTimeout(x);h.concat(q).forEach(function(D){D.H()});h.splice(0,h.length);q.splice(0,q.length);p.da.remove();p.ub.remove();p.Ec.remove();p.position.remove();B.remove();g.remove();f.remove();C&&C.remove();
k=!0},u:function(){z.H();K=M=k=v=A=O=T=k=!1}};return z}(),ua={},aa=function(){function a(){Cb.resize(e*q,d*q);B.W()&&nc.resize(e*q,d*q);ta.resize(e,d,q);S.aa&&wb.resize(e*q,d*q,q);B.Eg()}var b=null,e=0,d=0,n=-1,m=!1,r={ae:!1,wg:!1,zj:!1,pg:!1,drawBuffers:!1,tm:!1,$h:!1,vm:!1,Ac:!1,Ya:!1},h=Object.assign({},r),q=1,p=!1,E=!1,H=!1,u=!1,y=!1,B={h:function(g){void 0!==g.onload&&g.onload&&(E=g.onload);void 0===g.expand&&(g.expand=!1);void 0===g.zd&&(g.zd=!1);void 0===g.qa&&(g.qa=!1);void 0===g.Qb&&(g.Qb=
!1);void 0===g.alpha&&(g.alpha=!1);void 0===g.preserveDrawingBuffer&&(g.preserveDrawingBuffer=!1);g.zd&&(m=!0);g.qa?b=g.qa:b=document.getElementById(g.Nk);g.expand&&B.expand();try{window.Da=g.Qb?g.Qb.yl():b.getContext("webgl",{antialias:!1,alpha:g.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:g.preserveDrawingBuffer});u=g.Qb?g.Qb.ha():!1;H=!u;8>c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS)&&B.ed("too few texture image units");if(!za.h())return B.ed("invalid config");S.yo&&(h.wg=
c.getExtension("EXT_texture_filter_anisotropic"),h.wg&&(h.$h=!0));S.zo&&(h.ae=c.getExtension("WEBGL_compressed_texture_s3tc"),h.ae&&void 0!==h.ae.COMPRESSED_RGBA_S3TC_DXT5_EXT&&h.ae.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(h.tm=!0));H&&(h.zj=c.getExtension("OES_element_index_uint")||c.getExtension("MOZ_OES_element_index_uint")||c.getExtension("WEBKIT_OES_element_index_uint"),h.zj&&(h.vm=!0));!u&&S.Ao&&(h.pg=c.getExtension("EXT_sRGB"),h.pg&&(h.Ac=!0));H?(h.drawBuffers=c.getExtension("WEBGL_draw_buffers"),h.drawBuffers&&
!S.gh&&(h.Ya=!0)):h.Ya=4<=c.getParameter(c.MAX_DRAW_BUFFERS);if(h.Ya){var f=B.bl();h.Ya=h.Ya&&f}}catch(C){return B.ed(C)}if(null===c||!c)return B.ed("NO_GL");g.expand&&window.addEventListener("resize",B.expand,!1);b.addEventListener("contextmenu",function(C){C.preventDefault();return!1},!1);e=b.width;d=b.height;B.uf();return!0},uf:function(){n=m?3:2;za.ba()||(n=Math.min(n,1));za.Jk()||(n=Math.min(n,0));vc.h();Cb.h();for(var g in ua)ua[g].Hc();F.h();mb.h();Jb.h();ta.h();oc.h();S.aa&&wb.h();"undefined"!==
typeof FPSCounter&&FPSCounter.h();B.Eg();B.dl();p=!0;E&&E();return!0},dl:function(){if(h.Ya){var g=nc.instance({width:256,height:1});g.bind();c.viewport(0,0,256,1);F.set("s91");F.za("color",[1,0,0,1]);W.g(!0,!0);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT||c.DEPTH_BUFFER_BIT);xa.X();F.set("s1");g.ub.a(0);W.g(!1,!1);g=new Uint8Array(1024);c.readPixels(0,0,256,1,c.RGBA,c.UNSIGNED_BYTE,g);y=1>=g[1020]}},bl:function(){var g=nc.instance({width:1,height:1});if(!g.set())return g.remove(),!1;F.Un(c);
W.Nb(c);c.bindFramebuffer(c.FRAMEBUFFER,null);F.xb(c);g.da.Ib(0);W.Nb(c);var f=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,f);g.remove();return 3<Math.abs(f[0]-127)?!1:!0},ha:function(){return u},I:function(){return e},V:function(){return d},sb:function(){return q*B.I()},rb:function(){return q*B.V()},zl:function(){return e/d},P:function(){return n},ym:function(){return 3===n},ci:function(){return y},W:function(){return h.Ya},qo:function(){h.Ya=!1},Np:function(){return!1},Lk:function(){return 0<
B.P()},ep:function(){return B.W()&&0<B.P()},$e:function(g){var f=c,C="";u||(f=h.drawBuffers,C="_WEBGL");return[f["COLOR_ATTACHMENT0"+C],f["COLOR_ATTACHMENT1"+C],f["COLOR_ATTACHMENT2"+C],f["COLOR_ATTACHMENT3"+C]].splice(0,g)},rd:function(g){return B.$e(4)[g]},Xl:function(){return u?c.SRGB?c.SRGB:c.RGBA:h.Ac?h.pg.SRGB_ALPHA_EXT:c.RGBA},wm:function(){return h.$h},El:function(){return h.wg},Km:function(g){B.ha()?c.drawBuffers(B.$e(g)):h.drawBuffers.drawBuffersWEBGL(B.$e(g))},expand:function(){ta.wake();
B.resize(window.innerWidth,window.innerHeight);ta.Aa()},resize:function(g,f){!b||g===e&&f===d||(e=g,d=f,b.width=e,b.height=d,p&&(mb.resize(),a()))},Eg:function(){var g=[{type:"2f",name:"u8",value:[1/aa.sb(),1/aa.rb()]}];F.f("s71",g);F.f("s69",g)},Gg:function(g){q=g;a()},Ka:function(g,f){b.addEventListener(g,f,!1)},ed:function(){n=-1;return!1},$g:function(){return 0<=n},Qp:function(){},Zp:function(){},kq:function(){var g=document.getElementById("loading");g&&(g.style.display="block")},dm:function(){var g=
document.getElementById("loading");g&&(g.style.display="none")},H:function(){B.$g()&&(X.Aj(),ta.H(),W.H(),Cb.H(),S.aa&&wb.H(),Zb.H(),oc.H(),F.H(),X.H(),c.flush(),c=null)},u:function(){ta.u();Ua.u();F.u();Object.assign(h,r);p=!1}};return B}(),mb=function(){var a=!1,b=!1,e=[];return{h:function(){},instance:function(d){void 0===d.Pi&&(d.Pi=!0);void 0===d.pe&&(d.pe=.1);void 0===d.oe&&(d.oe=100);void 0===d.direction&&(d.direction=[0,0,-1]);void 0===d.Ob&&(d.Ob=45);var n=new Rb,m=new Sa(50,-50,-400),r=
null;n.setPosition(m);var h=new Int8Array(20),q=new Int8Array(20),p=0,E=0,H=0,u=0,y={S:function(){q[F.sd()]||(F.Lc("u114",n.elements),q[F.sd()]=1);h[F.sd()]||(F.Lc("u126",r),h[F.sd()]=1)},Ue:function(){E||(F.Lc("u114",n.elements),E=1);p||(F.L("u115",r[0],r[5]),p=1)},Ve:function(){H||(F.lg("u104",m.x,m.y,m.z),H=1)},Kb:function(){u||(F.lg("u144",m.x,m.y,m.z),u=1)},bh:function(){var B=d.pe,g=d.oe,f=Math.tan(.5*d.Ob*Math.PI/180);r=[.5/f,0,0,0,0,.5*aa.zl()/f,0,0,0,0,-(g+B)/(g-B),-1,0,0,-2*g*B/(g-B),0];
for(B=0;20>B;++B)h[B]=0;p=0},Qn:function(B,g){m.Wi(g[0]).Xi(g[1]).z=g[2];n.elements.set(B);for(B=0;20>B;++B)q[B]=0;u=H=E=0},Oi:function(){for(var B=u=H=0;20>B;++B)q[B]=0}};y.bh();a=y;b=!0;d.Pi&&e.push(y);return y},S:function(){b&&a.S()},Ue:function(){b&&a.Ue()},Ve:function(){b&&a.Ve()},Kb:function(){b&&a.Kb()},resize:function(){e.forEach(function(d){d.bh()})},af:function(){return a}}}(),Cb=function(){var a=[],b=null;return{h:function(){b=xa.instance({width:aa.sb(),height:aa.rb(),yc:!aa.W()})},instance:function(e){void 0===
e.width&&(e.width=aa.sb());void 0===e.height&&(e.height=aa.rb());void 0===e.isFloat&&(e.isFloat=!1);void 0===e.Tb&&(e.Tb=!1);void 0===e.clearColor&&(e.clearColor=[0,0,0,0]);void 0===e.A&&(e.A=4);var d=X.instance({isFloat:e.isFloat&&za.ba(),O:e.isFloat,width:e.width,height:e.height,isPot:!1,isLinear:!1,A:e.A}),n=void 0!==e.ec&&e.ec?!0:!1,m=e.ec,r={set:function(h,q,p){p&&b.bind(!1,p);d.i();h&&(c.clearColor(e.clearColor[0],e.clearColor[1],e.clearColor[2],e.clearColor[3]),b.Fe());q&&b.ah();n&&F.set(m)},
hj:function(h){n=(m=h)?!0:!1},F:function(){d.de()},a:function(h){d.a(h)},resize:function(h,q){d.resize(h,q)},debug:function(){d.debug()},remove:function(){d.remove()}};e.Tb&&a.push(r);return r},resize:function(e,d){b.resize(e,d);a.forEach(function(n){n.resize(e,d)})},yk:function(){b.Ug()},Xc:function(){b.Xc()},Nc:function(){b.Nc()},hp:function(){b.ah()},gp:function(){b.Fe()},fp:function(){b.clear()},H:function(){b.remove()}}}(),nc=function(){var a=[];return{instance:function(b){void 0===b.width&&
(b.width=aa.sb());void 0===b.height&&(b.height=aa.rb());var e=c.createFramebuffer(),d=b.width,n=b.height,m=!0;b={isFloat:za.ba(),O:!0,width:d,height:n,isPot:!1,isLinear:!1,A:4};var r=X.instance(b),h=X.instance(b),q=X.instance(b),p=X.instance(b),E=xa.Fl(),H=xa.Dh();c.bindFramebuffer(E,e);var u=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.framebufferRenderbuffer(E,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,u);c.clearDepth(1);c.framebufferTexture2D(E,
aa.rd(0),c.TEXTURE_2D,r.get(),0);c.framebufferTexture2D(E,aa.rd(1),c.TEXTURE_2D,h.get(),0);c.framebufferTexture2D(E,aa.rd(2),c.TEXTURE_2D,p.get(),0);c.framebufferTexture2D(E,aa.rd(3),c.TEXTURE_2D,q.get(),0);aa.Km(4);c.bindFramebuffer(E,null);xa.reset();var y={position:r,ub:h,Ec:q,da:p,bind:function(){c.bindFramebuffer(E,e);xa.reset()},set:function(){c.checkFramebufferStatus(H);c.bindFramebuffer(E,e);xa.reset();if(m){if(c.checkFramebufferStatus(H)!==c.FRAMEBUFFER_COMPLETE)return!1;m=!1}c.viewport(0,
0,d,n);c.clearColor(0,0,0,0);F.Xb()&&!aa.ci()&&(F.set("s90"),W.g(!1,!1));c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);return!0},F:function(){},resize:function(B,g){d=B;n=g;r.resize(B,g);h.resize(B,g);p.resize(B,g);q.resize(B,g);c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,d,n);c.bindRenderbuffer(c.RENDERBUFFER,null)},remove:function(){r.remove();h.remove();p.remove();q.remove();c.deleteRenderbuffer(u);c.deleteFramebuffer(e);var B=a.indexOf(y);-1!==
B&&a.splice(B,1)}};a.push(y);return y},resize:function(b,e){a.forEach(function(d){d.resize(b,e)})}}}(),Zb=function(){var a=[],b=S.Tg;return{instance:function(e){function d(){q?n():(f=kd.instance({ia:H,sm:b}),h=S.vk[aa.P()],u=X.instance({isFloat:za.ba(),O:!0,isPot:!0,isLinear:!1,Rb:!0,width:h,height:h/2,A:3}),y=X.instance({isFloat:za.ba(),O:!0,isPot:!0,isLinear:!1,Rb:!0,width:h,height:h/2,A:3}),B=X.instance({isFloat:za.ba(),O:!0,isPot:!0,width:1,height:h/2,A:3}),g=X.instance({isFloat:za.ba()&&!b,O:!b,
isPot:!1,isLinear:!0,Rb:!0,isMipmap:!1,width:h,height:h/2,A:b?4:3}),q=!0,n(),L.forEach(function(A){A()}),L.splice(0,L.length))}function n(){if(q){xa.fa();f.mn();u.K();F.set("s73");H.a(0);F.C("u82",S.$b);X.Dk(1);W.g(!0,!0);for(var A=S.jm[aa.P()],v=0;v<A;++v)y.i(),F.set("s76"),F.L("u8",1/h,0),u.a(0),W.g(!1,!1),u.i(),F.L("u8",0,2/h),y.a(0),W.g(!1,!1);B.K();F.set("s78");u.a(0);W.g(!1,!1);F.set(b?"s80":"s79");g.K();u.a(0);B.a(1);W.g(!1,!1);X.X(0);X.X(1)}}var m=Object.assign({Hb:null,rc:null,qc:0,sc:0},
e),r=0,h=0,q=!1,p=null,E=null,H=null,u=null,y=null,B=null,g=null,f=null,C=0,L=[];e={h:function(){function A(){2===++v&&(H=X.instance({isFloat:za.ba(),O:!0,isPot:!1,isMipmap:!1,isLinear:!1,Rb:!0,width:r,height:r/2,A:3}),xa.fa(),H.K(),F.set("s72"),F.C("u87",m.sc),F.C("u88",m.qc),p.a(0),E.a(1),W.g(!0,!0),d())}var v=0;r=S.wk[aa.P()];C=Math.log2(r)-1;m.Hb&&(p=X.instance({isPot:!1,url:m.Hb,N:A,A:3,isFlipY:!1}),E=X.instance({isPot:!1,url:m.rc,N:A,A:3,isFlipY:!1}))},ej:function(A){H=A;d()},$c:function(A){q&&
(f.a(A),F.C("u105",f.I()))},ad:function(A){q&&g.a(A)},jh:function(){F.C("u22",C)},zh:function(){return C},I:function(){return r},Jb:function(A){q?A():L.push(A)},H:function(){p&&p.remove();E&&E.remove();u.remove();B.remove();y.remove();f.remove();g.remove();H.remove()}};a.push(e);e.h();return e},H:function(){a.forEach(function(e){e.H()})}}}(),Uc={instance:function(a){var b=a.Em,e=a.Cm,d=0,n=b.I();a=S.Tg;var m=X.instance({isFloat:za.ba()&&!a,O:!a,isLinear:!0,isMipmap:!1,isPot:!1,width:n,A:a?4:3,isFlipY:!1}),
r=X.instance({isFloat:za.ba()&&!a,O:!a,isPot:!1,isLinear:!0,Rb:!0,isMipmap:!1,width:n,height:n/2,A:a?4:3}),h=xa.instance({width:n,height:n}),q=a?"s66":"s65";return{Vn:function(p){d=p;F.set(q);c.viewport(0,0,n,n);h.i();m.i();F.C("u7",d);b.$c(1);e.$c(0);W.g(!0,!0);c.viewport(0,0,n,n/2);r.i();b.ad(1);e.ad(0);W.g(!1,!1);c.flush()},$c:function(p){m.a(p)},ad:function(p){r.a(p)},jh:function(){F.C("u22",b.zh()*(1-d)+e.zh()*d)}}}},Jb=function(){function a(G){var I=(k-S.De)/(S.Xg-S.De);I=1-Math.pow(1-I,S.Ro);
k+=G*(1+I*S.So);k=Math.min(Math.max(k,S.De),S.Xg);x.lc()}function b(G){-1!==h&&(C=f=0,r(),a(S.Qo*G.deltaY/window.innerHeight),G.preventDefault())}function e(){A+=f;v+=C;v=Math.min(Math.max(v,S.Ym),S.Xm);x.lc()}function d(G){if(0===h||-1===h)return!1;var I=void 0!==G.touches&&G.touches.length;G.preventDefault();if(2===h){var O=Jc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,G.touches[1].pageY);a(-(B-O)*S.Zm);B=O}else O=I?G.touches[0].clientX:G.clientX,G=I?G.touches[0].clientY:G.clientY,
f=2*(O-u)*Math.PI/aa.I(),C=2*(G-y)*Math.PI/aa.V(),4===h?(l[0]+=f*S.Ai,l[1]-=C*S.Ai,l[0]=Math.min(Math.max(l[0],-S.Di),S.Di),l[1]=Math.min(Math.max(l[1],-S.Ei),S.Ei),x.lc()):e(),u=O,y=G}function n(){0!==h&&-1!==h&&(0===f&&0===C||1!==h||!K?ta.Aa():(r(),g=Date.now(),M=setInterval(x.Bm,L)),h=0)}function m(G){if(2!==h&&-1!==h){C=f=0;r();ta.wake();var I=void 0!==G.changedTouches&&G.touches.length;G.preventDefault();I&&2===G.touches.length?(h=2,B=Jc(G.touches[0].pageX,G.touches[0].pageY,G.touches[1].pageX,
G.touches[1].pageY)):(h=I||2!==G.button?1:4,u=I?G.touches[0].clientX:G.clientX,y=I?G.touches[0].clientY:G.clientY);return!1}}function r(){M&&(clearInterval(M),M=!1)}var h=0,q=!1,p=!1,E=!1,H=1,u=0,y=0,B=0,g=0,f=0,C=0,L=16,A=S.uj,v=S.Ci,k=S.Ce,M=!1,K=0,w=new Float32Array([0,0,0,0,0]),l=[S.Hk,S.Ik],x={h:function(){K=S.Zj[aa.P()];L=S.kd[aa.P()];aa.Ka("mousedown",m);aa.Ka("mouseup",n);aa.Ka("mouseout",n);aa.Ka("mousemove",d);aa.Ka("mousemove",d);aa.Ka("wheel",b);aa.Ka("touchstart",m);aa.Ka("touchend",
n);aa.Ka("touchmove",d)},lc:function(G){q?(p[0]=-v,p[1]=A,E[1].value=H/S.Ce*k,Ua.yb(E)):(w[0]=A,w[1]=v,w[2]=k,w[3]=l[0],w[4]=l[1],oc.zn(w,G))},Bm:function(){if(1E-4>f&&1E-4>C||-1===h)r(),C=f=0,0===h&&ta.Aa();var G=Date.now(),I=G-g;g=G;G=Math.pow(K,I/L);f*=G;C*=G;e()},We:function(G){q||(q=!0,h=-1,p=[0,0,0],E=[{name:"u73",type:"3f",value:p},{name:"u77",type:"1f",value:1}],H=G)},qj:function(G){-1===h&&G&&(h=0);G||(h=-1)},rn:function(){C=f=0;A=S.uj;v=S.Ci;k=S.Ce;x.lc()},cq:function(G){k=G},eq:function(G){l[0]=
G[0];l[1]=G[1];S.Yg=G[2]},bq:function(G,I){A=G;v=I}};return x}(),qc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(b){function e(t){if(P){t.tweaker&&window.JEELIZVTO&&"undefined"!==typeof Q&&Q.Sg(t.tweaker);w.splice(0,w.length);w.push({n:0,offset:0});k.min.set(Infinity,Infinity,Infinity);k.max.set(-Infinity,-Infinity,-Infinity);var z=t.uvs;z&&(z=z.filter(function(ea){return ea}));ba=z&&0<z.length&&0<z[0].length?!0:!1;"undefined"!==
typeof yb&&"string"===typeof t.faces&&(t.faces=yb(t.faces));"undefined"!==typeof Fb&&("string"===typeof t.vertices&&(t.vertices=Fb(t.vertices)),z&&z.length&&z.forEach(function(ea,ya){"string"===typeof ea&&(z[ya]=Fb(ea))}));var D=t.metadata.faces,R=1+(ba?1:0);D=(t.faces.length-D)/(t.metadata.faces*R);6!==D&&8!==D||ba||(++R,D/=2);if(4===D){D=6*R+2;for(var ca=4*R+1,ja=Array(t.metadata.faces*D),pa=0;pa<t.metadata.faces;++pa)for(var ra=0;ra<R;++ra)ja[pa*D+4*ra]=t.faces[pa*ca+5*ra],ja[pa*D+4*ra+1]=t.faces[pa*
ca+5*ra+1],ja[pa*D+4*ra+2]=t.faces[pa*ca+5*ra+2],0===ra&&(ja[pa*D+3]=t.faces[pa*ca+4]),ja[pa*D+4*ra+3*R+1]=t.faces[pa*ca+5*ra],ja[pa*D+4*ra+3*R+2]=t.faces[pa*ca+5*ra+2],ja[pa*D+4*ra+3*R+3]=t.faces[pa*ca+5*ra+3],0===ra&&(ja[pa*D+3*R+4]=t.faces[pa*ca+4]);t.faces=ja;t.metadata.faces*=2}u=Array(t.metadata.vertices);for(D=0;D<t.metadata.vertices;++D)u[D]=new Sa(t.vertices[3*D],t.vertices[3*D+1],t.vertices[3*D+2]),Xc(k,u[D]);y=Array(t.metadata.faces);R=3*R+1;for(D=0;D<t.metadata.faces;++D)y[D]=new sc(t.faces[R*
D],t.faces[R*D+1],t.faces[R*D+2]),y[D].Zb=t.faces[R*D+3];x=3<u.length;P&&(P.visible=x);Zc(u,y);B=$c(u,y);if(ba){R=Array(u.length);D=["a","b","c"];for(ca=0;ca<t.metadata.faces;++ca)for(ja=0;3>ja;++ja)if(pa=t.faces[7*ca+ja],ra=t.faces[7*ca+1+ja+3],"undefined"===typeof R[pa])R[pa]=[[pa,ra]];else if(R[pa][0][1]!==ra){for(var Qa=-1,Ma=1;Ma<R[pa].length;++Ma)if(R[pa][Ma][1]===ra){Qa=R[pa][Ma][0];break}Ma=-1;-1===Qa?(Ma=u.length,u.push(u[pa].clone()),B.push(B[pa].clone()),R[pa].push([Ma,ra]),R[Ma]=[[Ma,
ra]]):Ma=Qa;t.faces[7*ca+ja]=Ma;y[ca][D[ja]]=Ma}g=Array(u.length);for(t=0;t<u.length;++t)D="undefined"===typeof R[t]?t:R[t][0][1],g[t]=new Qb(z[0][2*D],z[0][2*D+1])}var Oa=lc(k);b.Fb&&(u.forEach(function(ea){ea.x-=Oa.x;ea.z-=Oa.z;ea.y-=k.min.y}),k.min.x-=Oa.x,k.max.x-=Oa.x,k.min.z-=Oa.z,k.max.z-=Oa.z,k.max.y-=k.min.y,k.min.y=0);if(b.Gb){var la=S.tk/Math.max(k.max.x-k.min.x,k.max.y-k.min.y,k.max.z-k.min.z);u.forEach(function(ea){ea.Fa(la)});k.min.Fa(la);k.max.Fa(la)}t=ba?8:6;R=new Float32Array(u.length*
t);for(D=0;D<u.length;++D)R[t*D]=u[D].x,R[t*D+1]=u[D].y,R[t*D+2]=u[D].z,R[t*D+3]=B[D].x,R[t*D+4]=B[D].y,R[t*D+5]=B[D].z,ba&&(R[t*D+6]=g[D].x,R[t*D+7]=g[D].y);y.sort(function(ea,ya){return ea.Zb-ya.Zb});var ha=new (65536>3*y.length?Uint16Array:Uint32Array)(3*y.length),V=0;y.forEach(function(ea,ya){ea.Zb===V?w[V].n+=3:(w.push({n:3,offset:3*ya}),++V);ha[3*ya]=ea.Ba;ha[3*ya+1]=ea.J;ha[3*ya+2]=ea.Ca});f&&f.remove();f=W.instance({ea:R,R:ha});A=L=!1;T&&P.dh();G=!0;P.Te();b.N&&(b.N(P),b.N=null)}}function d(t){f.La(t.n,
t.offset)}function n(t,z){O[z]&&(F.set(O[z].Sl()),f.bind(!1),ba?(F.Ra(),F.bj()):(F.$a(),F.cj()),O[z].Bc()&&(F.Kc(),L.tc(!1),F.Qd(),mb.Kb()),O[z].gl(),O[z].jd(),f.La(t.n,t.offset))}function m(t,z){O[z]&&(F.set(O[z].Tl()),f.bind(!1),ba?(F.Ra(),F.bj()):(F.$a(),F.cj()),O[z].Bc()&&(F.Kc(),L.tc(!1),F.Qd(),mb.Kb()),P.vc(),O[z].jd(),f.La(t.n,t.offset))}function r(t,z){ia&&O[z]&&(O[z].hl(),f.La(t.n,t.offset))}function h(t,z){ia&&O[z]&&(O[z].jl(ba),f.La(t.n,t.offset))}function q(t,z){O[z]&&(F.set(O[z].Ol()),
O[z].oh(),f.La(t.n,t.offset))}function p(t,z){O[z]&&(F.set(O[z].Pl()),P.vc(),O[z].oh(),f.La(t.n,t.offset))}function E(t,z){O[z]&&(F.set(O[z].Ql()),O[z].Bc()&&(L.tc(!1),F.Qd(),mb.Kb()),f.bind(!1),O[z].lh(ba),f.La(t.n,t.offset))}function H(t,z){if(O[z]){var D=O[z].Rl();F.set(D);O[z].Bc()&&(L.tc(!1),F.Qd(),mb.Kb(),f.bind(!1));a[D]||(P.vc(),f.bind(!1),a[D]=!0);O[z].lh(ba);f.La(t.n,t.offset)}}if(!aa.$g())return!1;void 0===b.Fb&&(b.Fb=!1);void 0===b.Gb&&(b.Gb=!1);void 0===b.Wg&&(b.Wg=!1);var u=null,y=null,
B=null,g=null,f=null,C=null,L=null,A=!1,v=new Rb,k=new rc,M=[],K=null,w=[{n:0,offset:0}],l=[],x=!1,G=!1,I=[],O=[],T=!1,ba=!1,ia=!1,P={visible:x,Rk:function(){return w.length},dh:function(){!A&&ba&&(y=y.filter(function(t){return null!==t}),C=ad(u,B,g,y),L=W.instance({ea:C,R:!1}),g=B=y=u=C=null,A=!0)},vc:function(){mb.S();P.nh()},nh:function(){F.Lc("u127",v.elements)},np:function(){x&&(P.nh(),f.bind(!1),ba?F.Ra():F.$a(),f.S())},rl:function(t){x&&(t||P.vc(),f.bind(!1),ba?F.Ra():F.$a(),f.S())},sl:function(){x&&
(f.bind(!1),ba?F.Ra():F.$a(),w.forEach(r))},kh:function(){x&&(f.bind(!1),ba?F.Ra():F.$a(),l.forEach(d))},pl:function(t){ia&&x&&(f.bind(!1),ba?F.Ra():F.$a(),t?w.forEach(q):w.forEach(p))},hd:function(t){x&&(t||P.vc(),f.bind(!1),t||(F.Ra(),F.Kc()),ia&&w.forEach(h))},jd:function(t){ia&&x&&(t?w.forEach(n):w.forEach(m))},ll:function(){ia&&x&&w.forEach(H)},kl:function(){ia&&x&&w.forEach(E)},Hh:function(){return K},Fh:function(){return I},wo:function(t,z){O[t].update(z);P.Ej()},hg:function(t,z){function D(ja,
pa){ja&&(ja.N=function(){P&&++ca===R&&(ia=!0,T&&P.Jb(P.dh,5),P.Te(),z&&P.Jb(function(){z(P)},10))},ja=vc.instance(ja),O[pa]&&O[pa].H(),O[pa]=ja,T=T||ja.Bc())}I=t;ia=!1;var R=t.length,ca=0;O=Array(R);T=!1;t.forEach(function(ja,pa){"string"===typeof ja?tc(-1===ja.indexOf(".json")?ja+".json":ja,function(ra){ra.name=ja;D(ra,pa,ja)}):D(ja,pa,!1)});P.Jb(function(){P.Ej();ta.zb(P);ta.Zd(!0)},4)},Ej:function(){l.splice(0,l.length);w.forEach(function(t,z){O[z]&&O[z].zm()&&l.push(t)})},Jb:function(t,z){G&&
ia?t(P):M.push({pb:t,order:z?z:0})},Te:function(){G&&ia&&(M.sort(function(t,z){return 0>t.order-z.order?1:-1}),M.forEach(function(t){t.pb(P)}),M.splice(0,M.length))},remove:function(){P.H();P=null},H:function(){x=G=!1;f&&f.remove();O.forEach(function(t){t.H()});A&&L.remove()},Vl:function(){return k.size().x},Wl:function(){return k.size().y},Fp:function(){return k.size().z},Bl:function(){return lc(k).x},Cl:function(){return lc(k).y},up:function(){return lc(k).z},Bp:function(){return k.min.y},replace:function(t,
z,D){if(t===K)return z&&P&&(P.Te(),z(P)),!1;K=t;ta.Zd(!1);tc(t,function(R){e(R);z&&z(P)},D);return!0}};b.Fc&&P.hg(b.Fc,b.Wg);K=b.url;tc(b.url,e);return P},qn:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),oc=function(){var a=null,b=!1,e=!1,d=null,n=new Float32Array(16),m=new Float32Array(3),r={data:0},h={h:function(){S.Lb?a=new Worker("js/worker.php"):a={postMessage:function(q){r.data=q;wc.Sm(r)},terminate:function(){}};a.onmessage=function(q){switch(q.data[0]){case 3:for(var p=
0;16>p;++p)n[p]=q.data[p+1];for(p=0;3>p;++p)m[p]=q.data[p+17];mb.af().Qn(n,m);break;case 6:h.Ln(),b=!0,Jb.lc(!1),S.aa&&(wb.enable(),wb.Rd())}};d=new Float32Array(6);d[0]=2;S.Lb||wc.Mn(a)},jo:function(){S.ih||(e=!0)},mq:function(){e=!1},zn:function(q,p){if(p||b&&e)d[1]=q[0],d[2]=q[1],d[3]=q[2],d[4]=q[3],d[5]=q[4],a.postMessage(d)},Ln:function(){a.postMessage([5,S.Yg])},H:function(){S.Lb&&a.terminate()}};return h}(),wc=function(){var a=0,b=0,e=0,d=[0,0],n=new Rb,m=new $b,r=new $b,h=new Sa,q=new Sa,
p=new Hb,E=0,H=new Float32Array(20);H[0]=3;var u=!1,y={data:!1},B={h:function(){"undefined"===typeof S&&(self.tb={Lb:!0});S.Lb&&B.Xf([6])},Sm:function(g){switch(g.data[0]){case 2:B.ig(g.data);break;case 5:E=g.data[1]}},Xf:function(g){S.Lb?postMessage(g):(y.data=g,u.onmessage(y))},ig:function(g){a=g[1];b=g[2];e=g[3];d[0]=g[4];d[1]=g[5];h.set(d[0],d[1],-e);p.set(b,a,0,"XYZ");if(!1===p instanceof Hb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
g=Math.cos(p.m/2);var f=Math.cos(p.o/2),C=Math.cos(p.s/2),L=Math.sin(p.m/2),A=Math.sin(p.o/2),v=Math.sin(p.s/2),k=p.order;"XYZ"===k?(m.m=L*f*C+g*A*v,m.o=g*A*C-L*f*v,m.s=g*f*v+L*A*C,m.G=g*f*C-L*A*v):"YXZ"===k?(m.m=L*f*C+g*A*v,m.o=g*A*C-L*f*v,m.s=g*f*v-L*A*C,m.G=g*f*C+L*A*v):"ZXY"===k?(m.m=L*f*C-g*A*v,m.o=g*A*C+L*f*v,m.s=g*f*v+L*A*C,m.G=g*f*C-L*A*v):"ZYX"===k?(m.m=L*f*C-g*A*v,m.o=g*A*C+L*f*v,m.s=g*f*v-L*A*C,m.G=g*f*C+L*A*v):"YZX"===k?(m.m=L*f*C+g*A*v,m.o=g*A*C+L*f*v,m.s=g*f*v-L*A*C,m.G=g*f*C-L*A*v):
"XZY"===k&&(m.m=L*f*C-g*A*v,m.o=g*A*C-L*f*v,m.s=g*f*v+L*A*C,m.G=g*f*C+L*A*v);h.y-=E;g=n.elements;v=m.x;var M=m.y,K=m.z;L=m.w;var w=v+v,l=M+M;A=K+K;f=v*w;C=v*l;v*=A;k=M*l;M*=A;K*=A;w*=L;l*=L;L*=A;g[0]=1-(k+K);g[4]=C-L;g[8]=v+l;g[1]=C+L;g[5]=1-(f+K);g[9]=M-w;g[2]=v-l;g[6]=M+w;g[10]=1-(f+k);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;n.setPosition(h);r.B(m).inverse();g=q.B(h);M=g.x;w=g.y;K=g.z;f=r.x;C=r.y;L=r.z;A=r.w;v=A*M+C*K-L*w;k=A*w+L*M-f*K;l=A*K+f*w-C*M;M=-f*M-C*w-L*K;g.x=v*A+M*-f+k*-L-
l*-C;g.y=k*A+M*-C+l*-f-v*-L;g.z=l*A+M*-L+v*-C-k*-f;for(g=1;17>g;++g)H[g]=n.elements[g-1];H[17]=q.x;H[18]=q.y;H[19]=q.z;B.Xf(H)},Mn:function(g){u=g;B.Xf([6])}};return B}();wc.h();var vc=function(){function a(r){var h=r.split(":").shift();return"data"===h||"blob"===h?r:("undefined"!==typeof J&&J.Y?J:S).Y+S.Mm+r}function b(r,h){return Math.min(h+r+h*r,1)}var e=!1,d=null,n=1,m={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],N:null};return{h:function(){d=X.instance({width:1,height:1,isMipmap:!1,A:4,array:new Uint8Array([255,255,255,255]),Ac:!1})},We:function(){e=!0;n=2},instance:function(r){function h(x){function G(){++O===I&&x&&x()}var I=1,O=0;(p=y.normalTexture&&aa.Lk()?!0:!1)&&!f.Pa&&(++I,f.Pa=X.instance({url:a(y.normalTexture),isLinear:!0,isMipmap:!0,Wh:aa.ym(),isPot:!0,A:3,N:G}));(E=y.diffuseTexture&&""!==y.diffuseTexture?!0:!1)&&!f.da?(++I,
f.da=X.instance({url:a(y.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Wh:!0,Ac:!1,Rb:!1,pm:!1,A:4,N:G}),g="s97"):f.da||(g="s98",f.da=d);B=[y.diffuseColor[0]/255,y.diffuseColor[1]/255,y.diffuseColor[2]/255];(C=y.paramsTexture?!0:!1)&&!f.vb&&(y.paramsTexture===y.diffuseTexture?f.vb=f.da:(++I,f.vb=X.instance({url:a(y.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Wh:!0,Ac:!1,Rb:!1,pm:!1,A:4,N:G})));G()}function q(x){"number"===typeof y.alpha?(H[0]=y.alpha,H[1]=0,H[2]=0,H[3]=0):(H[0]=y.alpha[0],
H[1]=y.alpha[1]-y.alpha[0],H[2]=y.alpha[2],H[3]=y.alpha[3]);var G=1<=y.fresnelPow?y.fresnelMin:y.fresnelMax;u[0]=b(H[0],G);u[1]=b(H[1],G);u[2]=H[2];u[3]=H[3];L={Bi:y.fresnelMax,mi:[y.fresnelMin,y.roughness,y.fresnelPow/15,y.metalness],pi:y.paramsMapMask};x=y.N?y.N.bind(null,x):null;h(x);p||C||E?p||C?p&&!C?(A="s92NormalMap",v="s92NNGLtextureNormalMap"):!p&&C?(A="s92ParamsMap",v="s92NNGLtextureParamsMap"):(A="s92NormalParamsMap",v="s92NNGLtextureNormalParamsMap"):(A="s92",v="s92NNGLtexture"):(A="s92color",
v="s92NNGLcolor");k=p?"s100":"s99";M=p?"s94":"s104";K=C?"s102":"s101";w=C?"s95":"s105"}var p,E,H=[1,0,0,0],u=[0,0,0,0],y=Object.assign({},m,r),B=null,g=null,f={da:null,Pa:null,vb:null},C=p=E=!1,L=null,A=null,v=null,k=null,M=null,K=null,w=null,l={update:function(x){Object.assign(y,x);q()},Bc:function(){return p},zm:function(){return.99>H[0]},Tl:function(){return M},Sl:function(){return k},Pl:function(){return w},Ol:function(){return K},Rl:function(){return A},Ql:function(){return v},jd:function(){p&&
f.Pa.a(0)},jl:function(x){e&&F.set(g);x?F.Ra():F.$a();E&&F.Kc();l.hd()},hd:function(){E&&(F.C("u64",y.colorTextureUsage),f.da.a(0));F.mg("u137",B)},oh:function(){C&&(f.vb.a(0),F.za("u66",L.pi),F.Kc());F.za("u102",L.mi);F.C("u138",L.Bi)},lh:function(x){C&&!p?f.vb.a(n):p&&(E||d.a(0),f.Pa.a(n),C&&f.vb.a(n+1));C&&F.za("u66",L.pi);E||p?F.In():x?F.Jn():F.Kn();l.hd();F.za("u7",H);F.za("u102",L.mi);F.C("u138",L.Bi)},gl:function(){F.za("u7",H)},hl:function(){F.za("u7",u)},H:function(){E&&f.da.remove();p&&
f.Pa.remove();C&&y.paramsTexture!==y.diffuseTexture&&f.vb.remove()}};q(l);return l}}}(),wb=function(){var a=0,b=0,e=0,d=0,n=0,m=0,r=S.rk,h=S.qk,q=S.sk,p=0,E=0,H=null,u=null,y=0,B=0,g=0,f=0,C=0,L=null,A=0,v=0,k=0,M=Date.now(),K=null,w=!1,l=!1,x=!1,G=1,I=!1,O={h:function(){a=S.lk[aa.P()];b=S.kk[aa.P()];e=S.jk[aa.P()];v=S.mk[aa.P()];d=S.dk[aa.P()];n=S.hk[aa.P()];g=S.ik[aa.P()];f=aa.I();C=aa.V();p=Math.round(f*a);E=Math.round(C*a);u=xa.instance({width:p,height:E,yc:!1});H=X.instance({width:p,height:E,
isPot:!1,isLinear:!0});L=X.instance({width:p,height:E,isPot:!1,isLinear:!0,A:1});w=!0},resize:function(T,ba,ia){G=ia;f=T;C=ba;p=Math.round(T*a);E=Math.round(ba*a);u.resize(p,E);l=!0},S:function(){var T=Math.exp(-(Date.now()-M)/v);x?A=k+(1-T)*(1-k):A=k*T;y=b+A*(e-b);B=d+(1-A)*(1-d);m=n+(1-A)*(1-n);X.X(5);if(l&&w)X.X(6),L.resize(p,E),F.set("s0"),F.Td("u1",6),u.bind(!1,!0),L.i(),u.Fe(),H.a(6),W.g(!0,!0),H.resize(p,E),H.i(),L.a(6),W.g(!1,!1),F.Td("u1",0),l=!1;else{c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_SRC_ALPHA);T=y/g;c.blendColor(T,T,T,T);c.colorMask(!0,!1,!1,!0);F.set("s84");mb.Ue();F.C("u118",y);v&&(F.C("u119",B),F.C("u111",m));var ba=G*(r+Math.pow(Math.random(),q)*(h-r));F.L("u8",ba/f,ba/C);u.Ug();u.Nc();H.i();ba=2*Math.PI*Math.random();for(var ia=!0,P=0;P<g;++P)1===P&&(c.blendFunc(c.SRC_ALPHA,c.ONE),F.C("u118",T)),F.C("u117",ba+P/g*(Math.PI/2)),F.L("u116",(Math.random()-.5)/f,(Math.random()-.5)/C),W.g(ia,ia),ia=!1;c.disable(c.BLEND);F.set("s85");F.L("u8",1/p,1/E);L.i();H.a(7);
W.g(!1,!1);c.colorMask(!0,!0,!0,!0)}},a:function(T){L.a(T)},enable:function(){I=!0},$m:function(){if(x||!I)return!1;K&&clearTimeout(K);O.Rd();K=setTimeout(O.Cj,400)},Rd:function(){K&&(clearTimeout(K),K=!1);!x&&I&&(window.T.disable(),x=!0,M=Date.now(),k=A)},Cj:function(){x&&I&&(K&&(clearTimeout(K),K=null),window.T.enable(),x=!1,M=Date.now(),k=A)},H:function(){H.remove();L.remove();u.remove()}};O.$m();return O}(),kd={instance:function(a){var b=a.ia.I(),e=a.sm?!0:!1,d=e?"s67":"s12",n=X.instance({isFloat:a.ia.di()&&
za.ba()&&!e,O:a.ia.ei()&&!e,isLinear:!0,isMipmap:!1,isPot:!1,width:b,height:b,A:e?4:3}),m=X.instance({isFloat:a.ia.di()&&za.ba(),O:a.ia.ei(),isPot:!0,width:1,height:b/2,A:3});m.i();F.set("s78");a.ia.a(0);W.g(!0,!0);var r=Math.round(Math.log(b)/Math.log(2));n.mn=function(){n.i();F.set(d);F.C("u82",S.$b);a.ia.a(0);m.a(1);for(var h=0,q=0;q<=r;++q){var p=Math.pow(2,r-q),E=p/2;c.viewport(0,h,b,E);F.L("u80",b/p,1);F.C("u81",Math.min(6/E,.6));h+=p/2;W.g(0===q,0===q)}};n.pn=n.remove;n.remove=function(){n.pn();
m.remove()};return n}};ua.kb=function(){var a={Pd:45,cg:1,ac:"../../images/debug/picsou.png",dg:.8,Ff:3.14/6,Gf:.314,Hf:4,Df:.5,Ef:-.25,Dm:1,ta:256,Cf:.15},b={Mb:null,nd:null,screen:null},e=!1,d=!1,n=-1,m=null,r=null,h=null,q=Math.PI/180,p=[1,1],E={h:function(H){n=H.width;H={isFloat:za.ba(),O:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:n,height:n/2,A:3};b.Mb=X.instance(H);b.nd=X.instance(H);F.f("s106",[{type:"1i",name:"u145",value:0}]);F.f("s107",[{type:"1i",name:"u150",value:0}]);E.xo()},
xo:function(){F.f("s107",[{type:"1f",name:"u151",value:a.Ff},{type:"1f",name:"u152",value:a.Gf},{type:"1f",name:"u153",value:a.Hf},{type:"1f",name:"u154",value:a.Df},{type:"1f",name:"u155",value:a.Ef}])},Op:function(){return d},sa:function(H){m=H},Hc:function(){r="uniform sampler2D u145;uniform vec2 u146,u147,u4;uniform int u148;uniform float u149,u131;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u4*(c-u146)/u147;float b=1.;if(u148==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u149*g,texture2D(u145,a).rgb*u131,b*g);gl_FragColor=vec4(d,1.);}";
h="uniform sampler2D u150;uniform float u151,u152,u153,u154,u155;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u150,vec2(.5,.5));float d=a.r,j=u153*a.g,k=u154*(a.b+u155),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u151-u152,u151+u152,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";F.oa("s106",{name:"_",
b:r,c:"u145 u146 u148 u147 u149 u131 u4".split(" "),precision:"highp"});F.oa("s107",{name:"_",b:h,c:"u150 u151 u152 u153 u154 u155".split(" "),precision:"highp"})},rg:function(H,u,y,B,g,f,C){F.L("u146",u,y);F.Td("u148",B?1:0);F.L("u147",g,g/f);F.jj("u4",C);H.a(0);W.g(!1,!1)},Vj:function(H){c.viewport(0,0,a.ta,a.ta/2);F.set("s107");H.a(0);W.g(!1,!1)},Yl:function(){return b.Mb},Gk:function(H){E.h({width:a.ta});E.Fj(H,!1,1);d=!0},Fk:function(){e&&b.screen.Zl()===a.ac||(e=!1,b.screen=X.instance({url:a.ac,
isFloat:!1,N:function(){e=!0}}))},ig:function(H){Object.assign(a,H)},Fj:function(H,u,y){var B=a.ta;xa.fa();b.nd.K();F.set("s0");b.Mb.a(0);W.g(!0,!0);b.Mb.i();F.set("s106");F.C("u149",a.Cf);F.C("u131",a.Dm);E.rg(H,Math.PI,0,!0,90*q,H.I()/H.V(),p);e&&(F.C("u131",a.dg),c.viewport(0,0,B/2,B/2),E.rg(b.screen,0,0,!1,2*a.Pd*q,2*a.cg,p),c.viewport(B/2,0,B/2,B/2),E.rg(b.screen,2*Math.PI,0,!1,2*a.Pd*q,2*a.cg,p));c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE);u&&E.Vj(u);F.set("s0");c.blendColor(0,0,0,1-y);c.blendFunc(c.CONSTANT_ALPHA,
c.ONE_MINUS_CONSTANT_ALPHA);b.nd.a(0);W.g(!1,!1);c.disable(c.BLEND);m.ej(b.Mb)},u:function(){Object.assign(b,{Mb:null,nd:null,screen:null});d=e=!1;n=-1;m=null}};return E}();ua.lb=function(){var a=!1,b=!0,e=!1,d=!1,n={Hc:function(){aa.W()&&(F.oa("s108",{name:"_",j:"attribute vec3 a0;uniform sampler2D u39;uniform vec2 u40;uniform vec3 u133;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.,1.);const vec3 o=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,p);vec2 f=u76*e;vec3 c=u76*o;vec2 t=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,q).rgb+vec3(u70,0.,0.),u73,c);float u=mix(texture2D(u39,r).r,0.,u76);a.z+=u;mat3 v=s(a);vec3 w=mix(u133,u74,c);float x=mix(l,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u72,1.,u76);vec2 j=u71/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u76);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(D,1.));}",
b:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",c:["u39","u40","u69","u133"].concat(F.ef(),F.ff()),D:["a0"],M:[3],$:!0}),a=!0)},h:function(m){a&&F.f("s108",[{type:"1i",name:"u39",value:1},{type:"3f",name:"u69",value:m.Ga},{type:"1f",name:"u70",value:0},{type:"1f",name:"u78",value:1}].concat(m.Dg))},cb:function(m){d=m;e&&n.Oh()},bb:function(m){e=m;d&&n.Oh()},Oh:function(){aa.W()&&(F.f("s108",[{type:"3f",
name:"u133",value:[e[0]*d,e[1]*d,e[2]*d]}]),F.F())},im:function(m){for(var r=m.width/2,h=m.height/2,q=m.depth,p=m.tl,E=m.height/4,H=m.Vk,u=2*H+4,y=[],B=[],g=-r+m.Ua,f=-p-m.Ua,C=r-m.Ua,L=-p-m.Ua,A=0;A<u;++A){var v=0,k=0;0===A?(v=-r,k=-p-q):1<=A&&A<=1+H?(k=(A-1)/H*Math.PI/2,v=g-Math.cos(k)*m.Ua,k=f+Math.sin(k)*m.Ua):A>=2+H&&A<=2+2*H?(k=(A-2-H)/H*Math.PI/2,v=C+Math.sin(k)*m.Ua,k=L+Math.cos(k)*m.Ua):A===u-1&&(v=r,k=-p-q);y.push(v,h+E,k,v,-h+E,k);0!==A&&B.push(2*A,2*A-2,2*A-1,2*A,2*A-1,2*A+1)}return n.instance({ea:y,
R:B})},toggle:function(m){b=m},instance:function(m){var r=W.instance({ea:m.ea,R:m.R});return{S:function(){a&&b&&(F.set("s108"),r.bind(!0),r.S())}}}};return n}();ua.ja=function(){var a={lf:-87,cm:[85,95],Nh:[90,90],Mh:[85,70],cd:24,Wk:12,Xk:2,Yf:[-80,10],Lh:[40,140],xd:[1,8],bm:80,xi:[-120,-10],Rm:2,Vd:[0,-15],me:1024,hb:256,Id:4,ho:[6,30],wi:1.2};a.Hi=a.Yf;var b=!1,e=!1,d=!1,n=null,m=null,r=null,h=null,q=null,p=null,E=!1,H=!1,u=null,y=null,B=null,g=null,f=.5,C=[{type:"1f",name:"u157",value:1}],L=
null,A=null,v=null,k=null,M=null,K={Ul:function(){return{name:"_",j:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u39;uniform vec2 u40;uniform float u134;uniform vec3 u133;const float o=0.,p=0.;const vec2 e=vec2(1.,1.);const vec3 q=vec3(1.,1.,1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,r);vec2 f=u76*e;vec3 c=u76*q;vec2 v=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,s).rgb+vec3(u70,0.,0.),u73,c);float w=mix(texture2D(u39,t).r,0.,u76);a.z+=w;mat3 h=u(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 k=u71/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u76);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
b:"uniform sampler2D u164,u150;uniform vec2 u80,u165;uniform float u166,u157;varying vec2 vv0;varying float vv1;void main(){vec2 b=u165*u166+u80*vv0;vec4 a=u157*texture2D(u164,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",c:"u39 u164 u150 u40 u69 u166 u165 u134 u133 u80 u157".split(" ").concat(F.ef(),F.ff()),D:["a0","a2","a1"],M:[3,3,2],precision:"lowp"}},Hc:function(){F.oa("s109",{name:"_",j:"attribute vec3 a0;uniform vec3 u133;uniform vec2 u158,u159;uniform float u134,u160,u161,u162;varying float vv0,vv1;void main(){vec3 a=(a0+u133)*u134;float b=atan(a.x,a.z-u160),d=2.*(a.y-u161)/(u162-u161)-1.;vv0=a0.y;float g=1.-u158.x*u158.x/(u158.y*u158.y),c=u158.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u160);vv1=smoothstep(u159.x,u159.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
b:"uniform float u163;uniform vec4 u7;varying float vv0,vv1;void main(){float a=u7.x+u7.y*smoothstep(-u7.w,-u7.z,vv0),b=min(a,1.)*u163;gl_FragColor=vec4(b,vv1,1.,1.);}",c:"u134 u133 u158 u159 u160 u161 u162 u7 u163".split(" "),D:["a0"],M:[3],precision:"highp"});F.oa("s110",K.Ul());F.oa("s111",{name:"_",b:"uniform sampler2D u1;uniform vec2 u8;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u8),c=texture2D(u1,vv0-2.*u8),d=texture2D(u1,vv0-u8),f=texture2D(u1,vv0+u8),g=texture2D(u1,vv0+2.*u8),h=texture2D(u1,vv0+3.*u8);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
c:["u1","u8"],precision:"lowp"});b=!0},h:function(w){if(b){if(void 0===w.fc||!w.fc)return!1;if(e)K.$i(w);else{h=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.me,height:a.me/4,A:4});var l=a.hb/4,x={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.hb,height:l,A:4};r=X.instance(x);p=X.instance(x);q=X.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.hb,height:l*a.Id,A:4});l=.5-.5/w.hc[1];x=.5+.5/w.hc[1];for(var G=a.Wk+1,I=[],O=[],T=new Float32Array(16*a.cd),ba=new Uint16Array(6*
(a.cd-1)),ia=0,P=0,t=0,z=0;z<a.cd;++z){var D=2*z/(a.cd-1)-1;D=Math.sign(D)*Math.pow(Math.abs(D),a.Xk);D=Math.PI*(D+1)/2-Math.PI/2;var R=Math.sin(D),ca=Math.cos(D),ja=Math.sin(D*a.wi),pa=Math.cos(D*a.wi),ra=D/(Math.PI*w.hc[0])+.5,Qa=a.Mh[0]*R,Ma=a.Hi[0],Oa=a.Mh[1]*ca+a.lf,la=ra,ha=l,V=a.Nh[0]*R,ea=a.Hi[1],ya=a.Nh[1]*ca+a.lf,La=x,Ja=16*z;T[Ja]=V;T[Ja+1]=ea;T[Ja+2]=ya;T[Ja+3]=ja;T[Ja+4]=0;T[Ja+5]=pa;T[Ja+6]=ra;T[Ja+7]=La;T[Ja+8]=Qa;T[Ja+9]=Ma;T[Ja+10]=Oa;T[Ja+11]=ja;T[Ja+12]=0;T[Ja+13]=pa;T[Ja+14]=la;
T[Ja+15]=ha;0!==z&&(la=2*z,ha=6*(z-1),ba[ha]=la,ba[ha+1]=la-1,ba[ha+2]=la-2,ba[ha+3]=la,ba[ha+4]=la+1,ba[ha+5]=la-1);ha=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Lh[0]*Qa,-Math.PI),Math.PI))),a.Rm);Ma-=a.bm*ha;la=a.Lh[1]*ha;Qa-=R*a.xd[0];Oa-=ca*a.xd[1];V-=R*a.xd[0];ya-=ca*a.xd[1];R=.001>ha?2:G;for(ca=0;ca<R;++ca)ha=ca/(R-1),ra=Ma*(1-ha)+ea*ha,La=a.xi[0],La=Math.min(Math.max((ra-La)/(a.xi[1]-La),0),1),La=La*La*(3-2*La),I.push(Qa*(1-ha)+V*ha,ra,(Oa+la*Math.exp(400*-Math.abs(D)*Math.pow(ha,
4)))*(1-La)+ya*La,ja,0,pa,0,0);D=0===z?0:2<R&&2<P?R-1:1;for(ja=1;ja<=D;++ja)pa=R>P?R-2:0,O.push(ia+ja+pa,ia+ja-1,t+ja-1,t+ja-1,t+ja+(R<P?P-2:0),ia+ja+pa);P=R;t=ia;ia+=R}k=W.instance({ea:new Float32Array(I),R:new Uint16Array(O)});M=W.instance({ea:T,R:ba});K.$i(w);F.f("s111",[{type:"1i",name:"u1",value:0}]);e=!0}}},$i:function(w){f=w.ao;g=w.Wd;L=[{type:"1i",name:"u39",value:1},{type:"1i",name:"u164",value:0},{type:"1i",name:"u150",value:2},{type:"3f",name:"u69",value:[w.Ga[0],w.Ga[1]-a.Vd[0],w.Ga[2]+
a.Vd[1]]},{type:"1f",name:"u166",value:w.bo},{type:"2f",name:"u80",value:[1,1/a.Id]},{type:"2f",name:"u165",value:[0,1/a.Id]},{type:"1f",name:"u157",value:1}].concat(w.Dg,w.Bj);F.f("s110",L)},cc:function(w){n=w},bc:function(w){A=w;A.Jb(K.uc)},fi:function(){return d&&null!==A&&null!==v},uc:function(){if(!(d||H&&E)||null===A||null===v)return!1;c.viewport(0,0,a.me,a.me/4);xa.fa();h.i();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);F.f("s109",[{type:"1f",name:"u160",value:a.lf},{type:"1f",name:"u161",
value:a.Yf[0]},{type:"1f",name:"u162",value:a.Yf[1]},{type:"3f",name:"u133",value:[u[0]+y[0],u[1]+y[1],u[2]+y[2]]},{type:"1f",name:"u163",value:f},{type:"2f",name:"u158",value:a.cm},{type:"2f",name:"u159",value:a.ho}]);A.sl();F.set("s1");var w=a.hb/4;c.viewport(0,0,a.hb,w);r.i();h.a(0);h.qd();W.g(!0,!0);for(var l=0;l<a.Id;++l)F.set("s111"),0!==l&&c.viewport(0,0,a.hb,w),p.i(),r.a(0),F.L("u8",1/a.hb,0),W.g(!1,!1),r.i(),p.a(0),F.L("u8",0,1/w),W.g(!1,!1),a.Yk&&c.colorMask(0===l,1===l,2===l,!0),F.set("s1"),
q.i(),r.a(0),c.viewport(0,l*w,a.hb,w),W.g(!1,!1),a.Yk&&c.colorMask(!0,!0,!0,!0);return d=!0},S:function(){K.fi()&&(v.bind(!1,!1),m.i(),c.clearColor(0,0,0,0),c.enable(c.DEPTH_TEST),c.depthMask(!0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),F.set("s110"),n.a(1),q.a(0),k.bind(!0),k.S(),M.bind(!0),M.S(),c.disable(c.DEPTH_TEST),c.depthMask(!1))},add:function(){K.fi()&&(c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),m.a(0),W.g(!1,!1),c.disable(c.BLEND))},fg:function(w,l){v=xa.instance({width:w,
height:l,yc:!0});m=X.instance({width:w,height:l,isFloat:!1,isPot:!1});K.uc()},bb:function(w,l,x){w||(w=u,l=y,x=B);F.f("s110",[{type:"3f",name:"u133",value:[x[0]+g[0],x[1]+g[1]-a.Vd[0],x[2]+g[2]+a.Vd[1]]}]);u=w;y=l;B=x;H=!0;!d&&E&&K.uc();F.F()},cb:function(w,l){F.f("s109",[{type:"1f",name:"u134",value:w}]);F.f("s110",[{type:"1f",name:"u134",value:l}]);E=!0;!d&&H&&K.uc();F.F()},jg:function(w){F.f("s110",[{type:"1f",name:"u70",value:w}]);F.F()},zb:function(w){w&&(A=w);K.uc()},kg:function(w,l){C[0].value=
1-w;F.f("s110",C);F.f("s110",l)},H:function(){},u:function(){d=e=b=!1;p=q=h=r=m=n=null}};return K}();ua.ra=function(){var a=!1,b=null,e=0,d=0,n=0,m=[{type:"1f",name:"u157",value:1}],r=null,h=null,q=null,p={Hc:function(){F.oa("s112",{name:"_",j:"attribute vec3 a0;uniform vec2 u167,u168;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u168)/u167;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",b:"uniform vec2 u169;uniform float u170,u171,u172;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u170,u171),a=vv0-b,c=u172*a,d=(c-a)*u169;gl_FragColor=vec4(d,0.,1.);}",
c:"u167 u168 u170 u171 u172 u169".split(" "),D:["a0"],M:[3],precision:"highp"});F.oa("s113",{name:"_",j:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u39;uniform vec3 u133;uniform vec2 u40,u167,u168;uniform float u134;const float n=0.,o=0.;const vec2 e=vec2(1.,1.);const vec3 p=vec3(1.,1.,1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u67;uniform vec3 u69,u73,u74,u75;uniform float u68,u76,u77,u70,u71,u72,u78;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u39,q);vec2 f=u76*e;vec3 c=u76*p;vec2 u=mix(d.a*u40,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u39,r).rgb+vec3(u70,0.,0.),u73,c);float v=mix(texture2D(u39,s).r,0.,u76);a.z+=v;mat3 w=t(a);vec3 x=mix(u133,u74,c);float y=mix(u134,u77,u76);vec3 b=mix(u69,u75,c);b.x+=u68*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u72,1.,u76);vec2 j=u71/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u76);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u67*(vec4(u78*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u168)/u167,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
b:"uniform sampler2D u173,u174;uniform float u157;varying vec2 vv0,vv1;void main(){vec2 a=u157*texture2D(u173,vv0).rg;gl_FragColor=texture2D(u174,a+vv1);}",c:"u157 u39 u173 u174 u167 u168 u40 u69 u134 u133".split(" ").concat(F.ef(),F.ff()),D:["a0"],M:[3],precision:"lowp"});a=!0},h:function(E){if(a){if(void 0===E.fc||!E.dd)return!1;h=X.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,A:4});q=xa.instance({width:256,height:128});F.f("s113",[{type:"1i",name:"u39",value:1},{type:"1i",
name:"u173",value:2},{type:"1i",name:"u174",value:0},{type:"3f",name:"u69",value:E.Ga},{type:"1f",name:"u157",value:1}].concat(E.Bj,E.Dg));d=E.Ne;n=E.Me;e=E.Oe}},cc:function(E){b=E},bc:function(E){r=E;r.Jb(p.Ie)},Ie:function(){c.viewport(0,0,256,128);q.i();h.i();var E=r.Vl(),H=r.Wl(),u=[{type:"2f",name:"u167",value:[E,H]},{type:"2f",name:"u168",value:[r.Bl(),r.Cl()]}];F.f("s112",u.concat([{type:"1f",name:"u170",value:d},{type:"1f",name:"u171",value:n},{type:"1f",name:"u172",value:e},{type:"2f",name:"u169",
value:[1/E,-1/H]}]));r.kh();F.f("s113",u)},S:function(){F.set("s113");b.a(1);h.a(2);r.kh()},bb:function(E){F.f("s113",[{type:"3f",name:"u133",value:E}]);F.F()},cb:function(E){F.f("s113",[{type:"1f",name:"u134",value:E}]);F.F()},jg:function(E){F.f("s113",[{type:"1f",name:"u70",value:E}]);F.F()},$n:function(E){e=E;p.Ie();F.F();ta.animate(Date.now())},zb:function(E){E&&(r=E);p.Ie()},kg:function(E,H){m.u157=1-E;F.f("s113",m);F.f("s113",H)},H:function(){}};return p}();ua.mc=function(){var a=[0,-.5],b=
!1,e=!1,d=null,n=null,m=null,r=null,h=null,q=-1,p=-1;return{Hc:function(){F.oa("s114",{name:"_",j:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40,u5;uniform float u4;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u39,vec2(.25,.5));vec2 b=a.a*u40,c=2.*a.gb-f,d=u5+a0*u4;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",b:"uniform sampler2D u175;varying vec2 vv0;void main(){gl_FragColor=texture2D(u175,vv0);}",c:["u39","u175","u40","u5","u4"],precision:"lowp"});
F.oa("s115",{name:"_",b:"uniform sampler2D u2,u176,u177;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u177,vv0).rgb,c=texture2D(u176,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",c:["u2","u177","u176"],precision:"lowp"});b=!0},h:function(E){b&&(h=X.instance({isFloat:!1,isPot:!0,url:E.Ae,N:function(){e=!0}}),F.f("s114",[{type:"1i",name:"u39",value:1},{type:"1i",name:"u175",value:0},{type:"2f",name:"u40",value:E.Kj},{type:"2f",name:"u5",value:a},
{type:"1f",name:"u4",value:3.8}]),F.f("s115",[{type:"1i",name:"u176",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u177",value:2}]))},cc:function(E){n=E},fg:function(E,H){var u={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:E,height:H,A:4};q=2/E;p=2/H;m=X.instance(u);r=X.instance(u);d=xa.instance({width:E,height:H})},S:function(E,H){if(e){d.bind(!1,!0);F.set("s77");for(var u=0;2>u;++u){F.L("u8",q,0);m.i();0!==u&&r.a(0);var y=0===u&&!S.aa;W.g(y,y);F.L("u8",0,p);r.i();m.a(0);W.g(!1,!1)}F.set("s114");
n.a(1);h.a(0);m.i();c.clearColor(1,0,0,1);c.clear(c.COLOR_BUFFER_BIT);W.g(!1,!1);F.set("s115");H.i();r.a(0);m.a(1);E.a(2);W.g(!1,!1)}},H:function(){}}}();var Fc=function(){var a={instance:function(b){var e=b.si,d=b.ri,n=b.Le,m=b.background?b.background:X.Ih(),r=b.Za,h={scale:1,offsetX:0,offsetY:0},q=null;b.Lf&&(h.scale=b.Lf.scale,h.offsetY=b.Lf.offsetY);return{Eh:function(){return r},yh:function(){return m},set:function(){q=eb.Ml();eb.fj(h);eb.ee();eb.fe();ta.Zi(n,m,!1,!1)},F:function(){eb.fj(q)},
Jc:function(){return{modelURL:e,materialsURLs:d,background:m.Jc(!1),Le:n.Jc(!1),Za:r.Jc(!0)}},Xo:function(p){m.a(p)}}},Qc:function(b,e,d){function n(){if(3===++q&&e){var p=a.instance({si:b.modelURL,ri:b.materialsURLs,background:m,Le:r,Za:h});e(p)}}var m=null,r=null,h=null,q=0;X.Qc(b.background,function(p){!p&&d?d():(m=p,n())});X.Qc(b.dataState,function(p){!p&&d?d():(r=p,n())});X.Qc(b.light,function(p){!p&&d?d():(h=p,n())})}};return a}();return Wa||window.JEELIZVTO}();(function(U,Aa){"function"===
typeof define&&define.amd?define(Aa):"object"===typeof exports?module.exports=Aa():U.ResizeSensor=Aa()})("undefined"!==typeof window?window:this,function(){function U(Ia,jb){var Xa=Object.prototype.toString.call(Ia),Db=0,Ea=Ia.length;if("[object Array]"===Xa||"[object NodeList]"===Xa||"[object HTMLCollection]"===Xa||"[object Object]"===Xa||"undefined"!==typeof jQuery&&Ia instanceof jQuery||"undefined"!==typeof Elements&&Ia instanceof Elements)for(;Db<Ea;Db++)jb(Ia[Db]);else jb(Ia)}if("undefined"===
typeof window)return null;var Aa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Ia){return window.setTimeout(Ia,20)},Pa=function(Ia,jb){function Xa(){var Ea=[];this.add=function(xb){Ea.push(xb)};var ab,ob;this.call=function(){ab=0;for(ob=Ea.length;ab<ob;ab++)Ea[ab].call()};this.remove=function(xb){var yb=[];ab=0;for(ob=Ea.length;ab<ob;ab++)Ea[ab]!==xb&&yb.push(Ea[ab]);Ea=yb};this.length=function(){return Ea.length}}function Db(Ea,ab){if(Ea)if(Ea.resizedAttached)Ea.resizedAttached.add(ab);
else{Ea.resizedAttached=new Xa;Ea.resizedAttached.add(ab);Ea.resizeSensor=document.createElement("div");Ea.resizeSensor.className="resize-sensor";Ea.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Ea.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Ea.appendChild(Ea.resizeSensor);Ea.resizeSensor.offsetParent!==Ea&&(Ea.style.position="relative");var ob=Ea.resizeSensor.childNodes[0],xb=ob.childNodes[0],yb=Ea.resizeSensor.childNodes[1],Fb,Ub,zb,Mb,hc=Ea.offsetWidth,Vb=Ea.offsetHeight,Wb=function(){xb.style.width="100000px";xb.style.height="100000px";ob.scrollLeft=1E5;ob.scrollTop=1E5;yb.scrollLeft=1E5;yb.scrollTop=1E5};Wb();var ic=function(){Ub=0;Fb&&(hc=zb,Vb=Mb,Ea.resizedAttached&&Ea.resizedAttached.call())};ab=function(){zb=Ea.offsetWidth;Mb=
Ea.offsetHeight;(Fb=zb!=hc||Mb!=Vb)&&!Ub&&(Ub=Aa(ic));Wb()};var Xb=function(Yb,jc,Gb){Yb.attachEvent?Yb.attachEvent("on"+jc,Gb):Yb.addEventListener(jc,Gb)};Xb(ob,"scroll",ab);Xb(yb,"scroll",ab)}}U(Ia,function(Ea){Db(Ea,jb)});this.detach=function(Ea){Pa.detach(Ia,Ea)}};Pa.detach=function(Ia,jb){U(Ia,function(Xa){if(Xa){if(Xa.resizedAttached&&"function"==typeof jb&&(Xa.resizedAttached.remove(jb),Xa.resizedAttached.length()))return;Xa.resizeSensor&&(Xa.contains(Xa.resizeSensor)&&Xa.removeChild(Xa.resizeSensor),
delete Xa.resizeSensor,delete Xa.resizedAttached)}})};return Pa});var gc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},ib={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ta={isRT:!0,sku:void 0,mode:ib.notLoaded},bc=-1,cc=-1,dc=-1,ec=-1,Nc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},sa=Object.assign({},Nc),ld={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,LOADING_END:null},
xc=null,Lb={enabled:!1,callback:null,interval:1E3},pc={error:!1},ac=null,Tb=null,rb={start:function(U){console.log("INFO in JeelizVTOWidget.js: start()");if(Ta.mode!==ib.notLoaded)rb.resume();else{na();if(U.settings)for(var Aa in U.settings)gc[Aa]=U.settings[Aa];U.NNCPath&&Wa.set_NNCPath(U.NNCPath);U.faceDetectionCallback&&(Lb.enabled=!0,Lb.callback=U.faceDetectionCallback,Lb.interval="undefined"===typeof U.faceDetectionInterval?1E3:U.faceDetectionInterval);xc=Object.assign({},ld,U.callbacks||{});
sa.container=U.placeHolder||document.getElementById("JeelizVTOWidget");if(!sa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");sa.cv=U.canvas||document.getElementById("JeelizVTOWidgetCanvas");sa.cv||(sa.cv=document.createElement("canvas"),sa.container.appendChild(sa.cv));sa.loading=document.getElementById("JeelizVTOWidgetLoading");U.onError&&(pc.error=U.onError);Sb();if(!qb(sa.container))return hb("PLACEHOLDER_NULL_WIDTH"),!1;if(!ma(sa.container))return hb("PLACEHOLDER_NULL_HEIGHT"),
!1;Eb();new ResizeSensor(sa.container,function(Pa){Eb()});(U.searchImageMask||U.searchImageColor||U.searchImageRotationSpeed)&&Wa.set_loading(U.searchImageMask,U.searchImageColor,U.searchImageRotationSpeed);U.callbackReady&&(Tb=U.callbackReady);Ta.mode=ib.init;Aa="undefined"===typeof U.assetsPath?gc.appstaticURL+"jeefit/":U.assetsPath;"undefined"!==typeof U.catalog&&(ac=U.catalog);if(U.onWebcamGet)Wa.onWebcamGet(U.onWebcamGet);Wa.init(Aa,fa,Na,sa.cv);Wa.onHalfLoad(rb.load.bind(rb,U.sku?U.sku:null));
return!0}},destroy:function(){return Wa.destroy().then(function(){Ta.mode=ib.notLoaded;Ta.sku=void 0;Tb=ac=null;Object.assign(sa,Nc)})},pause:function(U){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.paused;var Aa=Wa.switch_sleep(!0,U);return U?Aa:Promise.resolve(Aa)},resume:function(U){if(!Ta.isRT)return Promise.reject();Ta.mode=ib.realtime;var Aa=Wa.switch_sleep(!1,U);return U?Aa:Promise.resolve(Aa)},set_videoRotation:function(U){Ta.isRT&&Wa.set_videoRotation(U)},set_videoSizes:function(U,Aa,Pa,
Ia,jb,Xa){Ta.isRT&&Wa.set_videoSizes(U,Aa,Pa,Ia,jb,Xa)},resize:function(){Eb()},set_scale:function(U){Wa.set_scale(U)},capture_image:function(U,Aa,Pa){Wa&&Wa.ready?Wa.capture_image(U,Aa,Pa,!1):Aa(!1)},toggle_loading:function(U){U?(wa(sa.loading),fc("LOADING_START")):(Ha(sa.loading),fc("LOADING_END"))},load_modelStandalone:function(U,Aa){if(!Ta.isRT)throw Error("Loading standalone models is only available in RT mode");Ta.mode===ib.paused&&rb.resume();Ta.mode=ib.loadingModel;var Pa="undef";"string"===
typeof U?(Pa=U,Ba(U).then(function(Ia){Wa.set_modelStandalone(Ia,Aa,Pa)}).catch(Za)):(Pa="RANDOM_SKU_"+Date.now().toString(),Wa.set_modelStandalone(U,Aa,Pa));Ta.sku=Pa},load:function(U,Aa){rb.toggle_loading(!0);Ta.isRT&&rb.load_RT(U,Aa)},load_RT:function(U,Aa){U===Ta.sku?rb.toggle_loading(!1):(Ta.sku=U,Ta.mode=ib.loadingModel,Ta.mode===ib.paused&&rb.resume(),U?ac&&ac[U]?Kb(U,ac[U],Aa):Ba(gc.glassesDBURL+U).then(function(Pa){if(Pa.error)return Za();Kb(U,Pa.intrinsic,Aa)}).catch(Za):(Ta.mode=ib.realtime,
rb.toggle_loading(!1),Wa.start_rendering(),Aa&&Aa()))},enter_adjustMode:nb,exit_adjustMode:tb};return rb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.1.5",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode};
